(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();globalThis&&globalThis.__awaiter;class kt{static freezeSet(e){if(e instanceof Set){const t={configurable:!1,enumerable:!1,get:ie,set:ie};Object.defineProperty(e,"add",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}return e}static freezeMap(e){if(e instanceof Map){const t={configurable:!1,enumerable:!1,get:ie,set:ie};Object.defineProperty(e,"set",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}return e}static copyAllMembers(e,t){for(const n of Object.getOwnPropertyNames(e))t[n]=e[n];for(const n of Object.getOwnPropertySymbols(e))t[n]=e[n];return t}}function ie(...i){throw new Error("this method should never be called")}function hn(i){return new Promise(function(e){setTimeout(e.bind(null,()=>e),i)})}class Yi{constructor(e,t=!1){this.getKey=e,this.strict=t,this.map=new Map,this.tag=-1,this.current=new Gt,this.added=new Gt,this.removed=new Gt,this.lastNotFoundKey=void 0,this.strictNextItem=void 0}get isStrict(){return this.strict}set isStrict(e){if(this.isMergeInProgress&&this.current.count>0)throw new Error("cannot change strict mode in the middle of merge");this.strict=e}get count(){return this.current.count}get addedCount(){return this.added.count}get removedCount(){return this.removed.count}get isMergeInProgress(){return this.tag>0}lookup(e){let t;return e!==void 0&&e!==this.lastNotFoundKey&&(t=this.map.get(e),t?this.getKey(t.instance)!==e&&(this.lastNotFoundKey=e,t=void 0):this.lastNotFoundKey=e),t}claim(e,t,n){const s=this.tag;if(s<0)throw new Error(n??"merge is not in progress");let r=this.strictNextItem;if(e!==(r?this.getKey(r.instance):void 0)&&(r=this.lookup(e)),r)if(r.tag!==s)r.tag=s,this.strict&&r!==this.strictNextItem&&(r.status=s),this.strictNextItem=r.next,this.removed.exclude(r),this.current.include(r),t&&(t.isDuplicate=!1);else if(t)t.isDuplicate=!0;else throw new Error(`duplicate collection item: ${e}`);else t&&(t.isDuplicate=!1);return r}add(e){const t=this.getKey(e);if(this.lookup(t)!==void 0)throw new Error(`key is already in use: ${t}`);let n=this.tag;n<0&&(n=~this.tag+1,this.tag=~n);const s=new ki(e,n);return this.map.set(t,s),this.lastNotFoundKey=void 0,this.strictNextItem=void 0,this.current.include(s),this.added.aux(s),s}remove(e){const t=e;this.isRemoved(t)||(this.current.exclude(t),this.removed.include(t),t.tag--)}move(e,t){throw new Error("not implemented")}beginMerge(){if(this.isMergeInProgress)throw new Error("merge is in progress already");this.tag=~this.tag+1,this.strictNextItem=this.current.first,this.removed.grab(this.current,!1),this.added.reset()}endMerge(e){if(!this.isMergeInProgress)throw new Error("merge is ended already");if(this.tag=~this.tag,e===void 0){const t=this.current.count;if(t>0){const n=this.getKey;if(t>this.removed.count){const s=this.map;for(const r of this.removed.items())s.delete(n(r.instance))}else{const s=this.map=new Map;for(const r of this.current.items())s.set(n(r.instance),r)}}else this.map=new Map}else{this.current.grab(this.removed,!0);const t=this.getKey;for(const n of this.added.itemsViaAux())this.map.delete(t(n.instance)),this.current.exclude(n);this.added.reset()}}resetAddedAndRemovedLists(){this.removed.reset(),this.added.reset()}lastClaimedItem(){return this.current.last}*items(){let e=this.current.first;for(;e!==void 0;){const t=e.next;yield e,e=t}}*addedItems(e){let t=this.added.first;for(;t!==void 0;){const n=t.aux;this.isRemoved(t)||(yield t),t=n}e&&this.added.reset()}*removedItems(e){let t=this.removed.first;for(;t!==void 0;){const n=t.next;yield t,t=n}e&&this.removed.reset()}isAdded(e){const t=e;let n=this.tag;return n<0&&(n=~n),t.status===~n&&t.tag>0}isMoved(e){const t=e;let n=this.tag;return n<0&&(n=~n),t.status===n&&t.tag>0}isRemoved(e){const t=e,n=this.tag;return n>0?t.tag<n:t.tag<n-1}isCurrent(e){return e.tag===this.tag}markAsMoved(e){const t=e;t.tag>0&&(t.status=t.tag)}static createItem(e){return new ki(e,0)}}class ki{constructor(e,t){this.instance=e,this.tag=t,this.status=~t,this.next=void 0,this.prev=void 0,this.aux=void 0}}class Gt{constructor(){this.count=0,this.first=void 0,this.last=void 0}*items(){let e=this.first;for(;e!==void 0;){const t=e.next;yield e,e=t}}*itemsViaAux(){let e=this.first;for(;e!==void 0;){const t=e.aux;yield e,e=t}}reset(){this.count=0,this.first=void 0,this.last=void 0}grab(e,t){const n=e.first;if(t&&n){const s=this.last;n.prev=s,s?this.last=s.next=n:this.first=this.last=n,this.count+=e.count}else this.count=e.count,this.first=n,this.last=e.last;e.reset()}include(e){const t=this.last;e.prev=t,e.next=void 0,t?this.last=t.next=e:this.first=this.last=e,this.count++}exclude(e){e.prev!==void 0&&(e.prev.next=e.next),e.next!==void 0&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),this.count--}aux(e){e.aux=void 0;const t=this.last;t?this.last=t.aux=e:this.first=this.last=e,this.count++}}function fn(i,e){return u.isOn&&u.opt.error&&u.write("█"," ███",i,void 0," *** ERROR ***",e),new Error(i)}function J(i,e){const t=new Error(i);return u.write(" "," ███",i,void 0," *** ERROR / MISUSE ***",e??t),t}function gn(i){return u.write(" "," ███",i.message,void 0," *** FATAL ***",i),i}class u{static get opt(){return this.getMergedLoggingOptions(void 0)}static setMode(e,t){if(u.global=t||u.DefaultLevel,e){const n=u.global,s=Object.keys(u.global).filter(r=>n[r]===!0).join(", ");u.write("","",`Reactronic logging is turned on: ${s}`),u.write("","","Member-level logging can be configured with @options({ logging: ... }) decorator")}else u.isOn&&u.write("","","Reactronic logging is turned off");u.isOn=e}static write(e,t,n,s=0,r=void 0,o){u.writeAs(void 0,e,t,n,s,r,o)}static writeAs(e,t,n,s,r=0,o=void 0,a){const c=u.getMergedLoggingOptions(e),d="  ".repeat(c.margin1>=0?c.margin1:0),l="  ".repeat(c.margin2);(e&&e.enabled!==void 0?e.enabled:c.enabled)&&(console.log("\x1B[37m%s\x1B[0m \x1B["+c.color+"m%s %s%s\x1B[0m \x1B["+c.color+"m%s%s\x1B[0m \x1B["+c.color+"m%s\x1B[0m%s","",c.prefix,c.transaction?d:"",c.transaction?t:t.replace(/./g," "),l,n,s,(o!==void 0?`${o}`:"")+(r>2?`    [ ${r}ms ]`:"")),a&&console.log(a))}static merge(e,t,n,s){const r=e?{enabled:e.enabled!==void 0?e.enabled:s.enabled,transaction:e.transaction!==void 0?e.transaction:s.transaction,operation:e.operation!==void 0?e.operation:s.operation,step:e.step!==void 0?e.step:s.step,monitor:e.monitor!==void 0?e.monitor:s.monitor,read:e.read!==void 0?e.read:s.read,write:e.write!==void 0?e.write:s.write,change:e.change!==void 0?e.change:s.change,obsolete:e.obsolete!==void 0?e.obsolete:s.obsolete,error:e.error!==void 0?e.error:s.error,warning:e.warning!==void 0?e.warning:s.warning,gc:e.gc!==void 0?e.gc:s.gc,color:e.color!==void 0?e.color:s.color,prefix:e.prefix!==void 0?e.prefix:s.prefix,margin1:e.margin1!==void 0?e.margin1:s.margin1,margin2:e.margin2!==void 0?e.margin2:s.margin2}:Object.assign({},s);return t!==void 0&&(r.color=t),n!==void 0&&(r.prefix=n),r}}u.DefaultLevel={enabled:!0,error:!1,warning:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,gc:!1,color:37,prefix:"",margin1:0,margin2:0};u.isOn=!1;u.global=u.DefaultLevel;u.getMergedLoggingOptions=i=>u.global;class F{static seal(e,t,n,s){let r=e;const o=r[F.CreateCopy];return o&&(r=o.call(r)),u.isOn&&u.opt.write&&u.write("║"," ",`${n}.${s.toString()} - collection is sealed`),Object.setPrototypeOf(r,t),Object.freeze(r),r}static toMutable(e){const n=e[F.CreateCopy];return n&&(e=n.call(e)),e}static error(e){return J("use toMutable to create mutable copy of sealed collection")}}F.SealedType=Symbol("rxSealedType");F.CreateCopy=Symbol("rxCreateCopy");class pn extends Array{pop(){throw F.error(this)}push(...e){throw F.error(this)}sort(e){throw F.error(this)}splice(e,t,...n){throw F.error(this)}unshift(...e){throw F.error(this)}[F.CreateCopy](){return this.slice()}slice(e,t){const n=super.slice(e,t);return Object.setPrototypeOf(n,Array.prototype),n}}Object.defineProperty(Array.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return F.toMutable(this)}});Object.defineProperty(Array.prototype,F.SealedType,{value:pn.prototype,configurable:!1,enumerable:!1,writable:!1});class vn extends Map{clear(){throw F.error(this)}delete(e){throw F.error(this)}set(e,t){throw F.error(this)}[F.CreateCopy](){return new Map(this.entries())}}Object.defineProperty(Map.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return F.toMutable(this)}});Object.defineProperty(Map.prototype,F.SealedType,{value:vn.prototype,configurable:!1,enumerable:!1,writable:!1});class mn extends Set{add(e){throw F.error(this)}clear(){throw F.error(this)}delete(e){throw F.error(this)}[F.CreateCopy](){return new Set(this.values())}}Object.defineProperty(Set.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return F.toMutable(this)}});Object.defineProperty(Set.prototype,F.SealedType,{value:mn.prototype,configurable:!1,enumerable:!1,writable:!1});const P={Off:{enabled:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},ErrorsOnly:{enabled:!0,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Reactions:{enabled:!0,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Transactions:{enabled:!0,transaction:!0,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Operations:{enabled:!0,transaction:!0,operation:!0,step:!1,monitor:!0,read:!1,write:!1,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Debug:{enabled:!0,transaction:!0,operation:!0,step:!0,monitor:!0,read:!0,write:!0,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0}};var W;(function(i){i[i.Plain=0]="Plain",i[i.Transactional=1]="Transactional",i[i.Reactive=2]="Reactive",i[i.Cached=3]="Cached"})(W||(W={}));var ue;(function(i){i[i.PreventWithError=1]="PreventWithError",i[i.WaitAndRestart=0]="WaitAndRestart",i[i.CancelPrevious=-1]="CancelPrevious",i[i.CancelAndWaitPrevious=-2]="CancelAndWaitPrevious",i[i.OverwritePrevious=-3]="OverwritePrevious",i[i.RunSideBySide=-4]="RunSideBySide"})(ue||(ue={}));class bn{}const yn=Object.freeze({});class v{static get(e,t){return e[t]}static set(e,t,n){return Object.defineProperty(e,t,{value:n,configurable:!1,enumerable:!1}),e}static acquire(e,t){let n=e[t];return e.hasOwnProperty(t)||(n=Object.assign({},n),v.set(e,t,n)),n}static getFrom(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:yn}}v.Handle=Symbol("rx-handle");v.Revision=Symbol("rx-revision");v.Controller=Symbol("rx-controller");v.Initial=Symbol("rx-initial");v.Reactive=Symbol("rx-reactive");v.Raw=Symbol("rx-raw");v.Undefined=Symbol("rx-undefined");class he{get isOperation(){return!1}get originSnapshotId(){return 0}constructor(e){this.content=e}}class li{constructor(e,t,n){this.changeset=e,this.former={snapshot:t||this},this.data=n,this.changes=new Set,this.conflicts=new Map,u.isOn&&Object.freeze(this)}get revision(){return this.data[v.Revision].content}get disposed(){return this.revision<0}set disposed(e){const t=this.revision;t<0!==e&&(this.data[v.Revision].content=~t)}}class Fe{constructor(e,t,n,s,r){this.id=++Fe.generator,this.data=e,this.proxy=t||new Proxy(this,n),this.head=s,this.editing=void 0,this.editors=0,this.hint=r}static getHint(e,t){const n=v.get(e,v.Handle);return n!==void 0?t?`${n.hint}#${n.id}`:n.hint:void 0}}Fe.generator=19;const ei=Number.MAX_SAFE_INTEGER,wt=ei-1;Object.defineProperty(Fe.prototype,"#this#",{configurable:!1,enumerable:!1,get(){const i={},e=p.current().getObjectSnapshot(this,"#this#").data;for(const t in e){const n=e[t];n instanceof he?i[t]=n.content:n===v.Raw?i[t]=this.data[t]:i[t]=n}return i}});const wn=Object.freeze([]),On=kt.freezeMap(new Map);class p{get hint(){var e;return(e=this.options.hint)!==null&&e!==void 0?e:"noname"}get timestamp(){return this.revision}constructor(e){this.id=++p.idGen,this.options=e??xn,this.revision=wt,this.bumper=100,this.items=new Map,this.reactive=[],this.sealed=!1}lookupObjectSnapshot(e,t){let n=e.editing;if(n&&n.changeset!==this&&(n=this.items.get(e),n&&(e.editing=n)),!n)for(n=e.head;n!==j&&n.changeset.timestamp>this.timestamp;)n=n.former.snapshot;return n}getObjectSnapshot(e,t){const n=this.lookupObjectSnapshot(e,t);if(n===j)throw J(`${E.obj(e,t)} is not yet available for T${this.id}[${this.hint}] because of uncommitted ${e.editing?`T${e.editing.changeset.id}[${e.editing.changeset.hint}]`:""} (last committed T${e.head.changeset.id}[${e.head.changeset.hint}])`);return n}getEditableObjectSnapshot(e,t,n,s){let r=this.lookupObjectSnapshot(e,t);const o=r.data[t];if(o!==v.Raw){if(this.isNewSnapshotRequired(e,r,t,o,n,s)){this.bumpBy(r.changeset.timestamp);const a=t===v.Handle?1:r.revision+1,c=Object.assign({},t===v.Handle?n:r.data);v.set(c,v.Handle,e),v.set(c,v.Revision,new he(a)),r=new li(this,r,c),this.items.set(e,r),e.editing=r,e.editors++,u.isOn&&u.opt.write&&u.write("║"," ++",`${E.obj(e)} - new snapshot is created (revision ${a})`)}}else r=j;return r}static takeSnapshot(e){return e[v.Handle]["#this#"]}static dispose(e){const t=p.edit(),n=v.get(e,v.Handle);n!==void 0&&p.doDispose(t,n)}static doDispose(e,t){const n=e.getEditableObjectSnapshot(t,v.Revision,v.Undefined);return n!==j&&(n.disposed=!0),n}isNewSnapshotRequired(e,t,n,s,r,o){if(this.sealed&&t.changeset!==j.changeset)throw J(`observable property ${E.obj(e,n)} can only be modified inside transaction`);if(n!==v.Handle){if(r!==v.Handle&&(t.changeset!==this||t.former.snapshot!==j)&&this.options.token!==void 0&&o!==this.options.token)throw J(`${this.hint} should not have side effects (trying to change ${E.snapshot(t,n)})`);if(t===j)throw J(`${E.snapshot(t,n)} is not yet available for T${this.id}[${this.hint}] because of uncommitted ${e.editing?`T${e.editing.changeset.id}[${e.editing.changeset.hint}]`:""} (last committed T${e.head.changeset.id}[${e.head.changeset.hint}])`)}return t.changeset!==this&&!this.sealed}acquire(e){if(!this.sealed&&this.revision===wt){const t=this.options.token===void 0||e.revision===wt;this.revision=t?p.stampGen:e.revision,p.pending.push(this),p.oldest===void 0&&(p.oldest=this),u.isOn&&u.opt.transaction&&u.write("╔══",`s${this.revision}`,`${this.hint}`)}}bumpBy(e){e>this.bumper&&(this.bumper=e)}rebase(){let e;return this.items.size>0&&(this.items.forEach((t,n)=>{if(t.former.snapshot!==n.head){const s=this.merge(n,t);t.conflicts.size>0&&(e||(e=[]),e.push(t)),u.isOn&&u.opt.transaction&&u.write("╠╝","",`${E.snapshot2(n,t.changeset)} is merged with ${E.snapshot2(n,n.head.changeset)} among ${s} properties with ${t.conflicts.size} conflicts.`)}}),this.options.token===void 0?this.bumper>100?(this.bumper=this.revision,this.revision=++p.stampGen):this.revision=this.bumper+1:this.revision=this.bumper),e}merge(e,t){let n=0;const s=e.head,r=s.disposed,o=t.disposed,a=Object.assign({},s.data);return t.changes.forEach((c,d)=>{if(n++,a[d]=t.data[d],r||o)r!==o&&(r||this.options.separation!=="disposal")&&(u.isOn&&u.opt.change&&u.write("║╠","",`${E.snapshot2(e,t.changeset,d)} <> ${E.snapshot2(e,s.changeset,d)}`,0," *** CONFLICT ***"),t.conflicts.set(d,s));else{const l=p.isConflicting(s.data[d],t.former.snapshot.data[d]);l&&t.conflicts.set(d,s),u.isOn&&u.opt.change&&u.write("║╠","",`${E.snapshot2(e,t.changeset,d)} ${l?"<>":"=="} ${E.snapshot2(e,s.changeset,d)}`,0,l?" *** CONFLICT ***":void 0)}}),kt.copyAllMembers(a,t.data),t.former.snapshot=s,n}applyOrDiscard(e){return this.sealed=!0,this.items.forEach((t,n)=>{p.sealObjectSnapshot(n,t),n.editors--,n.editors===0&&(n.editing=void 0),e||(n.head=t,p.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(p.totalObjectSnapshotCount++,t.former.snapshot===j&&p.totalObjectHandleCount++))}),u.isOn&&(u.opt.change&&!e&&this.items.forEach((t,n)=>{const s=[];t.changes.forEach((o,a)=>s.push(a.toString()));const r=s.join(", ");u.write("║","√",`${E.snapshot2(n,t.changeset)} (${r}) is ${t.former.snapshot===j?"constructed":`applied over #${n.id}t${t.former.snapshot.changeset.id}s${t.former.snapshot.changeset.timestamp}`}`)}),u.opt.transaction&&u.write(this.revision<wt?"╚══":"═══",`s${this.revision}`,`${this.hint} - ${e?"CANCEL":"APPLY"}(${this.items.size})${e?` - ${e}`:""}`)),e||p.propagateAllChangesThroughSubscriptions(this),this.reactive}static sealObjectSnapshot(e,t){if(!t.disposed)t.changes.forEach((n,s)=>p.sealObservableValue(t.data[s],s,e.proxy.constructor.name));else for(const n in t.former.snapshot.data)t.data[n]=v.Undefined;u.isOn&&p.freezeObjectSnapshot(t)}static sealObservableValue(e,t,n){if(e instanceof he){const s=e.content;if(s!=null){const r=Object.getPrototypeOf(s)[F.SealedType];r&&(e.content=F.seal(s,r,n,t))}}}static freezeObjectSnapshot(e){return Object.freeze(e.data),kt.freezeSet(e.changes),kt.freezeMap(e.conflicts),e}triggerGarbageCollection(){if(this.revision!==0&&this===p.oldest){const e=p.pending;e.sort((s,r)=>s.revision-r.revision);let t=0;for(;t<e.length&&e[t].sealed;)e[t].unlinkHistory(),t++;p.pending=e.slice(t),p.oldest=p.pending[0];const n=Date.now();n-p.lastGarbageCollectionSummaryTimestamp>p.garbageCollectionSummaryInterval&&(u.write("","[G]",`Total object/snapshot count: ${p.totalObjectHandleCount}/${p.totalObjectSnapshotCount}`),p.lastGarbageCollectionSummaryTimestamp=n)}}unlinkHistory(){u.isOn&&u.opt.gc&&u.write("","[G]",`Dismiss history below t${this.id}s${this.revision} (${this.hint})`),this.items.forEach((e,t)=>{u.isOn&&u.opt.gc&&e.former.snapshot!==j&&u.write(" ","  ",`${E.snapshot2(t,e.former.snapshot.changeset)} is ready for GC because overwritten by ${E.snapshot2(t,e.changeset)}`),p.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(e.former.snapshot!==j&&p.totalObjectSnapshotCount--,e.disposed&&p.totalObjectHandleCount--),e.former.snapshot=j}),this.items=On,this.reactive=wn,u.isOn&&Object.freeze(this)}static _init(){const e=j.changeset;e.acquire(e),e.applyOrDiscard(),e.triggerGarbageCollection(),p.freezeObjectSnapshot(j),p.idGen=100,p.stampGen=101,p.oldest=void 0}}p.idGen=-1;p.stampGen=1;p.pending=[];p.oldest=void 0;p.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER;p.lastGarbageCollectionSummaryTimestamp=Date.now();p.totalObjectHandleCount=0;p.totalObjectSnapshotCount=0;p.current=ie;p.edit=ie;p.markUsed=ie;p.markEdited=ie;p.isConflicting=ie;p.propagateAllChangesThroughSubscriptions=i=>{};p.revokeAllSubscriptions=i=>{};p.enqueueReactiveFunctionsToRun=i=>{};class E{static obj(e,t,n,s,r,o){const a=t!==void 0?`.${t.toString()}`:"";let c;if(e!==void 0){const d=o!==void 0&&o!==v.Undefined?`[=${E.valueHint(o)}]`:"";n===void 0?c=`${e.hint}${a}${d} #${e.id}`:c=`${e.hint}${a}${d} #${e.id}t${s}s${n}${r!==void 0&&r!==0?`t${r}`:""}`}else c=`boot${a}`;return c}static snapshot2(e,t,n,s){var r;return E.obj(e,n,t.timestamp,t.id,s==null?void 0:s.originSnapshotId,(r=s==null?void 0:s.content)!==null&&r!==void 0?r:v.Undefined)}static snapshot(e,t){const n=v.get(e.data,v.Handle),s=t!==void 0?e.data[t]:void 0;return E.obj(n,t,e.changeset.timestamp,e.changeset.id,s==null?void 0:s.originSnapshotId)}static conflicts(e){return e.map(t=>{const n=[];return t.conflicts.forEach((s,r)=>{n.push(E.conflictingMemberHint(r,t,s))}),n.join(", ")}).join(", ")}static conflictingMemberHint(e,t,n){return`${n.changeset.hint} (${E.snapshot(n,e)})`}}E.valueHint=i=>"???";const j=new li(new p({hint:"<boot>"}),void 0,{}),xn=Object.freeze({hint:"noname",separation:!1,journal:void 0,logging:void 0,token:void 0});var Et=globalThis&&globalThis.__awaiter||function(i,e,t,n){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(l){try{d(n.next(l))}catch(g){o(g)}}function c(l){try{d(n.throw(l))}catch(g){o(g)}}function d(l){l.done?r(l.value):s(l.value).then(a,c)}d((n=n.apply(i,e||[])).next())})};class D{static get current(){return m.current}whenFinished(){return Et(this,void 0,void 0,function*(){})}static create(e){return new m(e)}static run(e,t,...n){return m.run(e,t,...n)}static separate(e,...t){return m.separate(e,...t)}static outside(e,...t){return m.outside(e,...t)}static isFrameOver(e=1,t=10){return m.isFrameOver(e,t)}static requestNextFrame(e=0){return m.requestNextFrame(e)}static get isCanceled(){return m.current.isCanceled}}class m extends D{constructor(e){super(),this.margin=m.curr!==void 0?m.curr.margin+1:-1,this.changeset=new p(e),this.pending=0,this.sealed=!1,this.canceled=void 0,this.after=void 0,this.promise=void 0,this.resolve=ie,this.reject=ie}static get current(){return m.curr}get id(){return this.changeset.id}get hint(){return this.changeset.hint}get options(){return this.changeset.options}get timestamp(){return this.changeset.timestamp}get error(){return this.canceled}run(e,...t){return this.guard(),this.runImpl(void 0,e,...t)}inspect(e,...t){const n=m.inspection;try{return m.inspection=!0,u.isOn&&u.opt.transaction&&u.write(" "," ",`T${this.id}[${this.hint}] is being inspected by T${m.curr.id}[${m.curr.hint}]`),this.runImpl(void 0,e,...t)}finally{m.inspection=n}}apply(){if(this.pending>0)throw J("cannot apply transaction having active operations running");if(this.canceled)throw J(`cannot apply transaction that is already canceled: ${this.canceled}`);this.seal()}seal(){return this.sealed||this.run(m.seal,this,void 0,void 0),this}wrap(e,t){this.guard();const n=this,s=m.inspection;return s?n.inspect(m.wrapperEnter,n,t):n.run(m.wrapperEnter,n,t),(...o)=>s?n.inspect(m.wrapperLeave,n,t,e,...o):n.runImpl(void 0,m.wrapperLeave,n,t,e,...o)}static wrapperEnter(e,t){t||e.pending++}static wrapperLeave(e,t,n,...s){return e.pending--,n(...s)}cancel(e,t){return this.runImpl(void 0,m.seal,this,e,t===null?m.none:t),this}get isCanceled(){return this.canceled!==void 0}get isFinished(){return this.sealed&&this.pending===0}whenFinished(){return Et(this,void 0,void 0,function*(){this.isFinished||(yield this.acquirePromise())})}static run(e,t,...n){const s=m.acquire(e),r=s!==m.curr;s.guard();let o=s.runImpl(e==null?void 0:e.logging,t,...n);return r&&(o instanceof Promise&&(o=m.outside(()=>s.wrapToRetry(s.wrapToWaitUntilFinish(o),t,...n))),s.seal()),o}static separate(e,...t){return m.run({separation:!0},e,...t)}static outside(e,...t){const n=m.curr;try{return m.curr=m.none,e(...t)}finally{m.curr=n}}static isFrameOver(e=1,t=10){m.frameOverCounter++;let n=m.frameOverCounter%e===0;return n&&(n=performance.now()-m.frameStartTime>t),n}static requestNextFrame(e=0){return hn(e)}static acquire(e){const t=m.curr;return e!=null&&e.separation||t.isFinished||t.options.separation==="isolated"?new m(e):m.curr}guard(){if(this.sealed&&m.curr!==this)throw J("cannot run transaction that is already sealed")}wrapToRetry(e,t,...n){return Et(this,void 0,void 0,function*(){try{const s=yield e;if(this.canceled)throw this.canceled;return s}catch(s){if(this.after!==m.none)if(this.after){yield this.after.whenFinished();const r={hint:`${this.hint} - restart after T${this.after.id}`,separation:this.options.separation==="isolated"?"isolated":!0,logging:this.changeset.options.logging,token:this.changeset.options.token};return m.run(r,t,...n)}else throw s;else return}})}wrapToWaitUntilFinish(e){return Et(this,void 0,void 0,function*(){const t=yield e;return yield this.whenFinished(),t})}runImpl(e,t,...n){let s;const r=m.curr;try{if(r===m.none&&(m.frameStartTime=performance.now(),m.frameOverCounter=0),m.curr=this,this.pending++,this.changeset.acquire(r.changeset),s=t(...n),this.sealed&&this.pending===1){if(!this.canceled)this.checkForConflicts();else if(!this.after)throw this.canceled}}catch(o){throw m.inspection||this.cancel(o),o}finally{if(this.pending--,this.sealed&&this.pending===0){const o=this.applyOrDiscard();m.curr=r,m.outside(p.enqueueReactiveFunctionsToRun,o)}else m.curr=r}return s}static seal(e,t,n){!e.canceled&&t&&(e.canceled=t,e.after=n,u.isOn&&u.opt.transaction&&(u.write("║"," [!]",`${t.message}`,void 0," *** CANCEL ***"),n&&n!==m.none&&u.write("║"," [!]",`T${e.id}[${e.hint}] will be restarted${e!==n?` after T${n.id}[${n.hint}]`:""}`)),p.revokeAllSubscriptions(e.changeset)),e.sealed=!0}checkForConflicts(){const e=this.changeset.rebase();e&&this.tryResolveConflicts(e)}tryResolveConflicts(e){throw fn(`T${this.id}[${this.hint}] conflicts with: ${E.conflicts(e)}`,void 0)}applyOrDiscard(){let e;try{u.isOn&&u.opt.change&&u.write("╠═","","",void 0,"changes"),e=this.changeset.applyOrDiscard(this.canceled),this.changeset.triggerGarbageCollection(),this.promise&&(this.canceled&&!this.after?this.reject(this.canceled):this.resolve()),u.isOn&&Object.freeze(this)}catch(t){throw gn(t),t}return e}acquirePromise(){return this.promise||(this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})),this.promise}static getCurrentChangeset(){return m.curr.changeset}static getEditableChangeset(){if(m.inspection)throw J("cannot make changes during transaction inspection");return m.curr.changeset}static _init(){p.current=m.getCurrentChangeset,p.edit=m.getEditableChangeset,m.none.sealed=!0,m.none.changeset.applyOrDiscard(),p._init()}}m.none=new m({hint:"<none>"});m.curr=m.none;m.inspection=!1;m.frameStartTime=0;m.frameOverCounter=0;m._init();class kn{constructor(e){const t=new.target.prototype,n=v.getFrom(t,v.Initial);return b.createHandleForMvccObject(t,this,n,new.target.name,e).proxy}[Symbol.toStringTag](){const e=v.get(this,v.Handle);return E.obj(e)}}class Le extends kn{constructor(){super(!0)}}const ge=Object.freeze({kind:W.Plain,separation:!1,order:0,noSideEffects:!1,triggeringArgs:!1,throttling:Number.MAX_SAFE_INTEGER,reentrance:ue.PreventWithError,journal:void 0,monitor:null,logging:void 0});class at{constructor(e,t,n,s,r){this.getter=e!==void 0?e:n.getter,this.setter=t!==void 0?t:n.setter,this.kind=ye(ge.kind,n.kind,s.kind,r),this.separation=ye(ge.separation,n.separation,s.separation,r),this.order=ye(ge.order,n.order,s.order,r),this.noSideEffects=ye(ge.noSideEffects,n.noSideEffects,s.noSideEffects,r),this.triggeringArgs=ye(ge.triggeringArgs,n.triggeringArgs,s.triggeringArgs,r),this.throttling=ye(ge.throttling,n.throttling,s.throttling,r),this.reentrance=ye(ge.reentrance,n.reentrance,s.reentrance,r),this.journal=ye(ge.journal,n.journal,s.journal,r),this.monitor=ye(ge.monitor,n.monitor,s.monitor,r),this.logging=ye(ge.logging,n.logging,s.logging,r),u.isOn&&Object.freeze(this)}}at.INITIAL=Object.freeze(new at(ie,ie,Object.assign({getter:ie,setter:ie},ge),{},!1));function ye(i,e,t,n){return t!==void 0&&(e===i||!n)?t:e}class b{constructor(e){this.isObservable=e}getPrototypeOf(e){return Reflect.getPrototypeOf(e.data)}get(e,t,n){let s;if(t!==v.Handle){const o=p.current().getObjectSnapshot(e,t);s=o.data[t],s instanceof he&&!s.isOperation?(this.isObservable&&p.markUsed(s,o,t,e,W.Plain,!1),s=s.content):s=Reflect.get(e.data,t,n)}else s=e;return s}set(e,t,n,s){const r=p.edit().getEditableObjectSnapshot(e,t,n);if(r!==j){let o=r.data[t];if(o!==void 0||r.former.snapshot.changeset===j.changeset&&!(t in e.data)){if(o===void 0||o.content!==n||b.sensitivity){const a=o==null?void 0:o.content;r.former.snapshot.data[t]===o?(o=r.data[t]=new he(n),p.markEdited(a,n,!0,r,t,e)):(o.content=n,p.markEdited(a,n,!0,r,t,e))}}else Reflect.set(e.data,t,n,s)}else e.data[t]=n;return!0}has(e,t){const n=p.current().getObjectSnapshot(e,t);return t in n.data||t in e.data}defineProperty(e,t,n){const s=n.get!==void 0&&n.set!==void 0;return s&&Object.defineProperty(e.data,t,n),s}getOwnPropertyDescriptor(e,t){const n=p.current().getObjectSnapshot(e,t),s=Reflect.getOwnPropertyDescriptor(n.data,t);return s&&(s.configurable=s.writable=!0),s}ownKeys(e){const t=p.current().getObjectSnapshot(e,v.Handle),n=[];for(const s of Object.getOwnPropertyNames(t.data)){const r=t.data[s];(!(r instanceof he)||!r.isOperation)&&n.push(s)}return n}static decorateData(e,t,n){if(e)return v.acquire(t,v.Initial)[n]=new he(void 0),Object.defineProperty(t,n,{get:function(){const c=b.acquireHandle(this);return b.observable.get(c,n,this)},set:function(c){const d=b.acquireHandle(this);return b.observable.set(d,n,c,this)},enumerable:!0,configurable:!1});v.acquire(t,v.Initial)[n]=v.Raw}static decorateOperation(e,t,n,s,r,o){var a,c,d,l;(o===void 0||o===s)&&(o=En);const g=(a=o.enumerable)!==null&&a!==void 0?a:!0,S=(c=o.configurable)!==null&&c!==void 0?c:!0,x=b.rememberOperationOptions(s,r,(d=o.value)!==null&&d!==void 0?d:o.get,(l=o.value)!==null&&l!==void 0?l:o.set,!0,S,n,e);if(x.getter===x.setter)return Object.defineProperty(s,r,{get:function(){const R=b.acquireHandle(this),H=b.createOperation(R,r,x);return Object.defineProperty(R.data,r,{value:H,enumerable:g,configurable:S}),H},enumerable:g,configurable:!0});if(x.setter===ie)return Object.defineProperty(s,r,{get:function(){const R=b.acquireHandle(this),H=b.createOperation(R,r,x);return Object.defineProperty(R.data,r,{get:H,enumerable:g,configurable:S}),H.call(this)},enumerable:g,configurable:!0});throw J(`${s.constructor.name}.${r.toString()} has setter and cannot be decorated with @${t.name}`)}static decorateOperationParametrized(e,t){return function(n,s,r){return b.decorateOperation(!1,e,t,n,s,r)}}static acquireHandle(e){let t=e[v.Handle];if(!t){if(e!==Object(e)||Array.isArray(e))throw J("only objects can be observable");const n=v.getFrom(Object.getPrototypeOf(e),v.Initial),s=new li(j.changeset,j,Object.assign({},n));t=new Fe(e,e,b.observable,s,e.constructor.name),v.set(s.data,v.Handle,t),v.set(e,v.Handle,t),v.set(s.data,v.Revision,new he(1))}return t}static createHandleForMvccObject(e,t,n,s,r){const o=p.edit(),a=r?b.observable:b.transactional,c=new Fe(t,void 0,a,j,s);if(o.getEditableObjectSnapshot(c,v.Handle,n),!b.reactivityAutoStartDisabled)for(const d in v.getFrom(e,v.Reactive))c.proxy[d][v.Controller].markObsolete();return c}static setProfilingMode(e,t){e?(b.repetitiveUsageWarningThreshold=t&&t.repetitiveUsageWarningThreshold!==void 0?t.repetitiveUsageWarningThreshold:10,b.mainThreadBlockingWarningThreshold=t&&t.mainThreadBlockingWarningThreshold!==void 0?t.mainThreadBlockingWarningThreshold:14,b.asyncActionDurationWarningThreshold=t&&t.asyncActionDurationWarningThreshold!==void 0?t.asyncActionDurationWarningThreshold:300,p.garbageCollectionSummaryInterval=t&&t.garbageCollectionSummaryInterval!==void 0?t.garbageCollectionSummaryInterval:100):(b.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER,b.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER,b.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER,p.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER)}static sensitive(e,t,...n){const s=b.sensitivity;b.sensitivity=e;try{return t(...n)}finally{b.sensitivity=s}}static setHint(e,t){if(t){const n=b.acquireHandle(e);n.hint=t}return e}static getHint(e){return b.acquireHandle(e).hint}}b.reactivityAutoStartDisabled=!1;b.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER;b.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER;b.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER;b.sensitivity=!1;b.transactional=new b(!1);b.observable=new b(!0);b.createOperation=function(i,e,t){throw J("this implementation of createOperation should never be called")};b.rememberOperationOptions=function(i,e,t,n,s,r,o,a){throw J("this implementation of rememberOperationOptions should never be called")};const En={configurable:!0,enumerable:!0,value:void 0};class Dn extends Le{static create(e,t,n,s){return le.create(e,t,n,s)}}class le extends Dn{constructor(){super(...arguments),this.isActive=!1,this.counter=0,this.workers=new Set,this.duration=0,this.internals={started:0,activationDelay:-1,activationTimeout:void 0,deactivationDelay:-1,deactivationTimeout:void 0,durationResolution:1}}enter(e){this.counter++,(this.workers=this.workers.toMutable()).add(e),le.activate(this,this.internals.activationDelay)}leave(e){this.counter--,(this.workers=this.workers.toMutable()).delete(e),le.deactivate(this,this.internals.deactivationDelay)}static create(e,t,n,s){return D.run({hint:"Monitor.create"},le.doCreate,e,t,n,s)}static enter(e,t){e.enter(t)}static leave(e,t){e.leave(t)}static doCreate(e,t,n,s){const r=new le;return b.setHint(r,e),r.internals.activationDelay=t,r.internals.deactivationDelay=n,r.internals.durationResolution=s,r}static activate(e,t){const n=e.counter>0;e.internals.started===0&&n&&(e.duration=0,e.internals.started=performance.now(),le.tick(e)),t>=0?e.internals.activationTimeout===void 0&&(e.internals.activationTimeout=setTimeout(()=>D.run({hint:"Monitor.activate",separation:"isolated"},le.activate,e,-1),t)):n&&(e.isActive=!0)}static deactivate(e,t){if(t>=0?(clearTimeout(e.internals.deactivationTimeout),e.internals.deactivationTimeout=setTimeout(()=>D.run({hint:"Monitor.deactivate",separation:"isolated"},le.deactivate,e,-1),t)):e.counter<=0&&(e.isActive=!1,e.internals.activationTimeout=void 0),e.counter===0&&e.internals.started!==0){const n=e.internals.durationResolution;e.duration=Math.round(n*(performance.now()-e.internals.started))/n,e.internals.started=0}}static tick(e){e.internals.started!==0&&(D.run(Tn,()=>{const n=e.internals.durationResolution;e.duration=Math.round(n*(performance.now()-e.internals.started))/n}),(globalThis??global).requestAnimationFrame&&requestAnimationFrame(()=>le.tick(e)))}}const Tn=Object.freeze({hint:"Monitor.tick"});class Sn extends Le{static create(){return new ct}}class ct extends Sn{constructor(){super(...arguments),this._capacity=5,this._edits=[],this._unsaved=new Map,this._position=0}get capacity(){return this._capacity}set capacity(e){this._capacity=e,e<this._edits.length&&this._edits.splice(0,this._edits.length-e)}get edits(){return this._edits}get unsaved(){return this._unsaved}get canUndo(){return this._edits.length>0&&this._position>0}get canRedo(){return this._position<this._edits.length}edited(e){D.run({hint:"EditJournal.edited",separation:"isolated"},()=>{const t=this._edits=this._edits.toMutable();t.length>=this._capacity?t.shift():t.splice(this._position),this.mergePatchToUnsaved(e,!1),t.push(e),this._position=t.length})}saved(e){if(this._unsaved===e)this._unsaved=new Map;else throw new Error("not implemented")}undo(e=1){D.run({hint:"Journal.undo",separation:"isolated"},()=>{let t=this._position-1;for(;t>=0&&e>0;){const n=this._edits[t];ct.applyPatch(n,!0),this.mergePatchToUnsaved(n,!0),t--,e--}this._position=t+1})}redo(e=1){D.run({hint:"Journal.redo",separation:"isolated"},()=>{let t=this._position;for(;t<this._edits.length&&e>0;){const n=this._edits[t];ct.applyPatch(n,!1),this.mergePatchToUnsaved(n,!1),t++,e--}this._position=t})}static buildPatch(e,t){const n=new Map;return t.forEach((s,r)=>{const o=new Map,a=s.former.snapshot!==j?s.former.snapshot.data:void 0;if(s.changes.forEach(c=>{const d={memberName:c,patchKind:"update",freshValue:Ei(s.data[c]),formerValue:void 0};a&&(d.formerValue=Ei(a[c])),o.set(c,d)}),!a){const c={memberName:v.Revision,patchKind:"remove",freshValue:v.Undefined,formerValue:void 0};o.set(v.Revision,c)}n.set(r.proxy,o)}),n}static applyPatch(e,t){const n=p.edit();e.forEach((s,r)=>{const o=v.get(r,v.Handle),a=s.get(v.Revision);a&&(t?a.formerValue:a.freshValue)===v.Undefined?p.doDispose(n,o):s.forEach((d,l)=>{const g=t?d.formerValue:d.freshValue,S=n.getEditableObjectSnapshot(o,l,g);if(S.changeset===n){S.data[l]=new he(g);const x=S.former.snapshot.data[l];p.markEdited(x,g,x!==g,S,l,o)}})})}mergePatchToUnsaved(e,t){const n=this._unsaved=this._unsaved.toMutable();e.forEach((s,r)=>{let o=n.get(r);o||n.set(r,o=new Map),s.forEach((a,c)=>{let d=o.get(c);d||o.set(c,d={memberName:c,patchKind:"update",freshValue:void 0,formerValue:void 0});const l=t?a.formerValue:a.freshValue,g=t?a.freshValue:a.formerValue;l!==d.formerValue?(d.freshValue=l,d.formerValue=g):(o.delete(c),o.size===0&&n.delete(r))})})}}function Ei(i){const e=i.content,t=e==null?void 0:e[F.CreateCopy];return t!==void 0?t.call(e):e}const Di=[],Re="<boot>",zi=new Fe(void 0,void 0,b.observable,j,"<boot>");class V extends bn{configure(e){return V.configureImpl(this,e)}get options(){return this.peek(void 0).operation.options}get unobservable(){return this.peek(void 0).operation.content}get args(){return this.use().operation.args}get result(){return this.useOrRun(!0,void 0).content}get error(){return this.use().operation.error}get stamp(){return this.use().snapshot.changeset.timestamp}get isUpToDate(){return this.use().isUpToDate}markObsolete(){D.run({hint:u.isOn?`markObsolete(${E.obj(this.objectHandle,this.memberName)})`:"markObsolete()"},V.markObsolete,this)}pullLastResult(e){return this.useOrRun(!0,e).content}constructor(e,t){super(),this.objectHandle=e,this.memberName=t}useOrRun(e,t){var n;let s=this.peek(t);const r=s.changeset,o=s.operation,a=o.options;if(!s.isUpToDate&&!s.snapshot.disposed&&(!e||o.cause===Re||!o.successor||o.successor.transaction.isFinished)){const d=(n=w.current)===null||n===void 0?void 0:n.options,l=e||a.separation!==!1||a.kind===W.Reactive||a.kind===W.Transactional&&d&&(d.noSideEffects||d.kind===W.Cached)||a.kind===W.Cached&&(s.snapshot.changeset.sealed||s.snapshot.former.snapshot!==j),g=a.noSideEffects?this:void 0,S=this.run(s,l,a,g,t),x=S.operation.changeset;(!e||r===x||x.sealed&&r.timestamp>=x.timestamp)&&(s=S)}else u.isOn&&u.opt.operation&&(a.logging===void 0||a.logging.operation===void 0||a.logging.operation===!0)&&u.write(D.current.isFinished?"":"║"," (=)",`${E.snapshot2(s.operation.controller.objectHandle,s.changeset,this.memberName)} result is reused from T${s.operation.transaction.id}[${s.operation.transaction.hint}]`);const c=s.operation;return p.markUsed(c,s.snapshot,this.memberName,this.objectHandle,c.options.kind,e),c}static getControllerOf(e){const t=v.get(e,v.Controller);if(!t)throw J(`given method is not decorated as reactronic one: ${e.name}`);return t}static configureImpl(e,t){let n;if(e?n=e.edit().operation:n=w.current,!n)throw J("reactronic decorator is only applicable to methods");return n.options=new at(n.options.getter,n.options.setter,n.options,t,!1),u.isOn&&u.opt.write&&u.write("║","  =",`${n.hint()}.options are changed`),n.options}static runWithin(e,t,...n){let s;const r=w.current;try{w.current=e,s=t(...n)}catch(o){throw e&&(e.error=o),o}finally{w.current=r}return s}static why(){var e,t;return(t=(e=w.current)===null||e===void 0?void 0:e.why())!==null&&t!==void 0?t:Re}static briefWhy(){var e,t;return(t=(e=w.current)===null||e===void 0?void 0:e.briefWhy())!==null&&t!==void 0?t:Re}static dependencies(){const e=w.current;return e?e.dependencies():["Rx.dependencies should be called from inside of reactive method"]}peek(e){const t=p.current(),n=t.lookupObjectSnapshot(this.objectHandle,this.memberName),s=this.acquireFromSnapshot(n,e),r=s.options.kind!==W.Transactional&&s.cause!==Re&&(t===s.changeset||t.timestamp<s.obsoleteSince)&&(!s.options.triggeringArgs||e===void 0||s.args.length===e.length&&s.args.every((o,a)=>o===e[a]))||n.disposed;return{operation:s,isUpToDate:r,changeset:t,snapshot:n}}use(){const e=this.peek(void 0);return p.markUsed(e.operation,e.snapshot,this.memberName,this.objectHandle,e.operation.options.kind,!0),e}edit(){const e=this.objectHandle,t=this.memberName,n=p.edit(),s=n.getEditableObjectSnapshot(e,t,v.Handle,this);let r=this.acquireFromSnapshot(s,void 0);if(r.changeset!==s.changeset){const o=new w(this,s.changeset,r);s.data[t]=o.reenterOver(r),n.bumpBy(s.former.snapshot.changeset.timestamp),p.markEdited(r,o,!0,s,t,e),r=o}return{operation:r,isUpToDate:!0,changeset:n,snapshot:s}}acquireFromSnapshot(e,t){const n=this.memberName;let s=e.data[n];if(s.controller!==this)if(e.changeset!==j.changeset){const r=u.isOn?`${E.obj(this.objectHandle,n)}/init`:"MethodController/init",o=e.changeset.sealed||e.former.snapshot!==j;s=D.run({hint:r,separation:o,token:this},()=>{const a=this.objectHandle;let c=p.current().getObjectSnapshot(a,n),d=c.data[n];if(d.controller!==this){c=p.edit().getEditableObjectSnapshot(a,n,v.Handle,this);const l=new w(this,c.changeset,d);t&&(l.args=t),l.cause=Re,c.data[n]=l,p.markEdited(d,l,!0,c,n,a),d=l}return d})}else{const r=new w(this,e.changeset,s);t&&(r.args=t),r.cause=Re,e.data[n]=r,s=r,u.isOn&&u.opt.write&&u.write("║"," ++",`${E.obj(this.objectHandle,n)} is initialized (revision ${e.revision})`)}return s}run(e,t,n,s,r){const o=u.isOn?`${E.obj(this.objectHandle,this.memberName)}${r&&r.length>0&&(typeof r[0]=="number"||typeof r[0]=="string")?` - ${r[0]}`:""}`:`${E.obj(this.objectHandle,this.memberName)}`;let a=e;const c={hint:o,separation:t,journal:n.journal,logging:n.logging,token:s},d=D.run(c,l=>(a.operation.transaction.isCanceled?(a=this.peek(l),(a.operation.options.kind===W.Transactional||!a.isUpToDate)&&(a=this.edit(),u.isOn&&u.opt.operation&&u.write("║","  o",`${a.operation.why()}`),a.operation.run(this.objectHandle.proxy,l))):(a=this.edit(),u.isOn&&u.opt.operation&&u.write("║","  o",`${a.operation.why()}`),a.operation.run(this.objectHandle.proxy,l)),a.operation.result),r);return a.operation.result=d,a}static markObsolete(e){const t=e.peek(void 0),n=t.changeset;t.operation.markObsoleteDueTo(t.operation,e.memberName,j.changeset,zi,Re,n.timestamp,n.reactive)}}class w extends he{constructor(e,t,n){super(void 0),this.margin=w.current?w.current.margin+1:1,this.transaction=D.current,this.controller=e,this.changeset=t,this.observables=new Map,n instanceof w?(this.options=n.options,this.args=n.args,this.cause=n.obsoleteDueTo):(this.options=n,this.args=Di,this.cause=void 0),this.started=0,this.obsoleteSince=0,this.obsoleteDueTo=void 0,this.successor=void 0}get isOperation(){return!0}get originSnapshotId(){return this.changeset.id}hint(){return`${E.snapshot2(this.controller.objectHandle,this.changeset,this.controller.memberName)}`}get order(){return this.options.order}get"#this#"(){return`Operation: ${this.why()}`}why(){let e;return this.cause?e=`   ◀◀   ${this.cause}`:this.controller.options.kind===W.Transactional?e="   ◀◀   operation":e=`   ◀◀   T${this.changeset.id}[${this.changeset.hint}]`,`${this.hint()}${e}`}briefWhy(){return this.why()}dependencies(){throw J("not implemented yet")}wrap(e){return(...n)=>{u.isOn&&u.opt.step&&this.result&&u.writeAs({margin2:this.margin},"║","‾\\",`${this.hint()} - step in  `,0,"        │");const s=Date.now(),r=V.runWithin(this,e,...n),o=Date.now()-s;return u.isOn&&u.opt.step&&this.result&&u.writeAs({margin2:this.margin},"║","_/",`${this.hint()} - step out `,0,this.started>0?"        │":""),o>b.mainThreadBlockingWarningThreshold&&u.write("","[!]",this.why(),o,"    *** main thread is too busy ***"),r}}run(e,t){t&&(this.args=t),this.obsoleteSince=ei,this.error?this.result=Promise.reject(this.error):V.runWithin(this,w.run,this,e)}markObsoleteDueTo(e,t,n,s,r,o,a){var c,d,l;if(this.observables!==void 0)if(!e.isOperation&&n===this.changeset)u.isOn&&(u.opt.obsolete||!((l=this.options.logging)===null||l===void 0)&&l.obsolete)&&u.write(" ","x",`${this.hint()} is not obsolete due to its own change to ${E.snapshot2(s,n,t)}`);else{const S=`${E.snapshot2(s,n,t,e)}    ◀◀    ${r}`,x=this.options.kind===W.Reactive;this.obsoleteDueTo=S,this.obsoleteSince=o,u.isOn&&(u.opt.obsolete||!((c=this.options.logging)===null||c===void 0)&&c.obsolete)&&u.write(u.opt.transaction&&!p.current().sealed?"║":" ",x?"█":"▒",x&&n===j.changeset?`${this.hint()} is reactive and will run automatically (order ${this.options.order})`:`${this.hint()} is obsolete due to ${E.snapshot2(s,n,t)} since s${o}${x?` and will run automatically (order ${this.options.order})`:""}`),this.unsubscribeFromAllObservables(),x?a.push(this):(d=this.observers)===null||d===void 0||d.forEach(R=>R.markObsoleteDueTo(this,this.controller.memberName,this.changeset,this.controller.objectHandle,S,o,a));const L=this.transaction;L.changeset===n||!L.isFinished&&this!==e&&L.cancel(new Error(`T${L.id}[${L.hint}] is canceled due to obsolete ${E.snapshot2(s,n,t)} changed by T${n.id}[${n.hint}]`),null)}}runIfNotUpToDate(e,t){const n=this.options.throttling,s=Date.now()+this.started,r=n?n-s:0;if(e||r<0){if(this.isNotUpToDate())try{const o=this.controller.useOrRun(!1,void 0);o.result instanceof Promise&&o.result.catch(a=>{o.options.kind===W.Reactive&&J(`reactive function ${o.hint()} failed and will not run anymore: ${a}`,a)})}catch(o){if(t)this.options.kind===W.Reactive&&J(`reactive ${this.hint()} failed and will not run anymore: ${o}`,o);else throw o}}else n<Number.MAX_SAFE_INTEGER&&(r>0?setTimeout(()=>this.runIfNotUpToDate(!0,!0),r):this.addToDeferredReactiveFunctions())}isNotUpToDate(){return!this.error&&(this.options.kind===W.Transactional||!this.successor||this.successor.transaction.isCanceled)}reenterOver(e){let t;const n=e.successor;if(n&&!n.transaction.isFinished)switch(u.isOn&&u.opt.obsolete&&u.write("║"," [!]",`${this.hint()} is trying to re-enter over ${n.hint()}`),e.options.reentrance){case ue.PreventWithError:if(!n.transaction.isCanceled)throw J(`${e.hint()} (${e.why()}) is not reentrant over ${n.hint()} (${n.why()})`);t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/PreventWithError due to canceled T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case ue.WaitAndRestart:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/WaitAndRestart due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case ue.CancelAndWaitPrevious:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/CancelAndWaitPrevious due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction),n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case ue.CancelPrevious:n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case ue.RunSideBySide:break}return t?this.error=t:e.successor=this,this}static run(e,t){e.enter();try{e.result=e.options.getter.call(t,...e.args)}finally{e.leaveOrAsync()}}enter(){this.options.monitor&&this.monitorEnter(this.options.monitor),u.isOn&&u.opt.operation&&u.write("║","‾\\",`${this.hint()} - enter`,void 0,`    [ ${E.obj(this.controller.objectHandle,this.controller.memberName)} ]`),this.started=Date.now()}leaveOrAsync(){this.result instanceof Promise?(this.result=this.result.then(e=>(this.content=e,this.leave(!1,"  ⚐","- finished  "," OK ──┘"),e),e=>{throw this.error=e,this.leave(!1,"  ⚐","- finished  ","ERR ──┘"),e}),u.isOn&&(u.opt.operation?u.write("║","_/",`${this.hint()} - leave... `,0,"ASYNC ──┐"):u.opt.transaction&&u.write("║","  ",`${this.why()} ...`,0,"ASYNC"))):(this.content=this.result,this.leave(!0,"_/","- leave"))}leave(e,t,n,s=void 0){const r=Date.now()-this.started;this.started=-this.started,u.isOn&&u.opt.operation&&u.write("║",`${t}`,`${this.hint()} ${n}`,r,s),r>(e?b.mainThreadBlockingWarningThreshold:b.asyncActionDurationWarningThreshold)&&u.write("","[!]",this.why(),r,e?"    *** main thread is too busy ***":"    *** async is too long ***"),this.cause=void 0,this.options.monitor&&this.monitorLeave(this.options.monitor)}monitorEnter(e){const t={hint:"Monitor.enter",separation:"isolated",logging:u.isOn&&u.opt.monitor?void 0:u.global};V.runWithin(void 0,D.run,t,le.enter,e,this.transaction)}monitorLeave(e){D.outside(()=>{const t=()=>{const n={hint:"Monitor.leave",separation:"isolated",logging:u.isOn&&u.opt.monitor?void 0:u.DefaultLevel};V.runWithin(void 0,D.run,n,le.leave,e,this.transaction)};this.transaction.whenFinished().then(t,t)})}addToDeferredReactiveFunctions(){w.deferredReactiveFunctions.push(this),w.deferredReactiveFunctions.length===1&&setTimeout(w.processDeferredReactiveFunctions,0)}static processDeferredReactiveFunctions(){const e=w.deferredReactiveFunctions;w.deferredReactiveFunctions=[];for(const t of e)t.runIfNotUpToDate(!0,!0)}static markUsed(e,t,n,s,r,o){if(r!==W.Transactional){const a=w.current;if(a&&a.options.kind!==W.Transactional&&a.transaction===D.current&&n!==v.Handle){const c=p.current();c!==t.changeset&&c.bumpBy(t.changeset.timestamp);const d=o?-1:c.timestamp;a.subscribeTo(e,t,n,s,d)||a.markObsoleteDueTo(e,n,s.head.changeset,s,Re,c.timestamp,c.reactive)}}}static markEdited(e,t,n,s,r,o){n?s.changes.add(r):s.changes.delete(r),u.isOn&&u.opt.write&&(n?u.write("║","  =",`${E.snapshot2(o,s.changeset,r)} is changed: ${Qe(e)} ▸▸ ${Qe(t)}`):u.write("║","  =",`${E.snapshot2(o,s.changeset,r)} is changed: ${Qe(e)} ▸▸ ${Qe(t)}`,void 0," (same as previous)"))}static isConflicting(e,t){let n=e!==t;return n&&(n=e instanceof w&&e.cause!==Re),n}static propagateAllChangesThroughSubscriptions(e){var t;const n=e.timestamp,s=e.reactive;e.items.forEach((r,o)=>{if(w.propagateMemberChangeThroughSubscriptions(!1,n,r,v.Revision,o,s),!r.disposed)r.changes.forEach((a,c)=>w.propagateMemberChangeThroughSubscriptions(!1,n,r,c,o,s));else for(const a in r.former.snapshot.data)w.propagateMemberChangeThroughSubscriptions(!0,n,r,a,o,s)}),s.sort(Nn),(t=e.options.journal)===null||t===void 0||t.edited(ct.buildPatch(e.hint,e.items))}static revokeAllSubscriptions(e){e.items.forEach((t,n)=>{w.propagateMemberChangeThroughSubscriptions(!0,e.timestamp,t,v.Revision,n,void 0),t.changes.forEach((s,r)=>w.propagateMemberChangeThroughSubscriptions(!0,e.timestamp,t,r,n,void 0))})}static propagateMemberChangeThroughSubscriptions(e,t,n,s,r,o){var a;const c=n.data[s];if(o){const d=n.former.snapshot.data[s];if(d!==void 0&&d instanceof he){const l=`T${n.changeset.id}[${n.changeset.hint}]`;if(d instanceof w){(d.obsoleteSince===ei||d.obsoleteSince<=0)&&(d.obsoleteDueTo=l,d.obsoleteSince=t,d.unsubscribeFromAllObservables());const g=d.successor;g!==c?g&&!g.transaction.isFinished&&g.transaction.cancel(new Error(`T${g.transaction.id}[${g.transaction.hint}] is canceled by T${n.changeset.id}[${n.changeset.hint}] and will not run anymore`),null):d.successor=void 0}(a=d.observers)===null||a===void 0||a.forEach(g=>g.markObsoleteDueTo(d,s,n.changeset,r,l,t,o))}}c instanceof w?c.changeset===n.changeset&&c.observables!==void 0&&(b.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER&&c.observables.forEach((d,l)=>{d.usageCount>b.repetitiveUsageWarningThreshold&&u.write("","[!]",`${c.hint()} uses ${d.memberHint} ${d.usageCount} times (consider remembering it in a local variable)`,0," *** WARNING ***")}),e&&c.unsubscribeFromAllObservables()):c instanceof he&&c.observers}static enqueueReactiveFunctionsToRun(e){const t=w.queuedReactiveFunctions,n=t.length===0;for(const s of e)t.push(s);n&&V.runWithin(void 0,w.runQueuedReactiveLoop)}static runQueuedReactiveLoop(){const e=w.queuedReactiveFunctions;let t=0;for(;t<e.length;)e[t].runIfNotUpToDate(!1,!0),t++;w.queuedReactiveFunctions=[]}unsubscribeFromAllObservables(){var e;(e=this.observables)===null||e===void 0||e.forEach((t,n)=>{var s;n.observers.delete(this),u.isOn&&(u.opt.read||!((s=this.options.logging)===null||s===void 0)&&s.read)&&u.write(u.opt.transaction&&!p.current().sealed?"║":" ","-",`${this.hint()} is unsubscribed from ${t.memberHint}`)}),this.observables=void 0}subscribeTo(e,t,n,s,r){var o,a,c;const d=w.canSubscribeTo(e,t,n,s,r);if(d){let l=0;if(b.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER){const g=this.observables.get(e);l=g?g.usageCount+1:1}if(this.observables!==void 0){e.observers||(e.observers=new Set);const g={memberHint:E.snapshot2(s,t.changeset,n),usageCount:l};e.observers.add(this),this.observables.set(e,g),u.isOn&&(u.opt.read||!((o=this.options.logging)===null||o===void 0)&&o.read)&&u.write("║","  ∞",`${this.hint()} is subscribed to ${E.snapshot2(s,t.changeset,n)}${g.usageCount>1?` (${g.usageCount} times)`:""}`)}else u.isOn&&(u.opt.read||!((a=this.options.logging)===null||a===void 0)&&a.read)&&u.write("║","  x",`${this.hint()} is obsolete and is NOT subscribed to ${E.snapshot2(s,t.changeset,n)}`)}else u.isOn&&(u.opt.read||!((c=this.options.logging)===null||c===void 0)&&c.read)&&u.write("║","  x",`${this.hint()} is NOT subscribed to already obsolete ${E.snapshot2(s,t.changeset,n)}`);return d}static canSubscribeTo(e,t,n,s,r){const o=s.head.data[n];let a=e===o||!t.changeset.sealed&&t.former.snapshot.data[n]===o;return a&&r!==-1&&(a=!(e instanceof w&&r>=e.obsoleteSince)),a}static createOperation(e,t,n){const s=new V(e,t),r=(...o)=>s.useOrRun(!1,o).result;return v.set(r,v.Controller,s),r}static rememberOperationOptions(e,t,n,s,r,o,a,c){const d=v.acquire(e,v.Initial);let l=d[t];const g=l?l.controller:new V(zi,t),S=l?l.options:at.INITIAL;if(d[t]=l=new w(g,j.changeset,new at(n,s,S,a,c)),l.options.kind===W.Reactive&&l.options.throttling<Number.MAX_SAFE_INTEGER){const x=v.acquire(e,v.Reactive);x[t]=l}else if(l.options.kind===W.Reactive&&l.options.throttling>=Number.MAX_SAFE_INTEGER){const x=v.getFrom(e,v.Reactive);delete x[t]}return l.options}static init(){Object.freeze(Di),u.getMergedLoggingOptions=Pn,E.valueHint=Qe,p.markUsed=w.markUsed,p.markEdited=w.markEdited,p.isConflicting=w.isConflicting,p.propagateAllChangesThroughSubscriptions=w.propagateAllChangesThroughSubscriptions,p.revokeAllSubscriptions=w.revokeAllSubscriptions,p.enqueueReactiveFunctionsToRun=w.enqueueReactiveFunctionsToRun,b.createOperation=w.createOperation,b.rememberOperationOptions=w.rememberOperationOptions,Promise.prototype.then=$n;try{Object.defineProperty(globalThis,"rWhy",{get:V.why,configurable:!1,enumerable:!1}),Object.defineProperty(globalThis,"rBriefWhy",{get:V.briefWhy,configurable:!1,enumerable:!1})}catch{}try{Object.defineProperty(global,"rWhy",{get:V.why,configurable:!1,enumerable:!1}),Object.defineProperty(global,"rBriefWhy",{get:V.briefWhy,configurable:!1,enumerable:!1})}catch{}}}w.current=void 0;w.queuedReactiveFunctions=[];w.deferredReactiveFunctions=[];function Qe(i){let e="";return Array.isArray(i)?e=`Array(${i.length})`:i instanceof Set?e=`Set(${i.size})`:i instanceof Map?e=`Map(${i.size})`:i instanceof w?e=`#${i.controller.objectHandle.id}t${i.changeset.id}s${i.changeset.timestamp}${i.originSnapshotId!==void 0&&i.originSnapshotId!==0?`t${i.originSnapshotId}`:""}`:i===v.Undefined?e="undefined":typeof i=="string"?e=`"${i.toString().slice(0,20)}${i.length>20?"...":""}"`:i!=null?e=i.toString().slice(0,40):e="undefined",e}function Pn(i){const e=D.current;let t=u.merge(e.options.logging,e.id>1?31+e.id%6:37,e.id>1?`T${e.id}`:`-${p.idGen.toString().replace(/[0-9]/g,"-")}`,u.global);return t=u.merge({margin1:e.margin},void 0,void 0,t),w.current&&(t=u.merge({margin2:w.current.margin},void 0,void 0,t)),i&&(t=u.merge(i,void 0,void 0,t)),t}const Rn=Promise.prototype.then;function $n(i,e){const t=D.current;if(!t.isFinished){i||(i=An),e||(e=Cn);const n=w.current;n&&(i=n.wrap(i),e=n.wrap(e)),i=t.wrap(i,!1),e=t.wrap(e,!0)}return Rn.call(this,i,e)}function Nn(i,e){return i.order-e.order}function An(i){return i}function Cn(i){throw i}w.init();class ve{static why(e=!1){return e?V.briefWhy():V.why()}static getController(e){return V.getControllerOf(e)}static pullLastResult(e,t){return ve.getController(e).pullLastResult(t)}static configureCurrentOperation(e){return V.configureImpl(void 0,e)}static getRevisionOf(e){return e[v.Revision]}static takeSnapshot(e){return p.takeSnapshot(e)}static dispose(e){p.dispose(e)}static get reactivityAutoStartDisabled(){return b.reactivityAutoStartDisabled}static set reactivityAutoStartDisabled(e){b.reactivityAutoStartDisabled=e}static get isLogging(){return u.isOn}static get loggingOptions(){return u.opt}static setLoggingMode(e,t){u.setMode(e,t)}static setLoggingHint(e,t){b.setHint(e,t)}static getLoggingHint(e,t=!1){return Fe.getHint(e,t)}static setProfilingMode(e,t){b.setProfilingMode(e,t)}}function je(i,...e){return V.runWithin(void 0,i,...e)}function Ti(i,e,...t){return b.sensitive(i,e,...t)}function C(i,e){return b.decorateData(!1,i,e)}function y(i,e,t){const n={kind:W.Transactional};return b.decorateOperation(!0,y,n,i,e,t)}function Ae(i,e,t){const n={kind:W.Reactive,throttling:-1};return b.decorateOperation(!0,Ae,n,i,e,t)}function Gi(i,e,t){const n={kind:W.Cached,noSideEffects:!0};return b.decorateOperation(!0,Gi,n,i,e,t)}function T(i){return b.decorateOperationParametrized(T,i)}class nt{constructor(e,t,n=-1){this.owner=e,this.name=t,this.index=n}get variable(){return this.index<0?this.owner[this.name]:this.owner[this.name][this.index]}set variable(e){this.index<0?this.owner[this.name]=e:this.owner[this.name][this.index]=e}unobservable(){return je(()=>this.variable)}observe(){return this.variable}unobserve(){throw new Error("not implemented")}static sameRefs(e,t){return e.owner===t.owner&&e.name===t.name&&e.index===t.index}static similarRefs(e,t){return e.owner.constructor===t.owner.constructor&&e.name===t.name&&e.index===t.index}}class Fn extends nt{constructor(e,t,n,s){super(e,t),this.valueOn=n,this.valueOff=s}toggle(){const e=this.owner,t=this.name;D.run({hint:`toggle ${e.constructor.name}.${t}`},()=>{const n=e[t];n===this.valueOn||n instanceof nt&&this.valueOn instanceof nt&&nt.sameRefs(n,this.valueOn)?e[t]=this.valueOff:e[t]=this.valueOn})}}const jn={get:(i,e)=>new nt(i,e)};Object.defineProperty(Object.prototype,"$$",{configurable:!1,enumerable:!1,get(){return new Proxy(this,jn)}});var h;(function(i){i[i.Section=0]="Section",i[i.Table=1]="Table",i[i.Note=2]="Note",i[i.Group=3]="Group",i[i.Row=4]="Row",i[i.Cursor=5]="Cursor",i[i.Native=6]="Native"})(h||(h={}));var De;(function(i){i[i.Realtime=0]="Realtime",i[i.Normal=1]="Normal",i[i.Background=2]="Background"})(De||(De={}));var Te;(function(i){i[i.Default=0]="Default",i[i.PinpointRebuild=1]="PinpointRebuild",i[i.ManualMount=2]="ManualMount"})(Te||(Te={}));var Be;(function(i){i[i.Stretch=0]="Stretch",i[i.Left=1]="Left",i[i.CenterX=2]="CenterX",i[i.Right=3]="Right",i[i.Top=4]="Top",i[i.CenterY=8]="CenterY",i[i.Bottom=12]="Bottom",i[i.Default=16]="Default",i[i.Center=10]="Center"})(Be||(Be={}));function Ln(i,e){let t=0,n=0,s=1,r=0;for(;t<i.length;){const o=i.charCodeAt(t);if(Wn(o))r%2===0?n=n*26+o-64:console.error(`Digit is expected, but letter ('${i[t]}') was read`);else if(Bn(o))r%2===0?n=n*26+o-96:console.error(`Digit is expected, but letter ('${i[t]}') was read`);else if(Hn(o))r%2===0&&(n!==0&&(r===0?e.x1=n*s:e.x2=n*s,n=0),r++),n=n*10+o-48;else if(o===40)r===0?e.x1=n*s:r===2&&(e.x2=n*s),s>0?(s=-1,r&=-2,n=0):console.error("Sign must not be negative");else if(o===41){switch(s>0&&console.error("Sign must be negative"),r){case 0:e.x1=n*s;break;case 1:e.y1=n*s;break;case 2:e.x2=n*s;break;case 3:e.y2=n*s;break}s=1,n=0,r++}else o===58?(s<0&&console.error(`area '${i}': e1`),r===1?e.y1=n*s:r!==2&&console.error(`area '${i}': [e2] component = ${r}`),r=2,n=0):_n(o)||console.error(`Unknown symbol '${i[t]}' in '${i}'`);t++}if(n!==0)switch(r){case 0:{e.x1=n*s,s<0&&e.y1===0&&(e.y1=s);break}case 1:{s<0&&e.x1===0&&(e.x1=s),e.y1=n*s;break}case 2:{e.x2=n*s,s<0&&e.y2===0&&(e.y2=s);break}case 3:{s<0&&e.x2===0&&(e.x2=s),e.y2=n*s;break}}else s<0&&(r===0?(e.x1===0&&(e.x1=s),e.y1===0&&(e.y1=s)):(e.x2===0&&(e.x2=s),e.y2===0&&(e.y2=s)));return e}function In(i){if(i<0)throw new Error(`emitLetters: argument (${i}) should not be negative or zero`);let e="";for(;i>=0;){const t=i%26;i=Math.floor(i/26)-1,e=String.fromCharCode(65+t)+e}return e}function Mn(i,e){return i.x1===e.x1&&i.y1===e.y1&&i.x2===e.x2&&i.y1===e.y2}function _n(i){return i===32||i>=9&&i<=13||i===133||i===160}function Hn(i,e){return 48<=i&&i<=57}function Wn(i){return 65<=i&&i<=90}function Bn(i){return 97<=i&&i<=122}function Ce(i,e){return i===Object(i)&&!Array.isArray(i)&&e in i}function Xn(i){const e=Error.stackTraceLimit=20,n=new Error().stack||"";Error.stackTraceLimit=e;const s=n.split(`
`);let r=s.findIndex(d=>d.indexOf(".claim")>=0);r=r>=0?r+2:5;let o=Ze(s[r]),a=o;if(o.func.endsWith(".rebuild"))r=r-1,o=Ze(s[r]),a=Ze(s[r+1]);else{for(;!o.func&&r>0;)r=r-1,o=Ze(s[r]);a=Ze(s[r+1])}return`${i}·${o.func}@${a.file}`}function Ze(i){const e=i.match(/(?:\s*at\s+)?(?:(\S+)\s\()?(?:.*?)([^\/\(\):]+)(?:(:|\d)*\)?)$/);return{func:(e==null?void 0:e[1])||"",file:(e==null?void 0:e[2])||""}}var Yn=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ut=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};function ui(i){return D.run(null,()=>new Ui(i))}class Ui{constructor(e){this.restyle=e}cache(){return this.restyle()}get class(){return this.cache()}}Yn([Gi,Ut("design:type",Function),Ut("design:paramtypes",[]),Ut("design:returntype",Object)],Ui.prototype,"cache",null);var hi=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ot=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},fi=globalThis&&globalThis.__awaiter||function(i,e,t,n){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(l){try{d(n.next(l))}catch(g){o(g)}}function c(l){try{d(n.throw(l))}catch(g){o(g)}}function d(l){l.done?r(l.value):s(l.value).then(a,c)}d((n=n.apply(i,e||[])).next())})};class M{static claim(e,t,n){var s;let r;t?t.base=n:t=n??{};let o=t.key;const a=pe==null?void 0:pe.instance;if(a){let c;const d=a.node.children;if(e.isRow){const l=d.lastClaimedItem();((s=l==null?void 0:l.instance)===null||s===void 0?void 0:s.node.driver)===e&&(c=l)}if(c??(c=d.claim(o=o||Si(a),void 0,"nested blocks can be declared inside rebuild function only")),c){r=c.instance;const l=r.node;if(l.driver!==e&&e!==void 0)throw new Error(`changing block driver is not yet supported: "${r.node.driver.name}" -> "${e==null?void 0:e.name}"`);const g=l.builder.triggers;Ni(t.triggers,g)&&(t.triggers=g),l.builder=t}else r=new G(o||Si(a),e,a,t),r.node.ties=d.add(r)}else r=new G(o||"",e,a,t),r.node.ties=Yi.createItem(r),$t(r.node.ties);return r}static get block(){if(pe===void 0)throw new Error("current block is undefined");return pe.instance}static triggerRebuild(e,t){const n=e,s=n.node.builder;Ni(t,s.triggers)||(s.triggers=t,$t(n.node.ties))}static rebuildNestedTreesThenDo(e){st(void 0,e)}static getDefaultLoggingOptions(){return G.logging}static setDefaultLoggingOptions(e){G.logging=e}}M.shortFrameDuration=16;M.longFrameDuration=300;M.currentRebuildPriority=De.Realtime;M.frameDuration=M.longFrameDuration;class dt{constructor(e,t,n){this.name=e,this.isRow=t,this.preset=n}claim(e){const t=e;ti(t,t.node.builder)}create(e,t){ii(e,e.node.builder)}initialize(e){var t;const n=e;(t=this.preset)===null||t===void 0||t.call(this,n),ni(n,n.node.builder)}mount(e){}rebuild(e){si(e,e.node.builder)}finalize(e,t){const n=e;return ri(n,n.node.builder),t}applyKind(e,t){}applyCoords(e,t){}applyWidthGrowth(e,t){}applyMinWidth(e,t){}applyMaxWidth(e,t){}applyHeightGrowth(e,t){}applyMinHeight(e,t){}applyMaxHeight(e,t){}applyContentAlignment(e,t){}applyBlockAlignment(e,t){}applyContentWrapping(e,t){}applyOverlayVisible(e,t){}applyStyle(e,t,n,s){}}dt.fragment=new dt("fragment",!1,i=>i.kind=h.Group);function Si(i){const e=i.node.numerator++,t=In(e);let n;return ve.isLogging?n=`·${Xn(t)}`:n=`·${t}`,n}function qi(i){var e;return(e=i==null?void 0:i.mode)!==null&&e!==void 0?e:i!=null&&i.base?qi(i==null?void 0:i.base):Te.Default}function ti(i,e){const t=e.claim,n=e.base;t?t(i,n?()=>ti(i,n):xe):n&&ti(i,n)}function ii(i,e){const t=e.create,n=e.base;t?t(i,n?()=>ii(i,n):xe):n&&ii(i,n)}function ni(i,e){const t=e.initialize,n=e.base;t?t(i,n?()=>ni(i,n):xe):n&&ni(i,n)}function si(i,e){const t=e.rebuild,n=e.base;t?t(i,n?()=>si(i,n):xe):n&&si(i,n)}function ri(i,e){const t=e.finalize,n=e.base;t?t(i,n?()=>ri(i,n):xe):n&&ri(i,n)}class zn extends dt{constructor(e,t,n,s){super(t,n,s),this.element=e}create(e,t){t.native=this.element}}class Gn{}class Vi extends dt{constructor(){super("cursor",!1,e=>e.kind=h.Cursor)}create(e,t){t.native=new Gn,super.create(e,t)}}class Un{constructor(e){this.defaultValue=e}set value(e){G.setSubTreeVariableValue(this,e)}get value(){return G.useSubTreeVariableValue(this)}get valueOrUndefined(){return G.tryUseSubTreeVariable(this)}}class oi{constructor(e){this.x=e.x,this.y=e.y,this.runningMaxX=e.runningMaxX,this.runningMaxY=e.runningMaxY,this.flags=e.flags&~Xe.OwnCursorPosition}}var Xe;(function(i){i[i.None=0]="None",i[i.OwnCursorPosition=1]="OwnCursorPosition",i[i.UsesRunningColumnCount=2]="UsesRunningColumnCount",i[i.UsesRunningRowCount=4]="UsesRunningRowCount"})(Xe||(Xe={}));const qn=Object.freeze({x1:0,y1:0,x2:0,y2:0}),Pi=Object.freeze(new oi({x:1,y:1,runningMaxX:0,runningMaxY:0,flags:Xe.None}));class gi extends Le{constructor(e,t){super(),this.next=void 0,this.variable=e,this.value=t}}hi([C,ot("design:type",Object)],gi.prototype,"next",void 0);hi([C,ot("design:type",Un)],gi.prototype,"variable",void 0);class Vn{constructor(e,t,n,s,r){if(this.maxColumnCount=0,this.maxRowCount=0,this.key=e,this.driver=t,this.builder=n,r){const o=r.node;this.level=o.level+1,this.owner=r,this.outer=o.context?r:o.outer}else this.level=1,this.owner=r=s,this.outer=s;this.host=s,this.children=new Yi(Jn,!0),this.ties=void 0,this.stamp=0,this.context=void 0,this.numerator=0,this.maxColumnCount=0,this.maxRowCount=0,this.cursorPosition=void 0}}class G{constructor(e,t,n,s){this.node=new Vn(e,t,s,this,n),this.native=void 0,this.model=void 0,this.controller=void 0,this._kind=h.Row,this._area=void 0,this._coords=qn,this._widthGrowth=0,this._minWidth="",this._maxWidth="",this._heightGrowth=0,this._minHeight="",this._maxHeight="",this._contentAlignment=Be.Default,this._blockAlignment=Be.Default,this._contentWrapping=!0,this._overlayVisible=void 0,this._hasStyles=!1,this.rebuildPriority=De.Realtime,this.childrenShuffling=!1,G.grandBlockCount++,this.isOn(Te.PinpointRebuild)&&G.disposableBlockCount++}rebuild(e){Ji(this.node.ties)}prepareForRebuild(){this._area=void 0,this._hasStyles=!1}isOn(e){return(qi(this.node.builder)&e)===e}get isInitialRebuild(){return this.node.stamp===2}get isAuxiliary(){return this.kind>h.Note}get isSection(){return this.kind===h.Section}get isTable(){return this.kind===h.Table}get isAutoMountEnabled(){return!this.isOn(Te.ManualMount)&&this.node.host!==this}get isMoved(){return this.node.owner.node.children.isMoved(this.node.ties)}get strictOrder(){return this.node.children.isStrict}set strictOrder(e){this.node.children.isStrict=e}get kind(){return this._kind}set kind(e){(e!==this._kind||this.node.stamp<2)&&(this.node.driver.applyKind(this,e),this._kind=e)}get area(){return this._area}set area(e){var t,n;const s=this.node,r=s.driver;if(r.isRow)this.rowBreak();else{const o=s.owner.node,a=(n=(t=s.ties.prev)===null||t===void 0?void 0:t.instance.node.cursorPosition)!==null&&n!==void 0?n:Pi,c=s.cursorPosition=o.children.isStrict?new oi(a):void 0,d=r instanceof Vi,l=Kn(!d,e,o.maxColumnCount,o.maxRowCount,a,c);Mn(l,this._coords)||(r.applyCoords(this,l),this._coords=l),this._area=e??{}}}get widthGrowth(){return this._widthGrowth}set widthGrowth(e){e!==this._widthGrowth&&(this.node.driver.applyWidthGrowth(this,e),this._widthGrowth=e)}get minWidth(){return this._minWidth}set minWidth(e){e!==this._minWidth&&(this.node.driver.applyMinWidth(this,e),this._minWidth=e)}get maxWidth(){return this._maxWidth}set maxWidth(e){e!==this._maxWidth&&(this.node.driver.applyMaxWidth(this,e),this._maxWidth=e)}get heightGrowth(){return this._heightGrowth}set heightGrowth(e){e!==this._heightGrowth&&(this.node.driver.applyHeightGrowth(this,e),this._heightGrowth=e)}get minHeight(){return this._minHeight}set minHeight(e){e!==this._minHeight&&(this.node.driver.applyMinHeight(this,e),this._minHeight=e)}get maxHeight(){return this._maxHeight}set maxHeight(e){e!==this._maxHeight&&(this.node.driver.applyMaxHeight(this,e),this._maxHeight=e)}get contentAlignment(){return this._contentAlignment}set contentAlignment(e){e!==this._contentAlignment&&(this.node.driver.applyContentAlignment(this,e),this._contentAlignment=e)}get blockAlignment(){return this._blockAlignment}set blockAlignment(e){e!==this._blockAlignment&&(this.node.driver.applyBlockAlignment(this,e),this._blockAlignment=e)}get contentWrapping(){return this._contentWrapping}set contentWrapping(e){e!==this._contentWrapping&&(this.node.driver.applyContentWrapping(this,e),this._contentWrapping=e)}get overlayVisible(){return this._overlayVisible}set overlayVisible(e){e!==this._overlayVisible&&(this.node.driver.applyOverlayVisible(this,e),this._overlayVisible=e)}useStyle(e,t){this.node.driver.applyStyle(this,this._hasStyles,e,t),this._hasStyles=!0}configureReactronic(e){if(this.node.stamp!==1||!this.isOn(Te.PinpointRebuild))throw new Error("reactronic can be configured only for blocks with separate reaction mode and only inside initialize");return ve.getController(this.rebuild).configure(e)}static get curr(){if(!pe)throw new Error("current block is undefined");return pe}static tryUseSubTreeVariable(e){var t,n;let s=G.curr.instance;for(;((t=s.node.context)===null||t===void 0?void 0:t.variable)!==e&&s.node.owner!==s;)s=s.node.outer;return(n=s.node.context)===null||n===void 0?void 0:n.value}static useSubTreeVariableValue(e){var t;const n=(t=G.tryUseSubTreeVariable(e))!==null&&t!==void 0?t:e.defaultValue;if(!n)throw new Error("context doesn't exist");return n}static setSubTreeVariableValue(e,t){const s=G.curr.instance.node,r=s.owner,o=je(()=>{var a;return(a=r.node.context)===null||a===void 0?void 0:a.value});t&&t!==o?(o?s.outer=r:s.outer=r.node.outer,D.run({separation:!0},()=>{const a=s.context;a?(a.variable=e,a.value=t):s.context=new gi(e,t)})):o?s.outer=r:s.outer=r.node.outer}rowBreak(){var e,t;const s=(t=(e=this.node.ties.prev)===null||e===void 0?void 0:e.instance.node.cursorPosition)!==null&&t!==void 0?t:Pi,r=this.node.cursorPosition=new oi(s);r.x=1,r.y=r.runningMaxY+1}}G.grandBlockCount=0;G.disposableBlockCount=0;G.logging=void 0;hi([Ae,T({reentrance:ue.CancelPrevious,triggeringArgs:!0,noSideEffects:!1}),ot("design:type",Function),ot("design:paramtypes",[Object]),ot("design:returntype",void 0)],G.prototype,"rebuild",null);function Jn(i){const e=i.node;return e.stamp>=0?e.key:void 0}function Kn(i,e,t,n,s,r){var o,a;let c;if(typeof e=="string")c=Ln(e,{x1:0,y1:0,x2:0,y2:0}),is(c,s.x,s.y,t||1/0,n||1/0,c),r&&(r.x=i?c.x2+1:c.x1,r.y=c.y1,r.flags=Xe.OwnCursorPosition);else if(r){let d,l;e?(d=(o=e.cellsOverWidth)!==null&&o!==void 0?o:1,l=(a=e.cellsOverHeight)!==null&&a!==void 0?a:1):d=l=1;const g=t!==0?t:s.runningMaxX,S=n!==0?n:s.runningMaxY;c={x1:0,y1:0,x2:0,y2:0},d===0&&i&&(d=g||1,r.flags=Xe.UsesRunningColumnCount),d>=0?i?(c.x1=s.x,c.x2=Ge(c.x1+d-1,0,t||1/0),r.x=c.x2+1):(c.x1=c.x2=s.x+d,r.x=c.x2):i?(c.x1=Math.max(s.x+d,1),c.x2=s.x,r.x=c.x2+1):(c.x1=c.x2=s.x+d,r.x=c.x2),l===0&&i&&(l=S||1,r.flags|=Xe.UsesRunningRowCount),l>=0?i?(c.y1=s.y,c.y2=Ge(c.y1+l-1,0,n||1/0),c.y2>r.runningMaxY&&(r.runningMaxY=c.y2)):c.y1=c.y2=s.y+l:i?(c.y1=Math.max(s.y+l,1),c.y2=s.y):c.y1=c.y2=s.y+l}else throw new Error("relative layout requires sequential children");return c}function st(i,e){var t;const n=G.curr,s=n.instance,r=s.node.children;if(r.isMergeInProgress){let o;try{r.endMerge(i);for(const a of r.removedItems(!0))Ki(a,!0,!0);if(!i){const a=s.isSection,c=r.isStrict;let d,l,g=!1,S=s;for(const x of r.items()){if(D.isCanceled)break;const L=x.instance,R=L.node.driver.isRow,H=R?s:S,_=(t=L.rebuildPriority)!==null&&t!==void 0?t:De.Realtime;g=Qn(g,H,x,r,c),_===De.Realtime?$t(x):_===De.Normal?d=Ai(x,d):l=Ai(x,l),a&&R&&(S=L)}!D.isCanceled&&(d!==void 0||l!==void 0)&&(o=Zn(n,r,d,l).then(()=>e(i),x=>e(x)))}}finally{o||e(i)}}}function Qn(i,e,t,n,s){const r=t.instance,o=r.node;return r.native&&!r.isOn(Te.ManualMount)?(i||o.host!==e)&&(n.markAsMoved(t),i=!1):s&&n.isMoved(t)&&(i=!0),o.host=e,i}function Zn(i,e,t,n){return fi(this,void 0,void 0,function*(){const s=i.instance.node.stamp;t&&(yield Ri(i,s,e,t,De.Normal)),n&&(yield Ri(i,s,e,n,De.Background))})}function Ri(i,e,t,n,s){return fi(this,void 0,void 0,function*(){yield D.requestNextFrame();const r=i.instance;if(!D.isCanceled||!D.isFrameOver(1,M.shortFrameDuration/3)){let o=M.currentRebuildPriority;M.currentRebuildPriority=s;try{r.childrenShuffling&&ns(n);const a=s===De.Background?M.shortFrameDuration:1/0;let c=Math.min(a,Math.max(M.frameDuration/4,M.shortFrameDuration));for(const d of n)if($t(d),D.isFrameOver(1,c)&&(M.currentRebuildPriority=o,yield D.requestNextFrame(0),o=M.currentRebuildPriority,M.currentRebuildPriority=s,c=Math.min(4*c,Math.min(a,M.frameDuration))),D.isCanceled&&D.isFrameOver(1,M.shortFrameDuration/3))break}finally{M.currentRebuildPriority=o}}})}function $t(i){const e=i.instance,t=e.node;t.stamp>=0&&(e.isOn(Te.PinpointRebuild)?(t.stamp===0&&D.outside(()=>{ve.isLogging&&ve.setLoggingHint(e,t.key),ve.getController(e.rebuild).configure({order:t.level})}),je(e.rebuild,t.builder.triggers)):Ji(i))}function es(i){const e=i.node,t=e.driver;e.stamp===0?(e.stamp=1,je(()=>{t.create(i,i),t.initialize(i),i.isAutoMountEnabled&&t.mount(i)})):i.isMoved&&i.isAutoMountEnabled&&je(()=>t.mount(i))}function Ji(i){const e=i.instance,t=e.node;if(t.stamp>=0){let n;Qi(i,()=>{try{es(e),t.stamp++,t.numerator=0,e.prepareForRebuild(),t.children.beginMerge(),n=t.driver.rebuild(e),e.area===void 0&&t.owner.isTable&&(e.area=void 0),n instanceof Promise?n.then(r=>(st(void 0,xe),r),r=>{console.log(r),st(r??new Error("unknown error"),xe)}):st(void 0,xe)}catch(s){st(s,xe),console.log(`Rebuild failed: ${t.key}`),console.log(`${s}`)}})}}function Ki(i,e,t){const n=i.instance,s=n.node;if(s.stamp>=0){const r=s.driver;t&&s.key!==s.builder.key&&!r.isRow&&console.log(`WARNING: it is recommended to assign explicit key for conditional block in order to avoid unexpected side effects: ${s.key}`),s.stamp=~s.stamp;const o=je(()=>r.finalize(n,e));if(n.native=null,n.controller=null,n.isOn(Te.PinpointRebuild)){i.aux=void 0;const a=Dt;a?Dt=a.aux=i:Nt=Dt=i,Nt===i&&D.run({separation:"disposal",hint:`runDisposalLoop(initiator=${i.instance.node.key})`},()=>{ts().then(xe,c=>console.log(c))})}for(const a of s.children.items())Ki(a,o,!1);G.grandBlockCount--}}function ts(){return fi(this,void 0,void 0,function*(){yield D.requestNextFrame();let i=Nt;for(;i!==void 0;)D.isFrameOver(500,5)&&(yield D.requestNextFrame()),ve.dispose(i.instance),i=i.aux,G.disposableBlockCount--;Nt=Dt=void 0})}function $i(i){let e;const t=pe;return t?e=(...n)=>Qi(t,i,...n):e=i,e}function Qi(i,e,...t){const n=pe;try{return pe=i,e(...t)}finally{pe=n}}function Ni(i,e){let t=i===e;if(!t){if(Array.isArray(i))t=Array.isArray(e)&&i.length===e.length&&i.every((n,s)=>n===e[s]);else if(i===Object(i)&&e===Object(e)){for(const n in i)if(t=i[n]===e[n],!t)break}}return t}function is(i,e,t,n,s,r){const o=Ge(i.x1,e,n),a=Ge(i.x2,o,n);o<=a?(r.x1=o,r.x2=a):(r.x1=a,r.x2=o);const c=Ge(i.y1,t,s),d=Ge(i.y2,c,s);return c<=d?(r.y1=c,r.y2=d):(r.y1=d,r.y2=c),r}function Ge(i,e,t){return i===0?i=e:i<0?i=Math.max(t+i,1):i=Math.min(i,t),i}function Ai(i,e){return e==null&&(e=new Array),e.push(i),e}function ns(i){const e=i.length-1;let t=e;for(;t>=0;){const n=Math.floor(Math.random()*e),s=i[t];i[t]=i[n],i[n]=s,t--}return i}const ss=Promise.prototype.then;function rs(i,e){return i=i?$i(i):os,e=e?$i(e):as,ss.call(this,i,e)}function os(i){return i}function as(i){throw i}Promise.prototype.then=rs;const xe=(...i)=>{};let pe,Nt,Dt;class At extends dt{create(e,t){super.create(e,t)}initialize(e){ve.isLogging&&!e.node.driver.isRow&&e.native.setAttribute("key",e.node.key),super.initialize(e)}finalize(e,t){var n;const s=e.native;return s&&((n=s.resizeObserver)===null||n===void 0||n.unobserve(s),t&&s.remove()),super.finalize(e,t),!1}mount(e){const t=e.native;if(t){const n=e.node,s=n.owner.node.children.isStrict,r=At.findEffectiveHtmlBlockHost(e).native;if(r)if(s&&!n.driver.isRow){const o=At.findPrevSiblingHtmlBlock(e.node.ties);if(o===void 0||o.instance.node.driver.isRow)(r!==t.parentNode||!t.previousSibling)&&r.prepend(t);else{const a=o.instance.native;a instanceof Element&&a.nextSibling!==t&&r.insertBefore(t,a.nextSibling)}}else r.appendChild(t)}}relocate(e){}rebuild(e){const t=super.rebuild(e);return Tt&&cs(e.native,M.currentRebuildPriority,e.node.stamp),t}static get blinkingEffectMarker(){return Tt}static set blinkingEffectMarker(e){Tt=e}static findEffectiveHtmlBlockHost(e){let t=e.node.host;for(;!(t.native instanceof HTMLElement)&&!(t.native instanceof SVGElement)&&t!==e;)t=t.node.host;return t}static findPrevSiblingHtmlBlock(e){let t=e.prev;for(;t&&!(t.instance.native instanceof HTMLElement)&&!(t.instance.native instanceof SVGElement);)t=t.prev;return t}}class f extends At{create(e,t){t.native=document.createElement(e.node.driver.name),super.create(e,t)}}function cs(i,e,t){if(i!==void 0){const n=t%2,s=1>>n,r=Tt;i.classList.toggle(`${r}${e}${n}`,!0),i.classList.toggle(`${r}${e}${s}`,!1)}}let Tt;function ds(i,e){const t=new zn(global.document.body,"HtmlBody",!1,n=>n.kind=h.Section);return M.claim(t,i,e)}function ke(i,e){return M.claim(ft.div,i,e)}function ai(i,e){return M.claim(ft.img,i,e)}function ls(i,e){return M.claim(ft.li,i,e)}function us(i,e){return M.claim(ft.textarea,i,e)}function hs(i,e){return M.claim(ft.ul,i,e)}const ft={a:new f("a",!1,i=>i.kind=h.Native),abbr:new f("abbr",!1,i=>i.kind=h.Native),address:new f("address",!1,i=>i.kind=h.Native),area:new f("area",!1,i=>i.kind=h.Native),article:new f("article",!1,i=>i.kind=h.Native),aside:new f("aside",!1,i=>i.kind=h.Native),audio:new f("audio",!1,i=>i.kind=h.Native),b:new f("b",!1,i=>i.kind=h.Native),base:new f("base",!1,i=>i.kind=h.Native),bdi:new f("bdi",!1,i=>i.kind=h.Native),bdo:new f("bdo",!1,i=>i.kind=h.Native),big:new f("big",!1,i=>i.kind=h.Native),blockquote:new f("blockquote",!1,i=>i.kind=h.Native),body:new f("body",!1,i=>i.kind=h.Native),br:new f("br",!1,i=>i.kind=h.Native),button:new f("button",!1,i=>i.kind=h.Native),canvas:new f("canvas",!1,i=>i.kind=h.Native),caption:new f("caption",!1,i=>i.kind=h.Native),cite:new f("cite",!1,i=>i.kind=h.Native),code:new f("code",!1,i=>i.kind=h.Native),col:new f("col",!1,i=>i.kind=h.Native),colgroup:new f("colgroup",!1,i=>i.kind=h.Native),data:new f("data",!1,i=>i.kind=h.Native),datalist:new f("datalist",!1,i=>i.kind=h.Native),dd:new f("dd",!1,i=>i.kind=h.Native),del:new f("del",!1,i=>i.kind=h.Native),details:new f("details",!1,i=>i.kind=h.Native),dfn:new f("dfn",!1,i=>i.kind=h.Native),div:new f("div",!1,i=>i.kind=h.Native),dl:new f("dl",!1,i=>i.kind=h.Native),dt:new f("dt",!1,i=>i.kind=h.Native),em:new f("em",!1,i=>i.kind=h.Native),embed:new f("embed",!1,i=>i.kind=h.Native),fieldset:new f("fieldset",!1,i=>i.kind=h.Native),figcaption:new f("figcaption",!1,i=>i.kind=h.Native),figure:new f("figure",!1,i=>i.kind=h.Native),footer:new f("footer",!1,i=>i.kind=h.Native),form:new f("form",!1,i=>i.kind=h.Native),h1:new f("h1",!1,i=>i.kind=h.Native),h2:new f("h2",!1,i=>i.kind=h.Native),h3:new f("h3",!1,i=>i.kind=h.Native),h4:new f("h4",!1,i=>i.kind=h.Native),h5:new f("h5",!1,i=>i.kind=h.Native),h6:new f("h6",!1,i=>i.kind=h.Native),head:new f("head",!1,i=>i.kind=h.Native),header:new f("header",!1,i=>i.kind=h.Native),hgroup:new f("hgroup",!1,i=>i.kind=h.Native),hr:new f("hr",!1,i=>i.kind=h.Native),html:new f("html",!1,i=>i.kind=h.Native),i:new f("i",!1,i=>i.kind=h.Native),iframe:new f("iframe",!1,i=>i.kind=h.Native),img:new f("img",!1,i=>i.kind=h.Native),input:new f("input",!1,i=>i.kind=h.Native),ins:new f("ins",!1,i=>i.kind=h.Native),kbd:new f("kbd",!1,i=>i.kind=h.Native),keygen:new f("keygen",!1,i=>i.kind=h.Native),label:new f("label",!1,i=>i.kind=h.Native),legend:new f("legend",!1,i=>i.kind=h.Native),li:new f("li",!1,i=>i.kind=h.Native),link:new f("link",!1,i=>i.kind=h.Native),main:new f("main",!1,i=>i.kind=h.Native),map:new f("map",!1,i=>i.kind=h.Native),mark:new f("mark",!1,i=>i.kind=h.Native),menu:new f("menu",!1,i=>i.kind=h.Native),menuitem:new f("menuitem",!1,i=>i.kind=h.Native),meta:new f("meta",!1,i=>i.kind=h.Native),meter:new f("meter",!1,i=>i.kind=h.Native),nav:new f("nav",!1,i=>i.kind=h.Native),noindex:new f("noindex",!1,i=>i.kind=h.Native),noscript:new f("noscript",!1,i=>i.kind=h.Native),object:new f("object",!1,i=>i.kind=h.Native),ol:new f("ol",!1,i=>i.kind=h.Native),optgroup:new f("optgroup",!1,i=>i.kind=h.Native),option:new f("option",!1,i=>i.kind=h.Native),output:new f("output",!1,i=>i.kind=h.Native),p:new f("p",!1,i=>i.kind=h.Native),param:new f("param",!1,i=>i.kind=h.Native),picture:new f("picture",!1,i=>i.kind=h.Native),pre:new f("pre",!1,i=>i.kind=h.Native),progress:new f("progress",!1,i=>i.kind=h.Native),q:new f("q",!1,i=>i.kind=h.Native),rp:new f("rp",!1,i=>i.kind=h.Native),rt:new f("rt",!1,i=>i.kind=h.Native),ruby:new f("ruby",!1,i=>i.kind=h.Native),s:new f("s",!1,i=>i.kind=h.Native),samp:new f("samp",!1,i=>i.kind=h.Native),script:new f("script",!1,i=>i.kind=h.Native),section:new f("section",!1,i=>i.kind=h.Native),select:new f("select",!1,i=>i.kind=h.Native),small:new f("small",!1,i=>i.kind=h.Native),source:new f("source",!1,i=>i.kind=h.Native),span:new f("span",!1,i=>i.kind=h.Native),strong:new f("strong",!1,i=>i.kind=h.Native),style:new f("style",!1,i=>i.kind=h.Native),sub:new f("sub",!1,i=>i.kind=h.Native),summary:new f("summary",!1,i=>i.kind=h.Native),sup:new f("sup",!1,i=>i.kind=h.Native),table:new f("table",!1,i=>i.kind=h.Native),template:new f("template",!1,i=>i.kind=h.Native),tbody:new f("tbody",!1,i=>i.kind=h.Native),td:new f("td",!1,i=>i.kind=h.Native),textarea:new f("textarea",!1,i=>i.kind=h.Native),tfoot:new f("tfoot",!1,i=>i.kind=h.Native),th:new f("th",!1,i=>i.kind=h.Native),thead:new f("thead",!1,i=>i.kind=h.Native),time:new f("time",!1,i=>i.kind=h.Native),title:new f("title",!1,i=>i.kind=h.Native),tr:new f("tr",!1,i=>i.kind=h.Native),track:new f("track",!1,i=>i.kind=h.Native),u:new f("u",!1,i=>i.kind=h.Native),ul:new f("ul",!1,i=>i.kind=h.Native),var:new f("var",!1,i=>i.kind=h.Native),video:new f("video",!1,i=>i.kind=h.Native),wbr:new f("wbr",!1,i=>i.kind=h.Native)},U=Symbol("DataForSensor"),Ci=Symbol("ResizeObserver"),fs=[];function Ee(i,e,t,n,s=!1){let r,o=0,a;for(;o<i.length;){const c=i[o],d=c[t];if(d!==void 0){if(!s){if(a===void 0)a=d.window;else if(a!==d.window)break}if(r===void 0){for(const l of n)if(d[l]!==void 0&&e.includes(c)){r=d;break}}}o++}return{data:r,window:a}}function ze(i,e,t,n,s=!1,r=()=>!1){let o=n,a=0,c=0,d,l;for(;a<i.length;){let g;const S=i[a],x=S[e];if(x!==void 0){if(!s){if(d===void 0)d=x.window;else if(d!==x.window)break}g=x[t],g!==void 0&&(o!==n?o.push(g):g!==n[c]?(o=n.slice(0,c),o.push(g)):c++)}l===void 0&&r(S)&&(l=g),a++}return c===0&&o===n&&n.length>0&&(o=fs),{dataList:o,window:d,activeData:l}}const qt=global.Element;qt!==void 0&&(Object.defineProperty(qt.prototype,"dataForSensor",{configurable:!1,enumerable:!1,get(){let i=this[U];return i===void 0&&(i=this[U]={}),i},set(i){this[U]=i}}),Object.defineProperty(qt.prototype,"resizeObserver",{configurable:!1,enumerable:!1,get(){return this[Ci]},set(i){this[Ci]=i}}));function gs(i){M.claim(ps.row)}class et extends f{applyKind(e,t){const n=We.layouts[t];n&&e.native.setAttribute(We.attribute,n),vs[t](e),super.applyKind(e,t)}applyCoords(e,t){const n=e.native.style;if(t){const s=t.x1||1,r=t.y1||1,o=t.x2||s,a=t.y2||r;n.gridArea=`${r} / ${s} / span ${a-r+1} / span ${o-s+1}`}else n.gridArea="";super.applyCoords(e,t)}applyWidthGrowth(e,t){const n=e.native.style;t>0?(n.flexGrow=`${t}`,n.flexBasis="0"):(n.flexGrow="",n.flexBasis="")}applyMinWidth(e,t){e.native.style.minWidth=`${t}`}applyMaxWidth(e,t){e.native.style.maxWidth=`${t}`}applyHeightGrowth(e,t){const n=e.node,s=n.driver;if(s.isRow){const r=e.native.style;t>0?r.flexGrow=`${t}`:r.flexGrow=""}else{const r=n.host.node.driver;r.isRow&&(s.applyBlockAlignment(e,Be.Stretch),r.applyHeightGrowth(n.host,t))}}applyMinHeight(e,t){e.native.style.minHeight=`${t}`}applyMaxHeight(e,t){e.native.style.maxHeight=`${t}`}applyContentAlignment(e,t){const n=e.native.style;if(t&Be.Default)n.justifyContent=n.alignContent=n.textAlign="";else{const s=Ot[t>>2&3],r=Ot[t&3],o=ms[t&3];n.justifyContent=s,n.alignItems=r,n.textAlign=o}}applyBlockAlignment(e,t){const n=e.native.style;if(t&Be.Default)n.alignSelf=n.justifySelf="";else{const s=Ot[t>>2&3],r=Ot[t&3];n.alignSelf=s,n.justifySelf=r}}applyContentWrapping(e,t){const n=e.native.style;t?(n.flexFlow="wrap",n.overflow="",n.textOverflow="",n.whiteSpace=""):(n.flexFlow="",n.overflow="hidden",n.textOverflow="ellipsis",n.whiteSpace="nowrap")}applyOverlayVisible(e,t){const s=e.native.style,r=f.findEffectiveHtmlBlockHost(e).native;if(t===!0){const o=document.body,a=r.getBoundingClientRect();o.offsetWidth-a.left>a.right?(s.left="0",s.right=""):(s.left="",s.right="0"),o.clientHeight-a.top>a.bottom?(s.top="100%",s.bottom=""):(s.top="",s.bottom="100%"),s.display="",s.position="absolute",s.minWidth="100%",s.boxSizing="border-box",r.style.position="relative"}else r.style.position="",t===!1?s.display="none":s.position=s.display=s.left=s.right=s.top=s.bottom=""}applyStyle(e,t,n,s){const r=e.native;s??(s=!0),t?r.classList.toggle(n,s):r.className=s?n:""}rebuild(e){return e.kind<=h.Table&&gs(),super.rebuild(e)}}const We={block:"block",row:"row",layouts:["section","table","note","group","",""],attribute:"kind"},ps={section:new et(We.block,!1,i=>i.kind=h.Section),table:new et(We.block,!1,i=>i.kind=h.Table),note:new et(We.block,!1,i=>i.kind=h.Note),group:new et(We.block,!1,i=>i.kind=h.Group),row:new et(We.row,!0,i=>i.kind=h.Row),cursor:new Vi},vs=[i=>{const e=i.native.style;e.display="flex",e.flexDirection="column",e.alignSelf=i.node.owner.isTable?"stretch":"center",e.textAlign="initial",e.flexShrink="1",e.minWidth="0"},i=>{const e=i.native.style;e.alignSelf=i.node.owner.isTable?"stretch":"center",e.display="grid",e.flexBasis="0",e.gridAutoRows="minmax(min-content, 1fr)",e.gridAutoColumns="minmax(min-content, 1fr)",e.textAlign="initial"},i=>{const e=i.native.style;e.alignSelf=i.node.owner.isTable?"stretch":"center",e.display="inline-grid",e.flexShrink="1"},i=>{const e=i.native.style;e.display="contents"},i=>{const e=i.native.style;e.display=i.node.owner.isTable?"none":"flex",e.flexDirection="row"}],Ot=["stretch","start","center","end"],ms=["justify","left","center","right"];class pi extends Le{constructor(){super(...arguments),this.revision=0,this.elementDataList=[]}get topElementData(){return this.elementDataList.length>0?this.elementDataList[0]:void 0}}var bs=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Vt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class vi extends pi{constructor(){super(...arguments),this.activeData=void 0,this.previousActiveData=void 0}setActiveWindow(e,t=""){if(e!==this.activeData){const n=this.activeData;if(n&&Ce(n,"popupToggle")){const s=n.popupToggle;s instanceof Fn&&(s.variable=s.valueOff)}this.previousActiveData=n,this.activeData=e}}}bs([y,Vt("design:type",Function),Vt("design:paramtypes",[Object,String]),Vt("design:returntype",void 0)],vi.prototype,"setActiveWindow",null);var jt=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Lt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class Ie extends pi{constructor(e,t){super(),this.sourceElement=void 0,this.focusSensor=e,this.windowSensor=t,this.preventDefault=!1,this.stopPropagation=!1}getDefaultSensorData(){const e=this.sourceElement;return e?e[U]:void 0}setPreventDefaultAndStopPropagation(e){this.preventDefault&&(e.preventDefault(),this.preventDefault=!1),this.stopPropagation&&(e.stopPropagation(),this.stopPropagation=!1)}}jt([C,Lt("design:type",Object)],Ie.prototype,"focusSensor",void 0);jt([C,Lt("design:type",vi)],Ie.prototype,"windowSensor",void 0);jt([C,Lt("design:type",Boolean)],Ie.prototype,"preventDefault",void 0);jt([C,Lt("design:type",Boolean)],Ie.prototype,"stopPropagation",void 0);var It=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},fe=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},A;(function(i){i[i.None=0]="None",i[i.Ctrl=1]="Ctrl",i[i.Shift=2]="Shift",i[i.Alt=4]="Alt",i[i.Meta=8]="Meta",i[i.CtrlShift=3]="CtrlShift",i[i.CtrlAlt=5]="CtrlAlt",i[i.CtrlMeta=9]="CtrlMeta",i[i.CtrlShiftAlt=7]="CtrlShiftAlt",i[i.CtrlShiftAltMeta=15]="CtrlShiftAltMeta",i[i.CtrlShiftMeta=11]="CtrlShiftMeta",i[i.ShiftAlt=6]="ShiftAlt",i[i.ShiftMeta=10]="ShiftMeta",i[i.ShiftAltMeta=14]="ShiftAltMeta",i[i.AltMeta=12]="AltMeta"})(A||(A={}));class gt extends Ie{constructor(){super(),this.down="",this.up="",this.modifiers=A.None}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),n.removeEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),e.addEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})))}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.down="",this.up="",this.modifiers=A.None}onKeyDown(e){this.keyDown(e),this.setPreventDefaultAndStopPropagation(e)}onKeyUp(e){this.keyUp(e),this.setPreventDefaultAndStopPropagation(e)}keyDown(e){this.updateSensorData(e),this.up="",Ti(!0,()=>this.down=e.key)}keyUp(e){this.updateSensorData(e),this.down="",Ti(!0,()=>this.up=e.key)}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath();this.elementDataList=ze(t,U,"keyboard",this.elementDataList).dataList,this.modifiers=Se(e),this.revision++}static getKeyAsModifierIfAny(e){let t=A.None;return e==="Control"?t=A.Ctrl:e==="Shift"?t=A.Shift:e==="Alt"?t=A.Alt:e==="Meta"&&(t=A.Meta),t}}It([y,fe("design:type",Function),fe("design:paramtypes",[Object,Boolean]),fe("design:returntype",void 0)],gt.prototype,"listen",null);It([y,fe("design:type",Function),fe("design:paramtypes",[]),fe("design:returntype",void 0)],gt.prototype,"reset",null);It([y,T({logging:P.Off}),fe("design:type",Function),fe("design:paramtypes",[KeyboardEvent]),fe("design:returntype",void 0)],gt.prototype,"keyDown",null);It([y,T({logging:P.Off}),fe("design:type",Function),fe("design:paramtypes",[KeyboardEvent]),fe("design:returntype",void 0)],gt.prototype,"keyUp",null);function Se(i){let e=A.None;return i.ctrlKey?e|=A.Ctrl:e&=~A.Ctrl,i.shiftKey?e|=A.Shift:e&=~A.Shift,i.altKey?e|=A.Alt:e&=~A.Alt,i.metaKey?e|=A.Meta:e&=~A.Meta,e}var ae;(function(i){i[i.None=0]="None",i[i.Left=1]="Left",i[i.Right=2]="Right",i[i.Middle=4]="Middle"})(ae||(ae={}));class Mt extends Ie{constructor(e,t){super(e,t),this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None}}function Ct(i){switch(i.button){case 0:return ae.Left;case 1:return ae.Middle;case 2:return ae.Right;default:return ae.None}}function Zi(i,e){return(e&i)!==0}var Z=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},k=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class B extends Mt{constructor(e,t){super(e,t),this.hotPositionX=1/0,this.hotPositionY=1/0,this.pointerButton=ae.None,this.tryingDragging=!1,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=A.None}getData(){return this.draggingData}setData(e){this.draggingData=e}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){const t=Ct(e);!this.dragStarted&&this.clickable===void 0&&(t===ae.Left||t===ae.Right)&&this.tryClickingOrDragging(e)}onPointerMove(e){this.moveOver(e),Zi(this.pointerButton,e.buttons)?this.tryingDragging?(Math.abs(e.clientX-this.startX)>B.DraggingThreshold||Math.abs(e.clientY-this.startY)>B.DraggingThreshold)&&this.startDragging(e):this.dragStarted?this.dragOver(e):this.clickable&&this.clickingOver(e):this.dragStarted?(this.cancelDragging(),this.reset()):this.clickable&&this.reset()}onPointerUp(e){this.draggingOver?(this.drop(e),this.finishDragging()):this.dragStarted?this.finishDragging():this.clickable&&this.click(e),this.reset()}onLostPointerCapture(e){(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}onKeyDown(e){e.key==="Escape"&&(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}moveOver(e){this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY}tryClickingOrDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY),{data:r,window:o}=Ee(n,s,U,["click","draggable"]),a=r==null?void 0:r.click,c=r==null?void 0:r.draggable;(a||c)&&(this.clickable=a,this.clicking=a,this.draggableData=c,this.tryingDragging=c!==void 0,this.dragSource=(t=Ee(n,s,U,["drag"],!0).data)===null||t===void 0?void 0:t.drag,this.pointerButton=Ct(e),this.startX=e.clientX,this.startY=e.clientY,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,D.separate(()=>{var d;(d=this.windowSensor)===null||d===void 0||d.setActiveWindow(o,"pointer")})),this.revision++}clickingOver(e){this.updateClicking(e),this.revision++}click(e){this.updateClicking(e)&&(this.modifiers=this.immediateModifiers,this.clickX=e.clientX,this.clickY=e.clientY,this.clicked=this.clicking),this.clickable=void 0,this.revision++}startDragging(e){this.updateDragTarget(e),this.clickable=void 0,this.dragStarted=!0,this.dragFinished=!1,this.tryingDragging=!1,this.dropped=!1,this.revision++}dragOver(e){this.updateDragTarget(e),this.draggingOver=!0,this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0,this.revision++}finishDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.revision++}cancelDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.dropped=!1,this.revision++}reset(){this.pointerButton=ae.None,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.tryingDragging=!1,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=A.None,this.revision++}updateClicking(e){var t;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY),r=(t=Ee(n,s,U,["click"]).data)===null||t===void 0?void 0:t.click,o=this.clickable===r;return o&&(this.clicking=r),this.immediateModifiers=Se(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,o}updateDragTarget(e){const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:s,window:r}=Ee(t,n,U,["drag"]),o=s==null?void 0:s.drag;o!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=o,this.dragTargetWindow=r),this.immediateModifiers=Se(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY}whenClickingOrDragging(){(this.draggingOver||this.clickable)&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}whenMoving(){Number.isFinite(this.immediatePositionX)&&Number.isFinite(this.immediatePositionY)&&(this.hotPositionX=this.immediatePositionX,this.hotPositionY=this.immediatePositionY)}}B.DraggingThreshold=4;Z([C,k("design:type",Object)],B.prototype,"clickable",void 0);Z([C,k("design:type",Boolean)],B.prototype,"tryingDragging",void 0);Z([C,k("design:type",Object)],B.prototype,"draggingData",void 0);Z([C,k("design:type",Boolean)],B.prototype,"dropAllowed",void 0);Z([y,k("design:type",Function),k("design:paramtypes",[Object,Boolean]),k("design:returntype",void 0)],B.prototype,"listen",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"moveOver",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"tryClickingOrDragging",null);Z([y,T({reentrance:ue.CancelPrevious,logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"clickingOver",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"click",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"startDragging",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"dragOver",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[PointerEvent]),k("design:returntype",void 0)],B.prototype,"drop",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],B.prototype,"finishDragging",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],B.prototype,"cancelDragging",null);Z([y,T({logging:P.Off}),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],B.prototype,"reset",null);Z([Ae,T({throttling:0}),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],B.prototype,"whenClickingOrDragging",null);Z([Ae,T({throttling:0}),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],B.prototype,"whenMoving",null);var pt=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ne=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class Je extends Ie{constructor(e){super(void 0,e),this.activeData=void 0,this.oldActiveData=void 0,this.contextElementDataList=[]}setActiveData(e,t=""){var n,s;if(e!==this.activeData){const r=this.activeData;r!==void 0&&Ce(r,"isEditMode")&&(r.isEditMode=!1,(n=r.onFocusOut)===null||n===void 0||n.call(r,this)),e!==void 0&&Ce(e,"isEditMode")&&(e.isEditMode=!0,(s=e.onFocusIn)===null||s===void 0||s.call(e,this)),this.oldActiveData=r,this.activeData=e}}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),n.removeEventListener("focusout",this.onFocusOut.bind(this),{capture:!0}),n.removeEventListener("mousedown",this.onMouseDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),e.addEventListener("focusout",this.onFocusOut.bind(this),{capture:!0}),e.addEventListener("mousedown",this.onMouseDown.bind(this),{capture:!0})))}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.revision++}onFocusIn(e){this.doFocusIn(e),this.setPreventDefaultAndStopPropagation(e)}onFocusOut(e){this.doFocusOut(e),this.setPreventDefaultAndStopPropagation(e)}onMouseDown(e){this.doMouseDown(e)}doFocusIn(e){var t;const n=e.composedPath(),{dataList:s,activeData:r,window:o}=ze(n,U,"focus",this.elementDataList,!1,c=>document.activeElement===c);this.elementDataList=s,this.setActiveData(r),(t=this.windowSensor)===null||t===void 0||t.setActiveWindow(o);const{dataList:a}=ze(n,U,"context",this.contextElementDataList,!0);this.contextElementDataList=Jt(this,this.contextElementDataList,a),this.reset()}doFocusOut(e){var t;if(e.relatedTarget===null){const s=e.composedPath(),{dataList:r}=ze(s,U,"focus",this.elementDataList,!0);this.elementDataList=r;const o=r.filter(a=>a!==this.activeData);if(o.length>0)this.trySetEditMode(o[0],"  └─");else{const a=this.getDefaultSensorData();(a==null?void 0:a.focus)!==void 0?this.trySetEditMode(a.focus,"    └─"):this.setActiveData(void 0),(t=this.windowSensor)===null||t===void 0||t.setActiveWindow(a==null?void 0:a.window)}this.contextElementDataList=Jt(this,this.contextElementDataList,[]),this.reset()}}doMouseDown(e){const t=e.composedPath(),n=t.find(s=>s!==document.body&&s.tabIndex>=0)!==void 0;if(t.length>0&&!n){const{dataList:s}=ze(t,U,"focus",this.elementDataList,!0);this.elementDataList=s,s.length>0&&(this.trySetEditMode(s[0],"└─"),e.preventDefault());const{dataList:r}=ze(t,U,"context",this.contextElementDataList,!0);this.contextElementDataList=Jt(this,this.contextElementDataList,r),this.reset()}}trySetEditMode(e,t=""){e!==void 0&&Ce(e,"isEditMode")&&(e.isEditMode=!0)}}pt([y,ne("design:type",Function),ne("design:paramtypes",[Object,String]),ne("design:returntype",void 0)],Je.prototype,"setActiveData",null);pt([y,ne("design:type",Function),ne("design:paramtypes",[Object,Boolean]),ne("design:returntype",void 0)],Je.prototype,"listen",null);pt([y,T({logging:P.Off}),ne("design:type",Function),ne("design:paramtypes",[FocusEvent]),ne("design:returntype",void 0)],Je.prototype,"doFocusIn",null);pt([y,ne("design:type",Function),ne("design:paramtypes",[FocusEvent]),ne("design:returntype",void 0)],Je.prototype,"doFocusOut",null);pt([y,T({logging:P.Off}),ne("design:type",Function),ne("design:paramtypes",[MouseEvent]),ne("design:returntype",void 0)],Je.prototype,"doMouseDown",null);function Jt(i,e,t){return t!==e&&(e.forEach(n=>{var s;Ce(n,"contextToggle")&&n.contextToggle&&n.contextToggle.valueOn!==n.contextToggle.valueOff&&(n.contextToggle.variable=n.contextToggle.valueOff),Ce(n,"onContextOut")&&((s=n.onContextOut)===null||s===void 0||s.call(n,i))}),t.forEach(n=>{var s;Ce(n,"contextToggle")&&n.contextToggle&&(n.contextToggle.variable=n.contextToggle.valueOn),Ce(n,"onContextIn")&&((s=n.onContextIn)===null||s===void 0||s.call(n,i))})),t}var Ye=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},X=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},K;(function(i){i[i.Pressed=0]="Pressed",i[i.Selecting=1]="Selecting",i[i.Selected=2]="Selected",i[i.Released=3]="Released"})(K||(K={}));class Me extends Mt{constructor(e,t){super(e,t),this.state=K.Released,this.pointerButton=ae.None,this.originData=void 0,this.selectedData=void 0,this.selectedX=1/0,this.selectedY=1/0,this.selected=!1}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){this.state===K.Released&&this.pointerButton===ae.None&&this.press(e),this.setPreventDefaultAndStopPropagation(e)}onPointerMove(e){const t=this.state;Zi(this.pointerButton,e.buttons)?(t===K.Pressed||t===K.Selecting)&&this.selecting(e):t!==K.Released&&(this.cancel(),this.reset()),this.setPreventDefaultAndStopPropagation(e)}onPointerUp(e){Ct(e)===this.pointerButton?this.state===K.Selecting?(this.select(e),this.release()):this.state===K.Pressed&&this.release():this.cancel(),this.reset(),this.setPreventDefaultAndStopPropagation(e)}onLostPointerCapture(e){this.state!==K.Released&&(this.cancel(),this.reset())}onKeyDown(e){e.key==="Escape"&&this.state!==K.Released&&(this.cancel(),this.reset())}press(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:s,window:r}=Ee(t,n,U,["button"]),o=s==null?void 0:s.button;o&&(this.state=K.Pressed,this.pointerButton=Ct(e),this.originData=o,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++),D.separate(()=>{var a;(a=this.windowSensor)===null||a===void 0||a.setActiveWindow(r,"button")})}selecting(e){this.updateSensorData(e),this.state=K.Selecting,this.selected=!1}select(e){this.updateSensorData(e),this.state=K.Selected,this.selectedX=e.clientX,this.selectedY=e.clientY,this.selected=!0}release(){this.preventDefault=!1,this.stopPropagation=!1,this.state=K.Released,this.revision++}cancel(){this.state=K.Released,this.selected=!1,this.revision++}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.state=K.Released,this.originData=void 0,this.selectedData=void 0,this.pointerButton=ae.None,this.positionX=1/0,this.positionY=1/0,this.selectedX=1/0,this.selectedY=1/0,this.modifiers=A.None,this.selected=!1}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}}Ye([y,X("design:type",Function),X("design:paramtypes",[Object,Boolean]),X("design:returntype",void 0)],Me.prototype,"listen",null);Ye([y,T({logging:P.Off}),X("design:type",Function),X("design:paramtypes",[PointerEvent]),X("design:returntype",void 0)],Me.prototype,"press",null);Ye([y,T({reentrance:ue.CancelPrevious,logging:P.Off}),X("design:type",Function),X("design:paramtypes",[PointerEvent]),X("design:returntype",void 0)],Me.prototype,"selecting",null);Ye([y,T({logging:P.Off}),X("design:type",Function),X("design:paramtypes",[PointerEvent]),X("design:returntype",void 0)],Me.prototype,"select",null);Ye([y,T({logging:P.Off}),X("design:type",Function),X("design:paramtypes",[]),X("design:returntype",void 0)],Me.prototype,"release",null);Ye([y,T({logging:P.Off}),X("design:type",Function),X("design:paramtypes",[]),X("design:returntype",void 0)],Me.prototype,"cancel",null);Ye([y,T({logging:P.Off}),X("design:type",Function),X("design:paramtypes",[]),X("design:returntype",void 0)],Me.prototype,"reset",null);var mi=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},$e=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class _t extends Mt{constructor(){super(),this.target=void 0,this.target=void 0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),n.removeEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),e.addEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})))}onPointerOver(e){this.doPointerOver(e)}onPointerOut(e){this.doPointerOut()}doPointerOver(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY);this.target=(t=Ee(n,s,U,["hover"]).data)===null||t===void 0?void 0:t.hover,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}doPointerOut(){this.preventDefault=!1,this.stopPropagation=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None,this.target=void 0}}mi([y,$e("design:type",Function),$e("design:paramtypes",[Object,Boolean]),$e("design:returntype",void 0)],_t.prototype,"listen",null);mi([y,T({logging:P.Off}),$e("design:type",Function),$e("design:paramtypes",[PointerEvent]),$e("design:returntype",void 0)],_t.prototype,"doPointerOver",null);mi([y,T({logging:P.Off}),$e("design:type",Function),$e("design:paramtypes",[]),$e("design:returntype",void 0)],_t.prototype,"doPointerOut",null);var bi=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ne=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class Ht extends Mt{constructor(){super(),this.target=void 0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&n.removeEventListener("wheel",this.onWheel.bind(this),{capture:!0}),this.sourceElement=e,e&&t&&e.addEventListener("wheel",this.onWheel.bind(this),{capture:!0,passive:!0}))}reset(){this.doReset()}onWheel(e){this.doWheel(e)}doWheel(e){this.updateSensorData(e)}doReset(){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=A.None,this.positionX=1/0,this.positionY=1/0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}updateSensorData(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY);this.target=(t=Ee(n,s,U,["wheel"]).data)===null||t===void 0?void 0:t.wheel,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.revision++}}bi([y,Ne("design:type",Function),Ne("design:paramtypes",[Object,Boolean]),Ne("design:returntype",void 0)],Ht.prototype,"listen",null);bi([y,Ne("design:type",Function),Ne("design:paramtypes",[]),Ne("design:returntype",void 0)],Ht.prototype,"reset",null);bi([y,T({reentrance:ue.CancelPrevious,logging:P.Off}),Ne("design:type",Function),Ne("design:paramtypes",[WheelEvent]),Ne("design:returntype",void 0)],Ht.prototype,"doWheel",null);var en=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ue=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class yi extends pi{constructor(){super(),this.resizedElements=[],this.observer=new ResizeObserver(this.onResize.bind(this))}reset(){this.doReset()}observeResizing(e,t,n="content-box"){const s=e.native;if(s instanceof Element)t?(s.resizeObserver!==void 0&&s.resizeObserver!==this.observer&&s.resizeObserver.unobserve(s),s.resizeObserver=this.observer,this.observer.observe(s,{box:n})):s.resizeObserver===this.observer&&(this.observer.unobserve(s),s.resizeObserver=void 0);else throw new Error("cannot observe resizing of non-HTML block")}onResize(e){this.resize(e),this.reset()}resize(e){this.revision++,this.resizedElements=e.map(t=>{const n=t.target;return{borderBoxSize:t.borderBoxSize,contentBoxSize:t.contentBoxSize,contentRect:t.contentRect,resizeData:n.dataForSensor.resize}})}doReset(){this.resizedElements=[]}}en([y,Ue("design:type",Function),Ue("design:paramtypes",[]),Ue("design:returntype",void 0)],yi.prototype,"reset",null);en([y,T({logging:P.Off}),Ue("design:type",Function),Ue("design:paramtypes",[Array]),Ue("design:returntype",void 0)],yi.prototype,"resize",null);var q=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},O=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class Y extends Ie{constructor(e,t){super(e,t),this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat=new Map,this.draggingImage=void 0,this.draggingImageX=1/0,this.draggingImageY=1/0,this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=A.None}getData(e){return this.dataByFormat.get(e)}setData(e,t){this.dataByFormat.set(e,t)}clearData(e){e?this.dataByFormat.delete(e):this.dataByFormat.clear()}setDragImage(e,t,n){this.draggingImage=e,this.draggingImageX=t,this.draggingImageY=n}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),n.removeEventListener("drag",this.onDrag.bind(this),{capture:!0}),n.removeEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),n.removeEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),n.removeEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),n.removeEventListener("drop",this.onDrop.bind(this),{capture:!0}),n.removeEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),e.addEventListener("drag",this.onDrag.bind(this),{capture:!0}),e.addEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),e.addEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),e.addEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),e.addEventListener("drop",this.onDrop.bind(this),{capture:!0}),e.addEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})))}onDragStart(e){this.startDragging(e),this.updateEventOnDragStart(e)}onDrag(e){this.dragging(e)}onDragEnter(e){this.enterTarget(e),this.updateEventOnDropAllowed(e)}onDragLeave(e){this.leaveTarget(e)}onDragOver(e){this.dragOver(e),this.updateEventOnDropAllowed(e)}onDrop(e){this.drop(e)}onDragEnd(e){this.finishDragging(e),this.reset()}startDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY),{data:r,window:o}=Ee(n,s,U,["htmlDraggable"]);this.draggable=r==null?void 0:r.htmlDraggable,this.dragSource=(t=Ee(n,s,U,["htmlDrag"],!0).data)===null||t===void 0?void 0:t.htmlDrag,this.dragStarted=!0,this.dragFinished=!1,this.startX=e.clientX,this.startY=e.clientY,this.modifiers=Se(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,this.revision++,D.separate(()=>{var a;(a=this.windowSensor)===null||a===void 0||a.setActiveWindow(o,"htmlDrag")})}dragging(e){this.dragStarted=!0,this.dragFinished=!1,this.revision++}finishDragging(e){this.dragFinished=!0,this.revision++}enterTarget(e){this.updateDragTarget(e),this.dropped=!1,this.revision++}leaveTarget(e){}dragOver(e){this.updateDragTarget(e),this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0;const t=e.dataTransfer;if(t){let n=this.dataByFormat;t.types.forEach(s=>{if(!n.has(s)){const r=t.getData(s);r!==""&&(this.dataByFormat=n=n.toMutable(),n.set(s,r))}})}this.revision++}updateEventOnDragStart(e){const t=e.dataTransfer;t&&(t.dropEffect=this.dropEffect,t.effectAllowed=this.effectAllowed,this.dataByFormat.forEach((n,s)=>{typeof n=="string"&&t.setData(s,n)}),this.draggingImage&&t.setDragImage(this.draggingImage,this.draggingImageX,this.draggingImageY))}updateEventOnDropAllowed(e){this.dropAllowed&&e.preventDefault()}reset(){this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.dragTargetWindow=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat.clear(),this.draggingImage=void 0,this.draggingImageX=1/0,this.draggingImageY=1/0,this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=A.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=A.None,this.revision++}updateDragTarget(e){var t;const n=e.composedPath(),s=document.elementsFromPoint(e.clientX,e.clientY),{data:r,window:o}=Ee(n,s,U,["htmlDrag"]),a=r==null?void 0:r.htmlDrag;a!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=a,this.dragTargetWindow=o);const c=(t=e.dataTransfer)===null||t===void 0?void 0:t.types;if(c&&!ys(c,this.draggingDataTypes)){const d=new Array;for(let l=0;l<c.length;l++)d.push(c[l]);this.draggingDataTypes=d}this.immediateModifiers=Se(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,this.draggingOver=!0}whenDragging(){this.draggingOver&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}}q([C,O("design:type",Map)],Y.prototype,"dataByFormat",void 0);q([C,O("design:type",Object)],Y.prototype,"draggingImage",void 0);q([C,O("design:type",Number)],Y.prototype,"draggingImageX",void 0);q([C,O("design:type",Number)],Y.prototype,"draggingImageY",void 0);q([C,O("design:type",String)],Y.prototype,"dropEffect",void 0);q([C,O("design:type",Array)],Y.prototype,"dataTypesAllowed",void 0);q([C,O("design:type",String)],Y.prototype,"effectAllowed",void 0);q([C,O("design:type",Boolean)],Y.prototype,"dropAllowed",void 0);q([y,O("design:type",Function),O("design:paramtypes",[Object,Boolean]),O("design:returntype",void 0)],Y.prototype,"listen",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"startDragging",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"dragging",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"finishDragging",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"enterTarget",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"leaveTarget",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"dragOver",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"drop",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"updateEventOnDragStart",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[DragEvent]),O("design:returntype",void 0)],Y.prototype,"updateEventOnDropAllowed",null);q([y,T({logging:P.Off}),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Y.prototype,"reset",null);q([Ae,T({throttling:0}),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Y.prototype,"whenDragging",null);function ys(i,e){let t=!0;for(let n=0;n<i.length;n++)if(i[n]!==e[n]){t=!1;break}return t}var ws=globalThis&&globalThis.__decorate||function(i,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Kt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class tn{constructor(){this.window=new vi,this.focus=new Je(this.window),this.hover=new _t,this.keyboard=new gt,this.wheel=new Ht,this.resize=new yi,this.htmlDrag=new Y(this.focus,this.window),this.button=new Me(this.focus,this.window),this.pointer=new B(this.focus,this.window)}listen(e,t=!0){this.focus.listen(e,t),this.hover.listen(e,t),this.keyboard.listen(e,t),this.wheel.listen(e,t),this.htmlDrag.listen(e,t),this.button.listen(e,t),this.pointer.listen(e,t)}}ws([y,Kt("design:type",Function),Kt("design:paramtypes",[Object,Boolean]),Kt("design:returntype",void 0)],tn.prototype,"listen",null);function Os(){ve.setLoggingMode(!0,P.ErrorsOnly),ve.setProfilingMode(!1,{repetitiveUsageWarningThreshold:Number.MAX_SAFE_INTEGER,mainThreadBlockingWarningThreshold:5,asyncActionDurationWarningThreshold:Number.MAX_SAFE_INTEGER,garbageCollectionSummaryInterval:Number.MAX_SAFE_INTEGER})}var xs=Object.defineProperty,ks=Object.getOwnPropertyDescriptor,Wt=(i,e,t,n)=>{for(var s=n>1?void 0:n?ks(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&xs(e,t,s),s};class vt extends Le{constructor(e,t,n){super(),this.link=e,this.hashLink="#"+e,this.linkTitle=t,this.title=n,this.content="",this.isActive=!1}}Wt([C],vt.prototype,"link",2);Wt([C],vt.prototype,"hashLink",2);Wt([C],vt.prototype,"linkTitle",2);Wt([C],vt.prototype,"title",2);var Es=Object.defineProperty,Ds=Object.getOwnPropertyDescriptor,Ts=(i,e,t,n)=>{for(var s=n>1?void 0:n?Ds(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&Es(e,t,s),s};class rt extends Le{constructor(e){super(),this.text=e,this.notCompleted=!0,this.isEdit=!1}changeActivity(){this.isEdit||(this.notCompleted=!this.notCompleted)}}Ts([y],rt.prototype,"changeActivity",1);var Ss=Object.defineProperty,Ps=Object.getOwnPropertyDescriptor,de=(i,e,t,n)=>{for(var s=n>1?void 0:n?Ps(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&Ss(e,t,s),s};class oe extends Le{constructor(e){super(),this.taskList=[],this.completedTasks=0,this.currentItemID=0,this.nextItemId=0,this.version=e,this.sensors=new tn,this.homePage=new vt("/home",'<img src="assets/home.svg"/>',"Todo");const t=JSON.parse(localStorage.getItem("tasks"));t!==null&&(this.taskList=t.map(n=>{const s=new rt(n.text);return s.notCompleted=n.notCompleted,s}))}convertLineBreaks(e){for(;e.includes(`
`);)e=e.replace(`
`,"<br />");return e}swapTasks(){if(this.currentItemID!==this.nextItemId){this.taskList=this.taskList.toMutable();const e=this.taskList[this.currentItemID];this.taskList.splice(this.currentItemID,1);const t=this.taskList.slice(this.nextItemId);this.taskList.splice(this.nextItemId),this.taskList.push(e),this.taskList=this.taskList.concat(t)}}addTask(e){this.taskList=this.taskList.toMutable(),this.taskList.push(new rt(this.convertLineBreaks(e)))}deleteTask(e){this.taskList=this.taskList.toMutable(),this.taskList.splice(this.taskList.indexOf(e),1)}editTask(e,t){e.isEdit?(t!=null&&(e.text=this.convertLineBreaks(t)),e.isEdit=!1):e.isEdit=!0}updateTasks(){this.completedTasks=this.taskList.filter(e=>!e.notCompleted).length,localStorage.setItem("tasks",JSON.stringify(this.taskList))}pointerActions(){try{const e=this.sensors.pointer;if(e.clicked!==void 0){const t=e.clicked;t instanceof Function&&je(()=>t())}}catch(e){console.error(e)}}keyboardActions(){try{const e=this.sensors.keyboard;if(e.down==="Enter"&&e.modifiers!==A.Shift){const t=e.elementDataList[0];t instanceof Function&&je(()=>t()),this.sensors.keyboard.preventDefault=!0}}catch(e){console.error(e)}}handleDragAndDrop(){const e=this.sensors.htmlDrag,t=e.draggable;t&&(e.dragStarted&&(e.effectAllowed="copy",e.draggingOver&&(e.dragTarget instanceof rt?(e.dropAllowed=!0,e.dropEffect="copy"):e.dropAllowed=!1)),e.dragFinished&&e.dropped&&e.dragTarget instanceof rt&&(this.currentItemID=this.taskList.indexOf(t),this.nextItemId=this.taskList.indexOf(e.dragTarget),this.swapTasks()))}}de([C],oe.prototype,"version",2);de([C],oe.prototype,"homePage",2);de([C],oe.prototype,"completedTasks",2);de([C],oe.prototype,"sensors",2);de([C],oe.prototype,"currentItemID",2);de([C],oe.prototype,"nextItemId",2);de([y],oe.prototype,"addTask",1);de([y],oe.prototype,"deleteTask",1);de([y],oe.prototype,"editTask",1);de([Ae],oe.prototype,"updateTasks",1);de([Ae,T({logging:P.Off})],oe.prototype,"pointerActions",1);de([Ae,T({logging:P.Off})],oe.prototype,"keyboardActions",1);de([Ae],oe.prototype,"handleDragAndDrop",1);var Rs=!1;function $s(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function Ns(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var As=function(){function i(t){var n=this;this._insertTag=function(s){var r;n.tags.length===0?n.insertionPoint?r=n.insertionPoint.nextSibling:n.prepend?r=n.container.firstChild:r=n.before:r=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,r),n.tags.push(s)},this.isSpeedy=t.speedy===void 0?!Rs:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ns(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=$s(s);try{r.insertRule(n,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},i}(),te="-ms-",Ft="-moz-",$="-webkit-",nn="comm",wi="rule",Oi="decl",Cs="@import",sn="@keyframes",Fs="@layer",js=Math.abs,Bt=String.fromCharCode,Ls=Object.assign;function Is(i,e){return Q(i,0)^45?(((e<<2^Q(i,0))<<2^Q(i,1))<<2^Q(i,2))<<2^Q(i,3):0}function rn(i){return i.trim()}function Ms(i,e){return(i=e.exec(i))?i[0]:i}function N(i,e,t){return i.replace(e,t)}function ci(i,e){return i.indexOf(e)}function Q(i,e){return i.charCodeAt(e)|0}function lt(i,e,t){return i.slice(e,t)}function we(i){return i.length}function xi(i){return i.length}function xt(i,e){return e.push(i),i}function _s(i,e){return i.map(e).join("")}var Xt=1,Ve=1,on=0,re=0,z=0,Ke="";function Yt(i,e,t,n,s,r,o){return{value:i,root:e,parent:t,type:n,props:s,children:r,line:Xt,column:Ve,length:o,return:""}}function tt(i,e){return Ls(Yt("",null,null,"",null,null,0),i,{length:-i.length},e)}function Hs(){return z}function Ws(){return z=re>0?Q(Ke,--re):0,Ve--,z===10&&(Ve=1,Xt--),z}function ce(){return z=re<on?Q(Ke,re++):0,Ve++,z===10&&(Ve=1,Xt++),z}function Pe(){return Q(Ke,re)}function St(){return re}function mt(i,e){return lt(Ke,i,e)}function ut(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function an(i){return Xt=Ve=1,on=we(Ke=i),re=0,[]}function cn(i){return Ke="",i}function Pt(i){return rn(mt(re-1,di(i===91?i+2:i===40?i+1:i)))}function Bs(i){for(;(z=Pe())&&z<33;)ce();return ut(i)>2||ut(z)>3?"":" "}function Xs(i,e){for(;--e&&ce()&&!(z<48||z>102||z>57&&z<65||z>70&&z<97););return mt(i,St()+(e<6&&Pe()==32&&ce()==32))}function di(i){for(;ce();)switch(z){case i:return re;case 34:case 39:i!==34&&i!==39&&di(z);break;case 40:i===41&&di(i);break;case 92:ce();break}return re}function Ys(i,e){for(;ce()&&i+z!==47+10;)if(i+z===42+42&&Pe()===47)break;return"/*"+mt(e,re-1)+"*"+Bt(i===47?i:ce())}function zs(i){for(;!ut(Pe());)ce();return mt(i,re)}function Gs(i){return cn(Rt("",null,null,null,[""],i=an(i),0,[0],i))}function Rt(i,e,t,n,s,r,o,a,c){for(var d=0,l=0,g=o,S=0,x=0,L=0,R=1,H=1,_=1,ee=0,me="",yt=s,_e=r,be=n,I=me;H;)switch(L=ee,ee=ce()){case 40:if(L!=108&&Q(I,g-1)==58){ci(I+=N(Pt(ee),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:I+=Pt(ee);break;case 9:case 10:case 13:case 32:I+=Bs(L);break;case 92:I+=Xs(St()-1,7);continue;case 47:switch(Pe()){case 42:case 47:xt(Us(Ys(ce(),St()),e,t),c);break;default:I+="/"}break;case 123*R:a[d++]=we(I)*_;case 125*R:case 59:case 0:switch(ee){case 0:case 125:H=0;case 59+l:_==-1&&(I=N(I,/\f/g,"")),x>0&&we(I)-g&&xt(x>32?ji(I+";",n,t,g-1):ji(N(I," ","")+";",n,t,g-2),c);break;case 59:I+=";";default:if(xt(be=Fi(I,e,t,d,l,s,a,me,yt=[],_e=[],g),r),ee===123)if(l===0)Rt(I,e,be,be,yt,r,g,a,_e);else switch(S===99&&Q(I,3)===110?100:S){case 100:case 108:case 109:case 115:Rt(i,be,be,n&&xt(Fi(i,be,be,0,0,s,a,me,s,yt=[],g),_e),s,_e,g,a,n?yt:_e);break;default:Rt(I,be,be,be,[""],_e,0,a,_e)}}d=l=x=0,R=_=1,me=I="",g=o;break;case 58:g=1+we(I),x=L;default:if(R<1){if(ee==123)--R;else if(ee==125&&R++==0&&Ws()==125)continue}switch(I+=Bt(ee),ee*R){case 38:_=l>0?1:(I+="\f",-1);break;case 44:a[d++]=(we(I)-1)*_,_=1;break;case 64:Pe()===45&&(I+=Pt(ce())),S=Pe(),l=g=we(me=I+=zs(St())),ee++;break;case 45:L===45&&we(I)==2&&(R=0)}}return r}function Fi(i,e,t,n,s,r,o,a,c,d,l){for(var g=s-1,S=s===0?r:[""],x=xi(S),L=0,R=0,H=0;L<n;++L)for(var _=0,ee=lt(i,g+1,g=js(R=o[L])),me=i;_<x;++_)(me=rn(R>0?S[_]+" "+ee:N(ee,/&\f/g,S[_])))&&(c[H++]=me);return Yt(i,e,t,s===0?wi:a,c,d,l)}function Us(i,e,t){return Yt(i,e,t,nn,Bt(Hs()),lt(i,2,-2),0)}function ji(i,e,t,n){return Yt(i,e,t,Oi,lt(i,0,n),lt(i,n+1,-1),n)}function qe(i,e){for(var t="",n=xi(i),s=0;s<n;s++)t+=e(i[s],s,i,e)||"";return t}function qs(i,e,t,n){switch(i.type){case Fs:if(i.children.length)break;case Cs:case Oi:return i.return=i.return||i.value;case nn:return"";case sn:return i.return=i.value+"{"+qe(i.children,n)+"}";case wi:i.value=i.props.join(",")}return we(t=qe(i.children,n))?i.return=i.value+"{"+t+"}":""}function Vs(i){var e=xi(i);return function(t,n,s,r){for(var o="",a=0;a<e;a++)o+=i[a](t,n,s,r)||"";return o}}function Js(i){return function(e){e.root||(e=e.return)&&i(e)}}function Ks(i){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=i(t)),e[t]}}var Qs=function(e,t,n){for(var s=0,r=0;s=r,r=Pe(),s===38&&r===12&&(t[n]=1),!ut(r);)ce();return mt(e,re)},Zs=function(e,t){var n=-1,s=44;do switch(ut(s)){case 0:s===38&&Pe()===12&&(t[n]=1),e[n]+=Qs(re-1,t,n);break;case 2:e[n]+=Pt(s);break;case 4:if(s===44){e[++n]=Pe()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Bt(s)}while(s=ce());return e},er=function(e,t){return cn(Zs(an(e),t))},Li=new WeakMap,tr=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Li.get(n))&&!s){Li.set(e,!0);for(var r=[],o=er(t,r),a=n.props,c=0,d=0;c<o.length;c++)for(var l=0;l<a.length;l++,d++)e.props[d]=r[c]?o[c].replace(/&\f/g,a[l]):a[l]+" "+o[c]}}},ir=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function dn(i,e){switch(Is(i,e)){case 5103:return $+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return $+i+Ft+i+te+i+i;case 6828:case 4268:return $+i+te+i+i;case 6165:return $+i+te+"flex-"+i+i;case 5187:return $+i+N(i,/(\w+).+(:[^]+)/,$+"box-$1$2"+te+"flex-$1$2")+i;case 5443:return $+i+te+"flex-item-"+N(i,/flex-|-self/,"")+i;case 4675:return $+i+te+"flex-line-pack"+N(i,/align-content|flex-|-self/,"")+i;case 5548:return $+i+te+N(i,"shrink","negative")+i;case 5292:return $+i+te+N(i,"basis","preferred-size")+i;case 6060:return $+"box-"+N(i,"-grow","")+$+i+te+N(i,"grow","positive")+i;case 4554:return $+N(i,/([^-])(transform)/g,"$1"+$+"$2")+i;case 6187:return N(N(N(i,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),i,"")+i;case 5495:case 3959:return N(i,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return N(N(i,/(.+:)(flex-)?(.*)/,$+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+i+i;case 4095:case 3583:case 4068:case 2532:return N(i,/(.+)-inline(.+)/,$+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(we(i)-1-e>6)switch(Q(i,e+1)){case 109:if(Q(i,e+4)!==45)break;case 102:return N(i,/(.+:)(.+)-([^]+)/,"$1"+$+"$2-$3$1"+Ft+(Q(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~ci(i,"stretch")?dn(N(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(Q(i,e+1)!==115)break;case 6444:switch(Q(i,we(i)-3-(~ci(i,"!important")&&10))){case 107:return N(i,":",":"+$)+i;case 101:return N(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(Q(i,14)===45?"inline-":"")+"box$3$1"+$+"$2$3$1"+te+"$2box$3")+i}break;case 5936:switch(Q(i,e+11)){case 114:return $+i+te+N(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return $+i+te+N(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return $+i+te+N(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return $+i+te+i+i}return i}var nr=function(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case Oi:e.return=dn(e.value,e.length);break;case sn:return qe([tt(e,{value:N(e.value,"@","@"+$)})],s);case wi:if(e.length)return _s(e.props,function(r){switch(Ms(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qe([tt(e,{props:[N(r,/:(read-\w+)/,":"+Ft+"$1")]})],s);case"::placeholder":return qe([tt(e,{props:[N(r,/:(plac\w+)/,":"+$+"input-$1")]}),tt(e,{props:[N(r,/:(plac\w+)/,":"+Ft+"$1")]}),tt(e,{props:[N(r,/:(plac\w+)/,te+"input-$1")]})],s)}return""})}},sr=[nr],rr=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(R){var H=R.getAttribute("data-emotion");H.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var s=e.stylisPlugins||sr,r={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var H=R.getAttribute("data-emotion").split(" "),_=1;_<H.length;_++)r[H[_]]=!0;a.push(R)});var c,d=[tr,ir];{var l,g=[qs,Js(function(R){l.insert(R)})],S=Vs(d.concat(s,g)),x=function(H){return qe(Gs(H),S)};c=function(H,_,ee,me){l=ee,x(H?H+"{"+_.styles+"}":_.styles),me&&(L.inserted[_.name]=!0)}}var L={key:t,sheet:new As({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:c};return L.sheet.hydrate(a),L};function or(i){for(var e=0,t,n=0,s=i.length;s>=4;++n,s-=4)t=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(i.charCodeAt(n+2)&255)<<16;case 2:e^=(i.charCodeAt(n+1)&255)<<8;case 1:e^=i.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ar={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cr=!1,dr=/[A-Z]|^ms/g,lr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ln=function(e){return e.charCodeAt(1)===45},Ii=function(e){return e!=null&&typeof e!="boolean"},Qt=Ks(function(i){return ln(i)?i:i.replace(dr,"-$&").toLowerCase()}),Mi=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(lr,function(n,s,r){return Oe={name:s,styles:r,next:Oe},s})}return ar[e]!==1&&!ln(e)&&typeof t=="number"&&t!==0?t+"px":t},ur="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ht(i,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Oe={name:s.name,styles:s.styles,next:Oe},s.name;var r=t;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Oe={name:o.name,styles:o.styles,next:Oe},o=o.next;var a=r.styles+";";return a}return hr(i,e,t)}case"function":{if(i!==void 0){var c=Oe,d=t(i);return Oe=c,ht(i,e,d)}break}}var l=t;if(e==null)return l;var g=e[l];return g!==void 0?g:l}function hr(i,e,t){var n="";if(Array.isArray(t))for(var s=0;s<t.length;s++)n+=ht(i,e,t[s])+";";else for(var r in t){var o=t[r];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?n+=r+"{"+e[a]+"}":Ii(a)&&(n+=Qt(r)+":"+Mi(r,a)+";")}else{if(r==="NO_COMPONENT_SELECTOR"&&cr)throw new Error(ur);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)Ii(o[c])&&(n+=Qt(r)+":"+Mi(r,o[c])+";");else{var d=ht(i,e,o);switch(r){case"animation":case"animationName":{n+=Qt(r)+":"+d+";";break}default:n+=r+"{"+d+"}"}}}}return n}var _i=/label:\s*([^\s;{]+)\s*(;|$)/g,Oe;function Zt(i,e,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,s="";Oe=void 0;var r=i[0];if(r==null||r.raw===void 0)n=!1,s+=ht(t,e,r);else{var o=r;s+=o[0]}for(var a=1;a<i.length;a++)if(s+=ht(t,e,i[a]),n){var c=r;s+=c[a]}_i.lastIndex=0;for(var d="",l;(l=_i.exec(s))!==null;)d+="-"+l[1];var g=or(s)+d;return{name:g,styles:s,next:Oe}}var fr=!0;function un(i,e,t){var n="";return t.split(" ").forEach(function(s){i[s]!==void 0?e.push(i[s]+";"):s&&(n+=s+" ")}),n}var gr=function(e,t,n){var s=e.key+"-"+t.name;(n===!1||fr===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},pr=function(e,t,n){gr(e,t,n);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function Hi(i,e){if(i.inserted[e.name]===void 0)return i.insert("",e,i.sheet,!0)}function Wi(i,e,t){var n=[],s=un(i,n,t);return n.length<2?t:s+e(n)}var vr=function(e){var t=rr(e);t.sheet.speedy=function(a){this.isSpeedy=a},t.compat=!0;var n=function(){for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];var g=Zt(d,t.registered,void 0);return pr(t,g,!1),t.key+"-"+g.name},s=function(){for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];var g=Zt(d,t.registered),S="animation-"+g.name;return Hi(t,{name:g.name,styles:"@keyframes "+S+"{"+g.styles+"}"}),S},r=function(){for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];var g=Zt(d,t.registered);Hi(t,g)},o=function(){for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];return Wi(t.registered,n,mr(d))};return{css:n,cx:o,injectGlobal:r,keyframes:s,hydrate:function(c){c.forEach(function(d){t.inserted[d]=!0})},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:un.bind(null,t.registered),merge:Wi.bind(null,t.registered,n)}},mr=function i(e){for(var t="",n=0;n<e.length;n++){var s=e[n];if(s!=null){var r=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))r=i(s);else{r="";for(var o in s)s[o]&&o&&(r&&(r+=" "),r+=o)}break}default:r=s}r&&(t&&(t+=" "),t+=r)}}return t},br=vr({key:"css"}),se=br.css;class yr{constructor(){this.name="DarkBlueTheme",this.background="#14344F",this.foreground="#E0E0E0",this.logoBackground="#00B3FF",this.logoForeground="white",this.footerForeground="#777",this.activeItemMarker="#00B3FF",this.itemUnderPointerMarker="#00A4E5",this.emphasizedText="#5DF586",this.titleForeground="#E0E0E0",this.documentHeading1Foreground="#E0E0E0",this.documentHeading2Foreground="white",this.documentTOCBackground="#122F47",this.documentScrollTopButtonBackground="#00A4E5",this.documentCodeInlineForeground="#67E8FF",this.documentCodeInlineBackground="rgba(255, 255, 255, 0.07)",this.documentCodeBlockForeground="#67E8FF",this.documentCodeBlockBackground="transparent",this.playgroundTextAreaBackground="white",this.playgroundTextAreaForeground="#444",this.playgroundTextAreaCaretColor="black",this.playgroundTextLengthForeground="rgb(253, 165, 93)",this.playgroundTextLengthErrorForeground="rgb(253, 93, 93)",this.playgroundWhiteSpaceForeground="lightgrey",this.playgroundFindButtonBackground="#00B831",this.playgroundFindButtonForeground="white",this.playgroundFindButtonCheckMarkBackground="#EEE",this.playgroundFindButtonCheckMarkForeground="#444",this.playgroundFindButtonCheckMarkHoverBackground="#DDD",this.playgroundTagButtonBackground="#AAA",this.playgroundTagButtonActiveForeground="black",this.playgroundTagButtonInactiveForeground="#E0E0E0",this.playgroundTagButtonCounterForeground="grey",this.playgroundReadOnlyPackageUnderPointerMarker="#ECECEC"}}var wr=Object.defineProperty,Or=Object.getOwnPropertyDescriptor,zt=(i,e,t,n)=>{for(var s=n>1?void 0:n?Or(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&wr(e,t,s),s};class bt extends Le{constructor(...e){super(),this.all=[],e.forEach(t=>this.all.push(t)),this.active=e[0]}setActive(e){this.active=e}setActiveByName(e){const t=this.all.findIndex(n=>n.name===e);t>=0&&(this.active=this.all[t])}setNextActive(){const e=(this.all.indexOf(this.active)+1)%this.all.length,t=this.all[e];this.active=t}}zt([C],bt.prototype,"all",2);zt([y],bt.prototype,"setActive",1);zt([y],bt.prototype,"setActiveByName",1);zt([y],bt.prototype,"setNextActive",1);const Bi=D.run(null,()=>new bt(new yr)),xr=ui(()=>({Body:se`
      width: 100%;
      font-size: calc(14px + (20 - 14) * (100vw - 800px) / (1920 - 800));
      font-family: Calibri, Tahoma, Arial, sans-serif;
      background: url("./source/assets/background.jpg");
      background-size: cover;
      color: ${Bi.active.foreground};
      min-height: 100vh;

      a {
        text-decoration: none;
        outline: none;
        color: ${Bi.active.foreground};
      }
    `}));function kr(i,e,t){return ke({rebuild(n){const s=n.native;ke({rebuild(r){const o=r.native;e&&e(o)}}),t&&t(s)}})}const it=ui(()=>({InputTask:se`
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
      position: fixed;
      font-size: 25px;
      left: 0;
      bottom: 20px;
      width: 100%;
    `,Input:se`
      margin: 0;
      width: calc(100vw - 100px);
      height: 49px;
      color: #fff;
      font-size: 24px;
      font-family: Calibri, Tahoma, Arial, sans-serif;
      border: none;
      resize: none;
      padding: 6px 10px 0 10px;
      /*padding: 0 10px;*/
      border-radius: 4px 0 0 4px;
      background-color: rgba(0, 0, 0, 0.55);
      backdrop-filter: blur(5px);
      transition: background-color .2s ease;
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(0, 0, 0, 0.25);
      }
    `,Submit:se`
      height: 45px;
      user-select: none;
      padding: 5px 15px;
      cursor: pointer;
      border-radius: 0 4px 4px 0;
      background-color: rgba(0, 0, 0, 0.55);
      backdrop-filter: blur(5px);
      transition: background-color .2s ease;
      :hover {
        transition: background-color .2s ease;
        background-color: rgba(0, 0, 0, 0.25);
      }

      img {
        width: 20px;
        filter: invert(100%);
      }
    `,CompletedLabel:se`
      padding: 7px;
      margin: 5px;
      user-select: none;
      font-size: 90%;
      /*background-color: rgba(0, 0, 0, 0.4);
      border-radius: 5px;
      backdrop-filter: blur(5px);
      width: 10%;*/
    `,List:se`
      font-size: 110%;
      overflow: auto;
      height: calc(100vh - 91px);
      padding: 20px;
      overflow-y: scroll;
    `})),He=ui(()=>({Delete:se`
      margin: 0;

      min-height: 45px;
      padding: 9px 15px;

      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      img {
        width: 20px;
        filter: invert(100%);
      }
      border-radius: 0 3px 3px 0;
      background-color: rgba(39, 39, 39, 1);
      transition: background-color .2s ease;
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(200, 0, 0, 1);
      }
    `,Edit:se`
      margin: 0;

      min-height: 45px;
      padding: 9px 15px;

      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      img {
        width: 20px;
        filter: invert(100%);
      }
      background-color: rgba(39, 39, 39, 1);
      transition: background-color .2s ease;
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(105, 153, 0, 1);
      }
    `,InactiveDelete:se`
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 9px 15px;
      img {
          width: 20px;
          filter: invert(100%);
        }
      min-height: 45px;
      border-radius: 0 3px 3px 0;
      background-color: rgba(39, 39, 39, 0.5);
      backdrop-filter: blur(5px);
      transition: background-color .2s ease;
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(200, 0, 0, 0.5);
      }
    `,Task:se`
      display: flex;
      cursor: pointer;
      user-select: none;
      margin: 6px 0;
      min-height: 45px;
      @media screen and (max-width: 1000px) {
        min-height: 40px;
      }

      @media screen and (max-width: 600px) {
        min-height: 38px;
      }
    `,TaskElement:se`
      margin: 0;
      padding: 9px 10px;
      width: 40%;
      word-wrap: break-word;
      flex: 1 0 auto;
      min-height: 45px;
      border-radius: 3px 0 0 3px;
      background-color: rgba(36, 36, 36, 1);
      backdrop-filter: blur(5px);
      transition: background-color .2s ease;
      user-select: none;
      display: flex;
      flex-direction: column;
      justify-content: center;
      :hover {
        transition: background-color .2s ease;
        background-color: rgba(53, 56, 58, 1);
      }
      :active {
        background-color: rgba(36, 36, 36, 1);
      }
    `,InactiveTaskElement:se`
      text-decoration: line-through;
      margin: 0;
      flex: 1 0 auto;
      min-height: 45px;
      padding: 9px 10px;
      word-wrap: break-word;
      width: 40%;
      border-radius: 3px 0 0 3px;
      backdrop-filter: blur(5px);
      background-color: rgba(36, 36, 36, 0.35);
      transition: background-color .2s ease;
      display: flex;
      flex-direction: column;
      justify-content: center;
      :hover {
        transition: background-color .2s ease;
        background-color: rgba(53, 56, 58, 0.35);
      }
    `,Input:se`
      margin: 0;
      width: calc(100vw - 145px);
      min-height: 45px;
      overflow: hidden;
      cursor: text;
      padding: 9px 10px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      border-radius: 3px 0 0 3px;
      background-color: rgba(36, 36, 36, 0.55);
      backdrop-filter: blur(5px);
      /*transition: background-color .2s ease;*/
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(53, 56, 58, 0.25);
      }
    `,Arrow:se`
      margin: 0;

      min-height: 45px;
      padding: 9px 15px;

      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      img {
        width: 20px;
        filter: invert(100%);
      }
      background-color: rgba(39, 39, 39, 1);
      transition: background-color .2s ease;
      :hover, :focus {
        transition: background-color .2s ease;
        background-color: rgba(59, 59, 59, 1);
      }
    `}));function Xi(i,e,t){return ls({rebuild(n){const s=n.native;let r;s.className=He.class.Task,s.dataForSensor.htmlDraggable=e.notCompleted&&!e.isEdit?e:void 0,s.dataForSensor.htmlDrag=e.notCompleted&&!e.isEdit?e:void 0,s.draggable=!0,e.isEdit?ke({rebuild(o){const a=o.native;r=a,r.contentEditable="true",r.dataForSensor.keyboard=()=>{r.innerHTML.trim()!==""&&t.editTask(e,r.innerHTML)},a.innerHTML=e.text,a.className=He.class.Input}}):ke({rebuild(o){const a=o.native;a.dataForSensor.click=()=>e.changeActivity(),a.className=e.notCompleted?He.class.TaskElement:He.class.InactiveTaskElement,a.innerHTML=e.text}}),e.notCompleted&&ke({rebuild(o){const a=o.native;a.dataForSensor.click=()=>e.isEdit?t.editTask(e,r.innerHTML):t.editTask(e),a.className=He.class.Edit,ai({rebuild(c){const d=c.native;d.src=e.isEdit?"./source/assets/check.svg":"./source/assets/pencil.svg"}})}}),ke({rebuild(o){const a=o.native;a.dataForSensor.click=()=>{t.deleteTask(e)},a.className=e.notCompleted?He.class.Delete:He.class.InactiveDelete,ai({rebuild(c){const d=c.native;d.src="./source/assets/trash.svg"}})}})}})}function Er(i){return kr(i.homePage,e=>{hs({rebuild(t){const n=t.native;n.className=it.class.List;let s=0;i.taskList.forEach(r=>{r.notCompleted&&Xi(s.toString(),r,i),s++}),i.completedTasks>0&&ke({rebuild(r){const o=r.native;o.className=it.class.CompletedLabel,o.innerHTML="Completed "+i.completedTasks.toString()}}),i.taskList.forEach(r=>{r.notCompleted||Xi(s.toString(),r,i),s++})}}),ke({rebuild(t){const n=t.native;let s;n.className=it.class.InputTask,us({rebuild(r){const o=r.native;s=o,o.placeholder="Enter the task",o.className=it.class.Input,s.dataForSensor.keyboard=()=>{s.value.trim()!=""&&i.addTask(s.value),s.value=""}}}),ke({rebuild(r){const o=r.native;o.dataForSensor.click=()=>{s.value.trim()!=""&&(i.addTask(s.value),s.value="")},o.className=it.class.Submit,ai({rebuild(a){const c=a.native;c.src="./source/assets/add.svg"}})}})}})})}function Dr(i,e){return ke({key:i,mode:Te.PinpointRebuild,rebuild(t){const n=t.native;e.sensors.listen(n),n.className=xr.class.Body,Er(e)}})}const Tr="$BUILD_TIMESTAMP";Os();const Sr=D.run(null,()=>new oe(Tr));ds({rebuild(i){Dr("Body",Sr)}});
