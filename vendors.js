"use strict";(globalThis.webpackChunktodo_list=globalThis.webpackChunktodo_list||[]).push([[216],{935:(e,t,n)=>{n.d(t,{iv:()=>Re});var o=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(o){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,r=String.fromCharCode;function s(e){return e.trim()}function a(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function u(e,t,n){return e.slice(t,n)}function l(e){return e.length}function p(e){return e.length}function h(e,t){return t.push(e),e}var v=1,f=1,g=0,m=0,b=0,y="";function R(e,t,n,o,i,r,s){return{value:e,root:t,parent:n,type:o,props:i,children:r,line:v,column:f,length:s,return:""}}function D(e,t,n){return R(e,t.root,t.parent,n,t.props,t.children,0)}function x(){return b=m>0?d(y,--m):0,f--,10===b&&(f=1,v--),b}function N(){return b=m<g?d(y,m++):0,f++,10===b&&(f=1,v++),b}function T(){return d(y,m)}function w(){return m}function S(e,t){return u(y,e,t)}function O(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return v=f=1,g=l(y=e),m=0,[]}function M(e){return y="",e}function F(e){return s(S(m-1,A(91===e?e+2:40===e?e+1:e)))}function E(e){for(;(b=T())&&b<33;)N();return O(e)>2||O(b)>3?"":" "}function k(e,t){for(;--t&&N()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return S(e,w()+(t<6&&32==T()&&32==N()))}function A(e){for(;N();)switch(b){case e:return m;case 34:case 39:return A(34===e||39===e?e:b);case 40:41===e&&A(e);break;case 92:N()}return m}function j(e,t){for(;N()&&e+b!==57&&(e+b!==84||47!==T()););return"/*"+S(t,m-1)+"*"+r(47===e?e:N())}function C(e){for(;!O(T());)N();return S(e,m)}var H="-ms-",_="-moz-",$="-webkit-",L="comm",B="rule",I="decl";function G(e,t){for(var n="",o=p(e),i=0;i<o;i++)n+=t(e[i],i,e,t)||"";return n}function X(e,t,n,o){switch(e.type){case"@import":case I:return e.return=e.return||e.value;case L:return"";case B:e.value=e.props.join(",")}return l(n=G(e.children,o))?e.return=e.value+"{"+n+"}":""}function z(e,t){switch(function(e,t){return(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3)}(e,t)){case 5103:return $+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $+e+_+e+H+e+e;case 6828:case 4268:return $+e+H+e+e;case 6165:return $+e+H+"flex-"+e+e;case 5187:return $+e+a(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return $+e+H+"flex-item-"+a(e,/flex-|-self/,"")+e;case 4675:return $+e+H+"flex-line-pack"+a(e,/align-content|flex-|-self/,"")+e;case 5548:return $+e+H+a(e,"shrink","negative")+e;case 5292:return $+e+H+a(e,"basis","preferred-size")+e;case 6060:return $+"box-"+a(e,"-grow","")+$+e+H+a(e,"grow","positive")+e;case 4554:return $+a(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return a(a(a(e,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),e,"")+e;case 5495:case 3959:return a(e,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return a(a(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+e+e;case 4095:case 3583:case 4068:case 2532:return a(e,/(.+)-inline(.+)/,$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(l(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return a(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+_+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?z(a(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,l(e)-3-(~c(e,"!important")&&10))){case 107:return a(e,":",":"+$)+e;case 101:return a(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(45===d(e,14)?"inline-":"")+"box$3$1"+$+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $+e+H+e+e}return e}function U(e){return M(W("",null,null,null,[""],e=P(e),0,[0],e))}function W(e,t,n,o,i,s,c,d,u){for(var p=0,v=0,f=c,g=0,m=0,b=0,y=1,R=1,D=1,S=0,O="",P=i,M=s,A=o,H=O;R;)switch(b=S,S=N()){case 34:case 39:case 91:case 40:H+=F(S);break;case 9:case 10:case 13:case 32:H+=E(b);break;case 92:H+=k(w()-1,7);continue;case 47:switch(T()){case 42:case 47:h(Y(j(N(),w()),t,n),u);break;default:H+="/"}break;case 123*y:d[p++]=l(H)*D;case 125*y:case 59:case 0:switch(S){case 0:case 125:R=0;case 59+v:m>0&&l(H)-f&&h(m>32?q(H+";",o,n,f-1):q(a(H," ","")+";",o,n,f-2),u);break;case 59:H+=";";default:if(h(A=K(H,t,n,p,v,i,d,O,P=[],M=[],f),s),123===S)if(0===v)W(H,t,A,A,P,s,f,d,M);else switch(g){case 100:case 109:case 115:W(e,A,A,o&&h(K(e,A,A,0,0,i,d,O,i,P=[],f),M),i,M,f,d,o?P:M);break;default:W(H,A,A,A,[""],M,f,d,M)}}p=v=m=0,y=D=1,O=H="",f=c;break;case 58:f=1+l(H),m=b;default:if(y<1)if(123==S)--y;else if(125==S&&0==y++&&125==x())continue;switch(H+=r(S),S*y){case 38:D=v>0?1:(H+="\f",-1);break;case 44:d[p++]=(l(H)-1)*D,D=1;break;case 64:45===T()&&(H+=F(N())),g=T(),v=l(O=H+=C(w())),S++;break;case 45:45===b&&2==l(H)&&(y=0)}}return s}function K(e,t,n,o,r,c,d,l,h,v,f){for(var g=r-1,m=0===r?c:[""],b=p(m),y=0,D=0,x=0;y<o;++y)for(var N=0,T=u(e,g+1,g=i(D=d[y])),w=e;N<b;++N)(w=s(D>0?m[N]+" "+T:a(T,/&\f/g,m[N])))&&(h[x++]=w);return R(e,t,n,0===r?B:l,h,v,f)}function Y(e,t,n){return R(e,t,n,L,r(b),u(e,2,-2),0)}function q(e,t,n,o){return R(e,t,n,I,u(e,0,o),u(e,o+1,-1),o)}var V=function(e,t){return M(function(e,t){var n=-1,o=44;do{switch(O(o)){case 0:38===o&&12===T()&&(t[n]=1),e[n]+=C(m-1);break;case 2:e[n]+=F(o);break;case 4:if(44===o){e[++n]=58===T()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=r(o)}}while(o=N());return e}(P(e),t))},J=new WeakMap,Q=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!o){J.set(e,!0);for(var i=[],r=V(t,i),s=n.props,a=0,c=0;a<r.length;a++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[a]?r[a].replace(/&\f/g,s[d]):s[d]+" "+r[a]}}},Z=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ee=[function(e,t,n,o){if(!e.return)switch(e.type){case I:e.return=z(e.value,e.length);break;case"@keyframes":return G([D(a(e.value,"@","@"+$),e,"")],o);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([D(a(t,/:(read-\w+)/,":-moz-$1"),e,"")],o);case"::placeholder":return G([D(a(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),D(a(t,/:(plac\w+)/,":-moz-$1"),e,""),D(a(t,/:(plac\w+)/,H+"input-$1"),e,"")],o)}return""}))}}];const te=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var i=e.stylisPlugins||ee;var r,s,a={},c=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var n=e.getAttribute("data-emotion").split(" ");if(n[0]===t){for(var o=1;o<n.length;o++)a[n[o]]=!0;c.push(e)}}));var d,u,l,h,v=[X,(h=function(e){d.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],f=(u=[Q,Z].concat(i,v),l=p(u),function(e,t,n,o){for(var i="",r=0;r<l;r++)i+=u[r](e,t,n,o)||"";return i});s=function(e,t,n,o){d=n,G(U(e?e+"{"+t.styles+"}":t.styles),f),o&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new o({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:a,registered:{},insert:s};return g.sheet.hydrate(c),g};const ne=function(e){for(var t,n=0,o=0,i=e.length;i>=4;++o,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const oe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ie=/[A-Z]|^ms/g,re=/_EMO_([^_]+?)_([^]*?)_EMO_/g,se=function(e){return 45===e.charCodeAt(1)},ae=function(e){return null!=e&&"boolean"!=typeof e},ce=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return se(e)?e:e.replace(ie,"-$&").toLowerCase()})),de=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(re,(function(e,t,n){return le={name:t,styles:n,next:le},t}))}return 1===oe[e]||se(e)||"number"!=typeof t||0===t?t:t+"px"};function ue(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return le={name:n.name,styles:n.styles,next:le},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)le={name:o.name,styles:o.styles,next:le},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var i=0;i<n.length;i++)o+=ue(e,t,n[i])+";";else for(var r in n){var s=n[r];if("object"!=typeof s)null!=t&&void 0!==t[s]?o+=r+"{"+t[s]+"}":ae(s)&&(o+=ce(r)+":"+de(r,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=ue(e,t,s);switch(r){case"animation":case"animationName":o+=ce(r)+":"+a+";";break;default:o+=r+"{"+a+"}"}}else for(var c=0;c<s.length;c++)ae(s[c])&&(o+=ce(r)+":"+de(r,s[c])+";")}return o}(e,t,n);case"function":if(void 0!==e){var i=le,r=n(e);return le=i,ue(e,t,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var le,pe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var he=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";le=void 0;var r=e[0];null==r||void 0===r.raw?(o=!1,i+=ue(n,t,r)):i+=r[0];for(var s=1;s<e.length;s++)i+=ue(n,t,e[s]),o&&(i+=r[s]);pe.lastIndex=0;for(var a,c="";null!==(a=pe.exec(i));)c+="-"+a[1];return{name:ne(i)+c,styles:i,next:le}};function ve(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o}var fe=function(e,t,n){var o=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[o]&&(e.registered[o]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+o:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};function ge(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function me(e,t,n){var o=[],i=ve(e,o,n);return o.length<2?n:i+t(o)}var be=function e(t){for(var n="",o=0;o<t.length;o++){var i=t[o];if(null!=i){var r=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))r=e(i);else for(var s in r="",i)i[s]&&s&&(r&&(r+=" "),r+=s);break;default:r=i}r&&(n&&(n+=" "),n+=r)}}return n};var ye=function(e){var t=te(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=he(n,t.registered,void 0);return fe(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return me(t.registered,n,be(o))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=he(n,t.registered);ge(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=he(n,t.registered),r="animation-"+i.name;return ge(t,{name:i.name,styles:"@keyframes "+r+"{"+i.styles+"}"}),r},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:ve.bind(null,t.registered),merge:me.bind(null,t.registered,n)}}({key:"css"}),Re=(ye.flush,ye.hydrate,ye.cx,ye.merge,ye.getRegisteredStyles,ye.injectGlobal,ye.keyframes,ye.css);ye.sheet,ye.cache},271:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(81),t),i(n(197),t),i(n(601),t),i(n(343),t),i(n(627),t),i(n(529),t),i(n(543),t),i(n(134),t),i(n(899),t),i(n(171),t),i(n(263),t),i(n(560),t),i(n(927),t),i(n(374),t),i(n(451),t),n(374)},639:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Restyler=t.restyler=void 0;const r=n(361);t.restyler=function(e){return r.Transaction.run((()=>new s(e)))};class s{constructor(e){this.restyle=e}cache(){return this.restyle()}get class(){return this.cache()}}o([r.cached,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],s.prototype,"cache",null),t.Restyler=s},861:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},17:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.rejectRethrow=t.resolveReturn=t.RxDom=t.RxNodeImpl=t.BasicNodeType=void 0;const s=n(361);class a{constructor(e,t){this.name=e,this.sequential=t}initialize(e){e.inline||s.Rx.setTraceHint(e,e.id)}render(e,t){let n;e.children.isRefreshing=!0,n=e.superRender?e.superRender((t=>{const n=e.render(e.native,t);return n instanceof Promise?n.then():t}),e.native):e.render(e.native,t),n instanceof Promise?n=n.then((e=>(d.renderChildrenThenDo(x),e)),(e=>{console.log(e),d.renderChildrenThenDo(x)})):d.renderChildrenThenDo(x)}finalize(e,t){e.native=void 0,e===t&&e.parent.namespace.delete(e.id),e.inline||s.Rx.dispose(e);let n=e.children.first;for(;void 0!==n;)l(n,t),n=n.next}}t.BasicNodeType=a;class c{constructor(e,t,n,o,i,r,s,a){this.id=t,this.type=n,this.inline=o,this.args=i,this.render=r,this.superRender=s,this.priority=0,this.childrenShuffling=!1,this.model=void 0,this.level=e,this.parent=a,this.native=void 0,this.resizeObserver=void 0,this.revision=-1,this.parentRevision=0,this.prevSibling=void 0,this.isMountRequired=!1,this.namespace=new Map,this.children=new b,this.next=void 0,this.prev=void 0}rerender(e){p(this,e),s.Rx.configureCurrentOperation({order:this.level})}}o([s.reaction,(0,s.options)({reentrance:s.Reentrance.CancelPrevious,sensitiveArgs:!0,noSideEffects:!0}),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],c.prototype,"rerender",null),t.RxNodeImpl=c;class d{static Root(e){let t=e();return t instanceof Promise?t=t.then((e=>(s.Transaction.run(d.renderChildrenThenDo,x),e)),(e=>{console.log(e),s.Transaction.run(d.renderChildrenThenDo,x)})):s.Transaction.run(d.renderChildrenThenDo,x),t}static Node(e,t,n,o,i,r){const s=w;let a=N;const u=s.namespace.get(e);if(!u||u.revision<-1)void 0===i&&(i=d.basic),a=new c(s.level+1,e,i,null!=r&&r,t,n,o,s),s.namespace.set(e,a),s.children.addAsNewlyCreated(a);else{if(u.parentRevision===s.revision)throw new Error(`fatal: duplicate node id '${e}'`);a=u,function(e,t){let n=e===t;if(!n)if(Array.isArray(e))n=Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e===t[n]));else if(e===Object(e)&&t===Object(t))for(const o in e)if(n=e[o]===t[o],!n)break;return n}(a.args,t)||(a.args=t),a.render=n,a.superRender=o,s.children.addAsAlreadyExisting(a)}return a.parentRevision=s.revision,a}static renderChildrenThenDo(e){const t=w;let n;try{const o=t.children;if(o.isRefreshing){let i,r,a=o.first;for(;void 0!==a;)l(a,a),a=a.next;const c=t.type.sequential;let p;for(a=o.refreshingFirst;void 0!==a&&!s.Transaction.isCanceled;)c?a.prevSibling!==p&&(a.prevSibling=p,a.isMountRequired=!1):a.prevSibling=a,0===a.priority?u(a):1===a.priority?i=g(i,a):r=g(r,a),a.native&&(p=a),a=a.next;o.isRefreshing=!1,(!s.Transaction.isCanceled&&void 0!==i||void 0!==r)&&(n=d.renderIncrementally(t,i,r).then(e,e))}}finally{n||e()}}static createRootNode(e,t,n){const o=new c(0,e,{name:e,sequential:t},!1,null,(()=>{}),void 0,{});return o.parent=o,o.native=n,o.revision=0,o}static get self(){return w}static currentNodeInstance(){return w}static currentNodeInstanceInternal(){return w}static currentNodeRevision(){return w.revision}static forAll(e){d.forEachChildRecursively(T,e)}static renderIncrementally(e,t,n){return r(this,void 0,void 0,(function*(){if(s.Transaction.isFrameOver(30,d.incrementalRenderingFrameDurationMs)&&(yield s.Transaction.requestNextFrame()),!s.Transaction.isCanceled){if(void 0!==t){e.childrenShuffling&&m(t);for(const e of t){if(u(e),s.Transaction.isCanceled)break;if(s.Transaction.isFrameOver(30,d.incrementalRenderingFrameDurationMs)&&(yield s.Transaction.requestNextFrame()),s.Transaction.isCanceled)break}}if(void 0!==n){e.childrenShuffling&&m(n);for(const e of n){if(u(e),s.Transaction.isCanceled)break;if(s.Transaction.isFrameOver(30,d.incrementalRenderingFrameDurationMs)&&(yield s.Transaction.requestNextFrame()),s.Transaction.isCanceled)break}}}}))}static forEachChildRecursively(e,t){const n=e.native;n&&t(n);let o=e.children.first;for(;void 0!==o;)d.forEachChildRecursively(o,t),o=o.next}}function u(e){var t,n;const o=e.type;-1===e.revision&&(e.revision=0,null===(t=o.initialize)||void 0===t||t.call(o,e)),e.isMountRequired||(e.isMountRequired=!0,null===(n=o.mount)||void 0===n||n.call(o,e)),e.inline?p(e,e.args):(0,s.nonreactive)(e.rerender,e.args)}function l(e,t){e.revision>=-1&&(e.revision=~e.revision,e===t?s.Transaction.runAs({standalone:!0,hint:`RxDom.finalize(${e.id})`},h,e,t):h(e,t))}function p(e,t){f(e,(()=>{e.revision++;const n=e.type;n.render?n.render(e,t):d.basic.render(e,t)}))}function h(e,t){const n=e.type;n.finalize?n.finalize(e,t):d.basic.finalize(e,t)}function v(e){const t=w;return(...n)=>f(t,e,...n)}function f(e,t,...n){const o=w;try{return w=e,t(...n)}finally{w=o}}function g(e,t){return null==e&&(e=new Array),e.push(t),e}function m(e){let t=e.length-1;for(;t>=0;){const n=Math.floor(Math.random()*t),o=e[t];e[t]=e[n],e[n]=o,t--}return e}t.RxDom=d,d.basic=new a("basic",!1),d.incrementalRenderingFrameDurationMs=10;class b{constructor(){this.refreshingFirst=void 0,this.refreshingLast=void 0,this.refreshingCount=-1,this.first=void 0,this.count=0}get isRefreshing(){return this.refreshingCount>=0}set isRefreshing(e){if(e){if(!(this.refreshingCount<0))throw new Error("rendering reentrance detected");this.refreshingCount=0}else this.refreshingCount>=0&&(this.first=this.refreshingFirst,this.count=this.refreshingCount,this.refreshingFirst=this.refreshingLast=void 0,this.refreshingCount=-1)}addAsNewlyCreated(e){const t=this.refreshingLast;t?(e.prev=t,this.refreshingLast=t.next=e):this.refreshingFirst=this.refreshingLast=e,this.refreshingCount++}addAsAlreadyExisting(e){void 0!==e.prev&&(e.prev.next=e.next),void 0!==e.next&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),this.count--;const t=this.refreshingLast;t?(e.prev=t,e.next=void 0,this.refreshingLast=t.next=e):(e.prev=e.next=void 0,this.refreshingFirst=this.refreshingLast=e),this.refreshingCount++}}const y=Promise.prototype.then;function R(e){return e}function D(e){throw e}t.resolveReturn=R,t.rejectRethrow=D,Promise.prototype.then=function(e,t){return e=e?v(e):R,t=t?v(t):D,y.call(this,e,t)};const x=()=>{},N=d.createRootNode("NUL",!1,"NUL"),T=d.createRootNode("SYSTEM",!1,"SYSTEM");let w=T},81:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicNodeType=t.RxDom=void 0,i(n(861),t);var r=n(17);Object.defineProperty(t,"RxDom",{enumerable:!0,get:function(){return r.RxDom}}),Object.defineProperty(t,"BasicNodeType",{enumerable:!0,get:function(){return r.BasicNodeType}}),i(n(639),t)},374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(572),i=n.g.Element;void 0!==i&&Object.defineProperty(i.prototype,"dataForSensor",{configurable:!1,enumerable:!1,get(){let e=this[o.SymDataForSensor];return void 0===e&&(e=this[o.SymDataForSensor]={}),e},set(e){this[o.SymDataForSensor]=e}})},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RxHR=t.RxHGroup=t.RxHeader=t.RxHead=t.RxH6=t.RxH5=t.RxH4=t.RxH3=t.RxH2=t.RxH1=t.RxForm=t.RxFooter=t.RxFigure=t.RxFigCaption=t.RxFieldSet=t.RxEmbed=t.RxEM=t.RxDT=t.RxDL=t.RxDiv=t.RxDialog=t.RxDfn=t.RxDetails=t.RxDel=t.RxDD=t.RxDataList=t.RxData=t.RxColGroup=t.RxCol=t.RxCode=t.RxCite=t.RxCaption=t.RxCanvas=t.RxButton=t.RxBR=t.RxBody=t.RxBlockQuote=t.RxBig=t.RxBdo=t.RxBdi=t.RxBase=t.RxB=t.RxAudio=t.RxAside=t.RxArticle=t.RxArea=t.RxAddress=t.RxAbbr=t.RxA=t.HtmlBody=void 0,t.RxTable=t.RxSup=t.RxSummary=t.RxSub=t.RxStyle=t.RxStrong=t.RxSpan=t.RxSource=t.RxSmall=t.RxSelect=t.RxSection=t.RxScript=t.RxSamp=t.RxS=t.RxRuby=t.RxRT=t.RxRP=t.RxQ=t.RxProgress=t.RxPre=t.RxPicture=t.RxParam=t.RxP=t.RxOutput=t.RxOption=t.RxOptGroup=t.RxOL=t.RxObj=t.RxNoScript=t.RxNoIndex=t.RxNav=t.RxMeter=t.RxMeta=t.RxMenuItem=t.RxMenu=t.RxMark=t.RxMap=t.RxMain=t.RxLink=t.RxLI=t.RxLegend=t.RxLabel=t.RxKeygen=t.RxKbd=t.RxIns=t.RxInput=t.RxImg=t.RxIFrame=t.RxI=t.RxHtml=void 0,t.Embed=t.EM=t.DT=t.DL=t.Div=t.Dialog=t.Dfn=t.Details=t.Del=t.DD=t.DataList=t.Data=t.ColGroup=t.Col=t.Code=t.Cite=t.Caption=t.Canvas=t.Button=t.BR=t.Body=t.BlockQuote=t.Big=t.Bdo=t.Bdi=t.Base=t.B=t.Audio=t.Aside=t.Article=t.Area=t.Address=t.Abbr=t.A=t.RxWbr=t.RxVideo=t.RxVar=t.RxUL=t.RxU=t.RxTrack=t.RxTR=t.RxTitle=t.RxTime=t.RxTHead=t.RxTH=t.RxTFoot=t.RxTextArea=t.RxTD=t.RxTBody=t.RxTemplate=void 0,t.RT=t.RP=t.Q=t.Progress=t.Pre=t.Picture=t.Param=t.P=t.Output=t.Option=t.OptGroup=t.OL=t.Obj=t.NoScript=t.NoIndex=t.Nav=t.Meter=t.Meta=t.MenuItem=t.Menu=t.Mark=t.Map=t.Main=t.Link=t.LI=t.Legend=t.Label=t.KeyGen=t.Kbd=t.Ins=t.Input=t.Img=t.IFrame=t.I=t.Html=t.HR=t.HGroup=t.Header=t.Head=t.H6=t.H5=t.H4=t.H3=t.H2=t.H1=t.Form=t.Footer=t.Figure=t.FigCaption=t.FieldSet=void 0,t.RxFeDropShadow=t.RxFeDistantLight=t.RxFeDisplacementMap=t.RxFeDiffuseLighting=t.RxFeConvolveMatrix=t.RxFeComposite=t.RxFeComponentTransfer=t.RxFeColorMatrix=t.RxFeBlend=t.RxEllipse=t.RxDesc=t.RxDefs=t.RxClipPath=t.RxCircle=t.RxAnimateTransform=t.RxAnimateMotion=t.RxAnimate=t.RxSvgA=t.RxSvg=t.Wbr=t.Video=t.Var=t.UL=t.U=t.Track=t.TR=t.Title=t.Time=t.THead=t.TH=t.TFoot=t.TextArea=t.TD=t.TBody=t.Template=t.Table=t.Sup=t.Summary=t.Sub=t.Style=t.Strong=t.Span=t.Source=t.Small=t.Select=t.Section=t.Script=t.Samp=t.S=t.Ruby=void 0,t.Ellipse=t.Desc=t.Defs=t.ClipPath=t.Circle=t.AnimateTransform=t.AnimateMotion=t.Animate=t.SvgA=t.Svg=t.RxView=t.RxUse=t.RxTSpan=t.RxTextPath=t.RxText=t.RxSymbol=t.RxSvgSwitch=t.RxStop=t.RxRect=t.RxRadialGradient=t.RxPolyline=t.RxPolygon=t.RxPattern=t.RxPath=t.RxMPath=t.RxMetadata=t.RxMask=t.RxMarker=t.RxLinearGradient=t.RxLine=t.RxSvgImage=t.RxG=t.RxForeignObject=t.RxFilter=t.RxFeTurbulence=t.RxFeTile=t.RxFeSpotLight=t.RxFeSpecularLighting=t.RxFePointLight=t.RxFeOffset=t.RxFeMorphology=t.RxFeMergeNode=t.RxFeMerge=t.RxFeImage=t.RxFeGaussianBlur=t.RxFeFuncR=t.RxFeFuncG=t.RxFeFuncB=t.RxFeFuncA=t.RxFeFlood=void 0,t.View=t.Use=t.TSpan=t.TextPath=t.Text=t.Symbol=t.SvgSwitch=t.Stop=t.Rect=t.RadialGradient=t.PolyLine=t.Polygon=t.Pattern=t.Path=t.MPath=t.MetaData=t.Mask=t.Marker=t.LinearGradient=t.Line=t.SvgImage=t.G=t.ForeignObject=t.Filter=t.FeTurbulence=t.FeTile=t.FeSpotLight=t.FeSpecularLighting=t.FePointLight=t.FeOffset=t.FeMorphology=t.FeMergeNode=t.FeMerge=t.FeImage=t.FeGaussianBlur=t.FeFuncR=t.FeFuncG=t.FeFuncB=t.FeFuncA=t.FeFlood=t.FeDropShadow=t.FeDistantLight=t.FeDisplacementMap=t.FeDiffuseLighting=t.FeConvolveMatrix=t.FeComposite=t.FeComponentTransfer=t.FeColorMatrix=t.FeBlend=void 0;const o=n(81),i=n(601);function r(e){}t.HtmlBody=function(e,t,i){return o.RxDom.Node(e,t,i,void 0,{name:e,sequential:!0,initialize(e,t){const o=n.g.document.body;o.id=e.id,e.native=o}})},t.RxA=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.a,r)},t.RxAbbr=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.abbr,r)},t.RxAddress=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.address,r)},t.RxArea=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.area,r)},t.RxArticle=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.article,r)},t.RxAside=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.aside,r)},t.RxAudio=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.audio,r)},t.RxB=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.b,r)},t.RxBase=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.base,r)},t.RxBdi=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.bdi,r)},t.RxBdo=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.bdo,r)},t.RxBig=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.big,r)},t.RxBlockQuote=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.blockquote,r)},t.RxBody=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.body,r)},t.RxBR=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.br,r)},t.RxButton=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.button,r)},t.RxCanvas=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.canvas,r)},t.RxCaption=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.caption,r)},t.RxCite=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.cite,r)},t.RxCode=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.code,r)},t.RxCol=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.col,r)},t.RxColGroup=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.colgroup,r)},t.RxData=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.data,r)},t.RxDataList=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.datalist,r)},t.RxDD=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.dd,r)},t.RxDel=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.del,r)},t.RxDetails=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.details,r)},t.RxDfn=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.dfn,r)},t.RxDialog=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.dialog,r)},t.RxDiv=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.div,r)},t.RxDL=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.dl,r)},t.RxDT=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.dt,r)},t.RxEM=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.em,r)},t.RxEmbed=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.embed,r)},t.RxFieldSet=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.fieldset,r)},t.RxFigCaption=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.figcaption,r)},t.RxFigure=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.figure,r)},t.RxFooter=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.footer,r)},t.RxForm=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.form,r)},t.RxH1=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h1,r)},t.RxH2=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h2,r)},t.RxH3=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h3,r)},t.RxH4=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h4,r)},t.RxH5=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h5,r)},t.RxH6=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.h6,r)},t.RxHead=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.head,r)},t.RxHeader=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.header,r)},t.RxHGroup=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.hgroup,r)},t.RxHR=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.hr,r)},t.RxHtml=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.html,r)},t.RxI=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.i,r)},t.RxIFrame=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.iframe,r)},t.RxImg=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.img,r)},t.RxInput=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.input,r)},t.RxIns=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.ins,r)},t.RxKbd=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.kbd,r)},t.RxKeygen=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.keygen,r)},t.RxLabel=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.label,r)},t.RxLegend=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.legend,r)},t.RxLI=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.li,r)},t.RxLink=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.link,r)},t.RxMain=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.main,r)},t.RxMap=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.map,r)},t.RxMark=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.mark,r)},t.RxMenu=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.menu,r)},t.RxMenuItem=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.menuitem,r)},t.RxMeta=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.meta,r)},t.RxMeter=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.meter,r)},t.RxNav=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.nav,r)},t.RxNoIndex=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.noindex,r)},t.RxNoScript=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.noscript,r)},t.RxObj=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.object,r)},t.RxOL=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.ol,r)},t.RxOptGroup=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.optgroup,r)},t.RxOption=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.option,r)},t.RxOutput=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.output,r)},t.RxP=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.p,r)},t.RxParam=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.param,r)},t.RxPicture=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.picture,r)},t.RxPre=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.pre,r)},t.RxProgress=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.progress,r)},t.RxQ=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.q,r)},t.RxRP=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.rp,r)},t.RxRT=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.rt,r)},t.RxRuby=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.ruby,r)},t.RxS=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.s,r)},t.RxSamp=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.samp,r)},t.RxScript=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.script,r)},t.RxSection=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.section,r)},t.RxSelect=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.select,r)},t.RxSmall=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.small,r)},t.RxSource=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.source,r)},t.RxSpan=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.span,r)},t.RxStrong=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.strong,r)},t.RxStyle=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.style,r)},t.RxSub=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.sub,r)},t.RxSummary=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.summary,r)},t.RxSup=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.sup,r)},t.RxTable=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.table,r)},t.RxTemplate=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.template,r)},t.RxTBody=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.tbody,r)},t.RxTD=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.td,r)},t.RxTextArea=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.textarea,r)},t.RxTFoot=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.tfoot,r)},t.RxTH=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.th,r)},t.RxTHead=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.thead,r)},t.RxTime=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.time,r)},t.RxTitle=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.title,r)},t.RxTR=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.tr,r)},t.RxTrack=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.track,r)},t.RxU=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.u,r)},t.RxUL=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.ul,r)},t.RxVar=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.var,r)},t.RxVideo=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.video,r)},t.RxWbr=function(e,t,n,i,r){return o.RxDom.Node(e,t,n,i,s.wbr,r)},t.A=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.a,!0)},t.Abbr=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.abbr,!0)},t.Address=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.address,!0)},t.Area=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.area,!0)},t.Article=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.article,!0)},t.Aside=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.aside,!0)},t.Audio=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.audio,!0)},t.B=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.b,!0)},t.Base=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.base,!0)},t.Bdi=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.bdi,!0)},t.Bdo=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.bdo,!0)},t.Big=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.big,!0)},t.BlockQuote=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.blockquote,!0)},t.Body=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.body,!0)},t.BR=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.br,!0)},t.Button=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.button,!0)},t.Canvas=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.canvas,!0)},t.Caption=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.caption,!0)},t.Cite=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.cite,!0)},t.Code=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.code,!0)},t.Col=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.col,!0)},t.ColGroup=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.colgroup,!0)},t.Data=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.data,!0)},t.DataList=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.datalist,!0)},t.DD=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.dd,!0)},t.Del=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.del,!0)},t.Details=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.details,!0)},t.Dfn=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.dfn,!0)},t.Dialog=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.dialog,!0)},t.Div=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.div,!0)},t.DL=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.dl,!0)},t.DT=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.dt,!0)},t.EM=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.em,!0)},t.Embed=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.embed,!0)},t.FieldSet=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.fieldset,!0)},t.FigCaption=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.figcaption,!0)},t.Figure=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.figure,!0)},t.Footer=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.footer,!0)},t.Form=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.form,!0)},t.H1=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h1,!0)},t.H2=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h2,!0)},t.H3=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h3,!0)},t.H4=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h4,!0)},t.H5=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h5,!0)},t.H6=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.h6,!0)},t.Head=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.head,!0)},t.Header=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.header,!0)},t.HGroup=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.hgroup,!0)},t.HR=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.hr,!0)},t.Html=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.html,!0)},t.I=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.i,!0)},t.IFrame=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.iframe,!0)},t.Img=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.img,!0)},t.Input=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.input,!0)},t.Ins=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.ins,!0)},t.Kbd=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.kbd,!0)},t.KeyGen=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.keygen,!0)},t.Label=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.label,!0)},t.Legend=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.legend,!0)},t.LI=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.li,!0)},t.Link=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.link,!0)},t.Main=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.main,!0)},t.Map=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.map,!0)},t.Mark=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.mark,!0)},t.Menu=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.menu,!0)},t.MenuItem=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.menuitem,!0)},t.Meta=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.meta,!0)},t.Meter=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.meter,!0)},t.Nav=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.nav,!0)},t.NoIndex=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.noindex,!0)},t.NoScript=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.noscript,!0)},t.Obj=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.object,!0)},t.OL=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.ol,!0)},t.OptGroup=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.optgroup,!0)},t.Option=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.option,!0)},t.Output=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.output,!0)},t.P=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.p,!0)},t.Param=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.param,!0)},t.Picture=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.picture,!0)},t.Pre=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.pre,!0)},t.Progress=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.progress,!0)},t.Q=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.q,!0)},t.RP=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.rp,!0)},t.RT=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.rt,!0)},t.Ruby=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.ruby,!0)},t.S=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.s,!0)},t.Samp=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.samp,!0)},t.Script=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.script,!0)},t.Section=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.section,!0)},t.Select=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.select,!0)},t.Small=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.small,!0)},t.Source=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.source,!0)},t.Span=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.span,!0)},t.Strong=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.strong,!0)},t.Style=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.style,!0)},t.Sub=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.sub,!0)},t.Summary=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.summary,!0)},t.Sup=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.sup,!0)},t.Table=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.table,!0)},t.Template=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.template,!0)},t.TBody=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.tbody,!0)},t.TD=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.td,!0)},t.TextArea=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.textarea,!0)},t.TFoot=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.tfoot,!0)},t.TH=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.th,!0)},t.THead=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.thead,!0)},t.Time=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.time,!0)},t.Title=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.title,!0)},t.TR=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.tr,!0)},t.Track=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.track,!0)},t.U=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.u,!0)},t.UL=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.ul,!0)},t.Var=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.var,!0)},t.Video=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.video,!0)},t.Wbr=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,s.wbr,!0)};const s={a:new i.HtmlNodeType("a"),abbr:new i.HtmlNodeType("abbr"),address:new i.HtmlNodeType("address"),area:new i.HtmlNodeType("area"),article:new i.HtmlNodeType("article"),aside:new i.HtmlNodeType("aside"),audio:new i.HtmlNodeType("audio"),b:new i.HtmlNodeType("b"),base:new i.HtmlNodeType("base"),bdi:new i.HtmlNodeType("bdi"),bdo:new i.HtmlNodeType("bdo"),big:new i.HtmlNodeType("big"),blockquote:new i.HtmlNodeType("blockquote"),body:new i.HtmlNodeType("body"),br:new i.HtmlNodeType("br"),button:new i.HtmlNodeType("button"),canvas:new i.HtmlNodeType("canvas"),caption:new i.HtmlNodeType("caption"),cite:new i.HtmlNodeType("cite"),code:new i.HtmlNodeType("code"),col:new i.HtmlNodeType("col"),colgroup:new i.HtmlNodeType("colgroup"),data:new i.HtmlNodeType("data"),datalist:new i.HtmlNodeType("datalist"),dd:new i.HtmlNodeType("dd"),del:new i.HtmlNodeType("del"),details:new i.HtmlNodeType("details"),dfn:new i.HtmlNodeType("dfn"),dialog:new i.HtmlNodeType("dialog"),div:new i.HtmlNodeType("div"),dl:new i.HtmlNodeType("dl"),dt:new i.HtmlNodeType("dt"),em:new i.HtmlNodeType("em"),embed:new i.HtmlNodeType("embed"),fieldset:new i.HtmlNodeType("fieldset"),figcaption:new i.HtmlNodeType("figcaption"),figure:new i.HtmlNodeType("figure"),footer:new i.HtmlNodeType("footer"),form:new i.HtmlNodeType("form"),h1:new i.HtmlNodeType("h1"),h2:new i.HtmlNodeType("h2"),h3:new i.HtmlNodeType("h3"),h4:new i.HtmlNodeType("h4"),h5:new i.HtmlNodeType("h5"),h6:new i.HtmlNodeType("h6"),head:new i.HtmlNodeType("head"),header:new i.HtmlNodeType("header"),hgroup:new i.HtmlNodeType("hgroup"),hr:new i.HtmlNodeType("hr"),html:new i.HtmlNodeType("html"),i:new i.HtmlNodeType("i"),iframe:new i.HtmlNodeType("iframe"),img:new i.HtmlNodeType("img"),input:new i.HtmlNodeType("input"),ins:new i.HtmlNodeType("ins"),kbd:new i.HtmlNodeType("kbd"),keygen:new i.HtmlNodeType("keygen"),label:new i.HtmlNodeType("label"),legend:new i.HtmlNodeType("legend"),li:new i.HtmlNodeType("li"),link:new i.HtmlNodeType("link"),main:new i.HtmlNodeType("main"),map:new i.HtmlNodeType("map"),mark:new i.HtmlNodeType("mark"),menu:new i.HtmlNodeType("menu"),menuitem:new i.HtmlNodeType("menuitem"),meta:new i.HtmlNodeType("meta"),meter:new i.HtmlNodeType("meter"),nav:new i.HtmlNodeType("nav"),noindex:new i.HtmlNodeType("noindex"),noscript:new i.HtmlNodeType("noscript"),object:new i.HtmlNodeType("object"),ol:new i.HtmlNodeType("ol"),optgroup:new i.HtmlNodeType("optgroup"),option:new i.HtmlNodeType("option"),output:new i.HtmlNodeType("output"),p:new i.HtmlNodeType("p"),param:new i.HtmlNodeType("param"),picture:new i.HtmlNodeType("picture"),pre:new i.HtmlNodeType("pre"),progress:new i.HtmlNodeType("progress"),q:new i.HtmlNodeType("q"),rp:new i.HtmlNodeType("rp"),rt:new i.HtmlNodeType("rt"),ruby:new i.HtmlNodeType("ruby"),s:new i.HtmlNodeType("s"),samp:new i.HtmlNodeType("samp"),script:new i.HtmlNodeType("script"),section:new i.HtmlNodeType("section"),select:new i.HtmlNodeType("select"),small:new i.HtmlNodeType("small"),source:new i.HtmlNodeType("source"),span:new i.HtmlNodeType("span"),strong:new i.HtmlNodeType("strong"),style:new i.HtmlNodeType("style"),sub:new i.HtmlNodeType("sub"),summary:new i.HtmlNodeType("summary"),sup:new i.HtmlNodeType("sup"),table:new i.HtmlNodeType("table"),template:new i.HtmlNodeType("template"),tbody:new i.HtmlNodeType("tbody"),td:new i.HtmlNodeType("td"),textarea:new i.HtmlNodeType("textarea"),tfoot:new i.HtmlNodeType("tfoot"),th:new i.HtmlNodeType("th"),thead:new i.HtmlNodeType("thead"),time:new i.HtmlNodeType("time"),title:new i.HtmlNodeType("title"),tr:new i.HtmlNodeType("tr"),track:new i.HtmlNodeType("track"),u:new i.HtmlNodeType("u"),ul:new i.HtmlNodeType("ul"),var:new i.HtmlNodeType("var"),video:new i.HtmlNodeType("video"),wbr:new i.HtmlNodeType("wbr")};t.RxSvg=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.svg)},t.RxSvgA=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.a)},t.RxAnimate=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.animate)},t.RxAnimateMotion=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.animateMotion)},t.RxAnimateTransform=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.animateTransform)},t.RxCircle=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.circle)},t.RxClipPath=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.clipPath)},t.RxDefs=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.defs)},t.RxDesc=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.desc)},t.RxEllipse=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.ellipse)},t.RxFeBlend=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feBlend)},t.RxFeColorMatrix=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feColorMatrix)},t.RxFeComponentTransfer=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feComponentTransfer)},t.RxFeComposite=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feComposite)},t.RxFeConvolveMatrix=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feConvolveMatrix)},t.RxFeDiffuseLighting=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feDiffuseLighting)},t.RxFeDisplacementMap=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feDisplacementMap)},t.RxFeDistantLight=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feDistantLight)},t.RxFeDropShadow=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feDropShadow)},t.RxFeFlood=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feFlood)},t.RxFeFuncA=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feFuncA)},t.RxFeFuncB=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feFuncB)},t.RxFeFuncG=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feFuncG)},t.RxFeFuncR=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feFuncR)},t.RxFeGaussianBlur=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feGaussianBlur)},t.RxFeImage=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feImage)},t.RxFeMerge=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feMerge)},t.RxFeMergeNode=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feMergeNode)},t.RxFeMorphology=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feMorphology)},t.RxFeOffset=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feOffset)},t.RxFePointLight=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.fePointLight)},t.RxFeSpecularLighting=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feSpecularLighting)},t.RxFeSpotLight=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feSpotLight)},t.RxFeTile=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feTile)},t.RxFeTurbulence=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.feTurbulence)},t.RxFilter=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.filter)},t.RxForeignObject=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.foreignObject)},t.RxG=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.g)},t.RxSvgImage=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.image)},t.RxLine=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.line)},t.RxLinearGradient=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.linearGradient)},t.RxMarker=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.marker)},t.RxMask=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.mask)},t.RxMetadata=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.metadata)},t.RxMPath=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.mpath)},t.RxPath=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.path)},t.RxPattern=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.pattern)},t.RxPolygon=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.polygon)},t.RxPolyline=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.polyline)},t.RxRadialGradient=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.radialGradient)},t.RxRect=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.rect)},t.RxStop=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.stop)},t.RxSvgSwitch=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.switch)},t.RxSymbol=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.symbol)},t.RxText=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.text)},t.RxTextPath=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.textPath)},t.RxTSpan=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.tspan)},t.RxUse=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.use)},t.RxView=function(e,t,n,i){return o.RxDom.Node(e,t,n,i,a.view)},t.Svg=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.svg)},t.SvgA=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.a)},t.Animate=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.animate)},t.AnimateMotion=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.animateMotion)},t.AnimateTransform=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.animateTransform)},t.Circle=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.circle)},t.ClipPath=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.clipPath)},t.Defs=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.defs)},t.Desc=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.desc)},t.Ellipse=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.ellipse)},t.FeBlend=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feBlend)},t.FeColorMatrix=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feColorMatrix)},t.FeComponentTransfer=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feComponentTransfer)},t.FeComposite=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feComposite)},t.FeConvolveMatrix=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feConvolveMatrix)},t.FeDiffuseLighting=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feDiffuseLighting)},t.FeDisplacementMap=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feDisplacementMap)},t.FeDistantLight=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feDistantLight)},t.FeDropShadow=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feDropShadow)},t.FeFlood=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feFlood)},t.FeFuncA=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feFuncA)},t.FeFuncB=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feFuncB)},t.FeFuncG=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feFuncG)},t.FeFuncR=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feFuncR)},t.FeGaussianBlur=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feGaussianBlur)},t.FeImage=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feImage)},t.FeMerge=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feMerge)},t.FeMergeNode=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feMergeNode)},t.FeMorphology=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feMorphology)},t.FeOffset=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feOffset)},t.FePointLight=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.fePointLight)},t.FeSpecularLighting=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feSpecularLighting)},t.FeSpotLight=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feSpotLight)},t.FeTile=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feTile)},t.FeTurbulence=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.feTurbulence)},t.Filter=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.filter)},t.ForeignObject=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.foreignObject)},t.G=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.g)},t.SvgImage=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.image)},t.Line=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.line)},t.LinearGradient=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.linearGradient)},t.Marker=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.marker)},t.Mask=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.mask)},t.MetaData=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.metadata)},t.MPath=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.mpath)},t.Path=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.path)},t.Pattern=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.pattern)},t.Polygon=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.polygon)},t.PolyLine=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.polyline)},t.RadialGradient=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.radialGradient)},t.Rect=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.rect)},t.Stop=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.stop)},t.SvgSwitch=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.switch)},t.Symbol=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.symbol)},t.Text=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.text)},t.TextPath=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.textPath)},t.TSpan=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.tspan)},t.Use=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.use)},t.View=function(e,t=r){return o.RxDom.Node(e,void 0,t,void 0,a.view)};const a={svg:new i.SvgNodeType("svg"),a:new i.SvgNodeType("a"),animate:new i.SvgNodeType("animate"),animateMotion:new i.SvgNodeType("animateMotion"),animateTransform:new i.SvgNodeType("animateTransform"),circle:new i.SvgNodeType("circle"),clipPath:new i.SvgNodeType("clipPath"),defs:new i.SvgNodeType("defs"),desc:new i.SvgNodeType("desc"),ellipse:new i.SvgNodeType("ellipse"),feBlend:new i.SvgNodeType("feBlend"),feColorMatrix:new i.SvgNodeType("feColorMatrix"),feComponentTransfer:new i.SvgNodeType("feComponentTransfer"),feComposite:new i.SvgNodeType("feComposite"),feConvolveMatrix:new i.SvgNodeType("feConvolveMatrix"),feDiffuseLighting:new i.SvgNodeType("feDiffuseLighting"),feDisplacementMap:new i.SvgNodeType("feDisplacementMap"),feDistantLight:new i.SvgNodeType("feDistantLight"),feDropShadow:new i.SvgNodeType("feDropShadow"),feFlood:new i.SvgNodeType("feFlood"),feFuncA:new i.SvgNodeType("feFuncA"),feFuncB:new i.SvgNodeType("feFuncB"),feFuncG:new i.SvgNodeType("feFuncG"),feFuncR:new i.SvgNodeType("feFuncR"),feGaussianBlur:new i.SvgNodeType("feGaussianBlur"),feImage:new i.SvgNodeType("feImage"),feMerge:new i.SvgNodeType("feMerge"),feMergeNode:new i.SvgNodeType("feMergeNode"),feMorphology:new i.SvgNodeType("feMorphology"),feOffset:new i.SvgNodeType("feOffset"),fePointLight:new i.SvgNodeType("fePointLight"),feSpecularLighting:new i.SvgNodeType("feSpecularLighting"),feSpotLight:new i.SvgNodeType("feSpotLight"),feTile:new i.SvgNodeType("feTile"),feTurbulence:new i.SvgNodeType("feTurbulence"),filter:new i.SvgNodeType("filter"),foreignObject:new i.SvgNodeType("foreignObject"),g:new i.SvgNodeType("g"),image:new i.SvgNodeType("image"),line:new i.SvgNodeType("line"),linearGradient:new i.SvgNodeType("linearGradient"),marker:new i.SvgNodeType("marker"),mask:new i.SvgNodeType("mask"),metadata:new i.SvgNodeType("metadata"),mpath:new i.SvgNodeType("mpath"),path:new i.SvgNodeType("path"),pattern:new i.SvgNodeType("pattern"),polygon:new i.SvgNodeType("polygon"),polyline:new i.SvgNodeType("polyline"),radialGradient:new i.SvgNodeType("radialGradient"),rect:new i.SvgNodeType("rect"),stop:new i.SvgNodeType("stop"),switch:new i.SvgNodeType("switch"),symbol:new i.SvgNodeType("symbol"),text:new i.SvgNodeType("text"),textPath:new i.SvgNodeType("textPath"),tspan:new i.SvgNodeType("tspan"),use:new i.SvgNodeType("use"),view:new i.SvgNodeType("view")}},601:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SvgNodeType=t.HtmlNodeType=t.AbstractHtmlNodeType=void 0;const o=n(361),i=n(81);class r extends i.BasicNodeType{constructor(e,t=!0){super(e,t),this.name=e,this.sequential=t}initialize(e){super.initialize(e);const t=this.createElement(e);t.id=e.id,e.native=t}mount(e){const t=e.native;if(t){let n=e.parent;for(;void 0!==n&&void 0===n.native;)n=n.parent;const o=n.native;if(o instanceof Element){const n=e.prevSibling;if(void 0===n)o===t.parentNode&&null===t.previousSibling||o.prepend(t);else if(n!==e){if(n.parent.native===o){const e=n.native;e instanceof Element&&e.nextSibling!==t&&o.insertBefore(t,e.nextSibling)}}else o.appendChild(t)}}}render(e,t){const n=e.native,i=r.gNativeParent;try{r.gNativeParent=e,super.render(e,t),r.blinkingEffect&&function(e,t){const n=t%2,o=1>>n;e.classList.toggle(`${r.blinkingEffect}-${n}`,!0),e.classList.toggle(`${r.blinkingEffect}-${o}`,!1)}(n,e.revision),r.isDebugAttributeEnabled&&n.setAttribute("rdbg",`${e.revision}:    ${o.Rx.why()}`)}finally{r.gNativeParent=i}}finalize(e,t){var n,o;const i=e.native;if(!r.gSubTreeFinalization&&i&&i.parentElement){r.gSubTreeFinalization=i;try{null===(n=e.resizeObserver)||void 0===n||n.unobserve(i),i.remove(),super.finalize(e,t)}finally{r.gSubTreeFinalization=void 0}}else i&&(null===(o=e.resizeObserver)||void 0===o||o.unobserve(i)),super.finalize(e,t)}static get blinkingEffect(){return r._blinkingEffect}static set blinkingEffect(e){void 0===e&&i.RxDom.forAll((e=>{e instanceof HTMLElement&&e.classList.remove(`${r.blinkingEffect}-0`,`${r.blinkingEffect}-1`)})),r._blinkingEffect=e}}t.AbstractHtmlNodeType=r,r.isDebugAttributeEnabled=!1,r.gNativeParent=i.RxDom.createRootNode("html > body",!0,n.g.document.body),r.gSubTreeFinalization=void 0,r._blinkingEffect=void 0;t.HtmlNodeType=class extends r{createElement(e){return document.createElement(e.type.name)}};t.SvgNodeType=class extends r{createElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e.type.name)}}},927:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RxFocus=t.TwoWayFocusSync=void 0;const o=n(361),i=n(81);t.TwoWayFocusSync=function(e,t,n,r){t.dataForSensor.focus=n,void 0===r&&(r=()=>t.focus()),i.RxDom.Node(e,{focusToggle:n},(()=>{const e=n.value,t=n.valueOn;(e===n.valueOn||e instanceof o.Ref&&t instanceof o.Ref&&o.Ref.sameRefs(e,t))&&r&&r()}))},t.RxFocus=function(e,t,n){i.RxDom.Node(e,{target:t,focusToggle:n},(()=>{t.dataForSensor.focus=n;const e=n.value,i=n.valueOn;(e===i||e instanceof o.Ref&&i instanceof o.Ref&&o.Ref.sameRefs(e,i))&&t.focus()}))}},627:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPointerButtonDown=t.extractPointerButton=t.BasePointerSensor=t.PointerButton=void 0;const o=n(576),i=n(171);var r;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Middle=4]="Middle"}(r=t.PointerButton||(t.PointerButton={}));class s extends o.HtmlElementSensor{constructor(e){super(e),this.positionX=1/0,this.positionY=1/0,this.modifiers=i.KeyboardModifiers.None}}t.BasePointerSensor=s,t.extractPointerButton=function(e){switch(e.button){case 0:return r.Left;case 1:return r.Middle;case 2:return r.Right;default:return r.None}},t.isPointerButtonDown=function(e,t){return 0!=(t&e)}},543:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonSensor=t.ButtonState=void 0;const r=n(361),s=n(627),a=n(572),c=n(171);var d;!function(e){e[e.Pressed=0]="Pressed",e[e.Selecting=1]="Selecting",e[e.Selected=2]="Selected",e[e.Released=3]="Released"}(d=t.ButtonState||(t.ButtonState={}));class u extends s.BasePointerSensor{constructor(e){super(e),this.state=d.Released,this.pointerButton=s.PointerButton.None,this.originData=void 0,this.selectedData=void 0,this.selectedX=1/0,this.selectedY=1/0,this.selected=!1}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){this.state===d.Released&&this.pointerButton===s.PointerButton.None&&this.press(e),this.setPreventDefaultAndStopPropagation(e)}onPointerMove(e){const t=this.state;(0,s.isPointerButtonDown)(this.pointerButton,e.buttons)?t!==d.Pressed&&t!==d.Selecting||this.selecting(e):t!==d.Released&&(this.cancel(),this.reset()),this.setPreventDefaultAndStopPropagation(e)}onPointerUp(e){(0,s.extractPointerButton)(e)===this.pointerButton?this.state===d.Selecting?(this.select(e),this.release()):this.state===d.Pressed&&this.release():this.cancel(),this.reset(),this.setPreventDefaultAndStopPropagation(e)}onLostPointerCapture(e){this.state!==d.Released&&(this.cancel(),this.reset())}onKeyDown(e){"Escape"===e.key&&this.state!==d.Released&&(this.cancel(),this.reset())}press(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:o,window:i}=(0,a.findTargetElementData)(t,n,a.SymDataForSensor,["button"]),u=null==o?void 0:o.button;u&&(this.state=d.Pressed,this.pointerButton=(0,s.extractPointerButton)(e),this.originData=u,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++),(0,r.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(i,"button")}))}selecting(e){this.updateSensorData(e),this.state=d.Selecting,this.selected=!1}select(e){this.updateSensorData(e),this.state=d.Selected,this.selectedX=e.clientX,this.selectedY=e.clientY,this.selected=!0}release(){this.preventDefault=!1,this.stopPropagation=!1,this.state=d.Released,this.revision++}cancel(){this.state=d.Released,this.selected=!1,this.revision++}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.state=d.Released,this.originData=void 0,this.selectedData=void 0,this.pointerButton=s.PointerButton.None,this.positionX=1/0,this.positionY=1/0,this.selectedX=1/0,this.selectedY=1/0,this.modifiers=c.KeyboardModifiers.None,this.selected=!1}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],u.prototype,"listen",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],u.prototype,"press",null),o([r.transaction,(0,r.options)({reentrance:r.Reentrance.CancelPrevious,trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],u.prototype,"selecting",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],u.prototype,"select",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],u.prototype,"release",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],u.prototype,"cancel",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],u.prototype,"reset",null),t.ButtonSensor=u},572:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findTargetElementData=t.grabElementData=t.EmptyDataArray=t.SymDataForSensor=void 0,t.SymDataForSensor=Symbol("DataForSensor"),t.EmptyDataArray=[],t.grabElementData=function(e,n,o,i){let r,s=i,a=0,c=0;for(;void 0===r&&a<e.length;){const t=e[a][n];if(void 0!==t){r=t.window;const e=t[o];void 0!==e&&(s!==i?void 0!==e&&s.push(e):void 0!==e?e!==i[c]?(s=i.slice(0,c),s.push(e)):c++:s=i.slice(0,c))}a++}return 0===c&&s===i&&i.length>0&&(s=t.EmptyDataArray),{data:s,window:r}},t.findTargetElementData=function(e,t,n,o){let i,r,s=0;for(;void 0===r&&s<e.length;){const a=e[s],c=a[n];if(void 0!==c&&(r=c.window,void 0===i))for(const e of o){if(void 0!==c[e]&&t.includes(a)){i=c;break}}s++}return{data:i,window:r}}},529:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FocusSensor=void 0;const r=n(361),s=n(572),a=n(576);class c extends a.HtmlElementSensor{listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),n.removeEventListener("focusout",this.onFocusOut.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),e.addEventListener("focusout",this.onFocusOut.bind(this),{capture:!0})))}reset(){this.doFocusOut()}onFocusIn(e){this.doFocusIn(e),this.setPreventDefaultAndStopPropagation(e)}onFocusOut(e){this.doFocusOut(),this.setPreventDefaultAndStopPropagation(e)}doFocusIn(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath(),{data:n,window:o}=(0,s.grabElementData)(t,s.SymDataForSensor,"focus",this.elementDataList);this.elementDataList=function(e,t){t!==e&&(e.forEach((e=>{e instanceof r.ToggleRef&&e.valueOn!==e.valueOff&&(e.value=e.valueOff)})),t.forEach((e=>{e instanceof r.ToggleRef&&(e.value=e.valueOn)})));return t}(this.elementDataList,n),this.revision++,(0,r.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(o,"focus")}))}doFocusOut(){this.preventDefault=!1,this.stopPropagation=!1,this.revision++}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],c.prototype,"listen",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[FocusEvent]),i("design:returntype",void 0)],c.prototype,"doFocusIn",null),o([r.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],c.prototype,"doFocusOut",null),t.FocusSensor=c},134:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HoverSensor=void 0;const r=n(361),s=n(572),a=n(171),c=n(627);class d extends c.BasePointerSensor{constructor(e){super(e),this.target=void 0,this.target=void 0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),n.removeEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),e.addEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})))}onPointerOver(e){this.doPointerOver(e)}onPointerOut(e){this.doPointerOut()}doPointerOver(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY);this.target=null===(t=(0,s.findTargetElementData)(n,o,s.SymDataForSensor,["hover"]).data)||void 0===t?void 0:t.hover,this.modifiers=(0,a.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}doPointerOut(){this.preventDefault=!1,this.stopPropagation=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=a.KeyboardModifiers.None,this.target=void 0}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"doPointerOver",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"doPointerOut",null),t.HoverSensor=d},560:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlDragSensor=void 0;const r=n(361),s=n(572),a=n(576),c=n(171);class d extends a.HtmlElementSensor{constructor(e){super(e),this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat=new Map,this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None}getData(e){return this.dataByFormat.get(e)}setData(e,t){this.dataByFormat.set(e,t)}clearData(e){e?this.dataByFormat.delete(e):this.dataByFormat.clear()}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),n.removeEventListener("drag",this.onDrag.bind(this),{capture:!0}),n.removeEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),n.removeEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),n.removeEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),n.removeEventListener("drop",this.onDrop.bind(this),{capture:!0}),n.removeEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),e.addEventListener("drag",this.onDrag.bind(this),{capture:!0}),e.addEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),e.addEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),e.addEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),e.addEventListener("drop",this.onDrop.bind(this),{capture:!0}),e.addEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})))}onDragStart(e){this.startDragging(e),this.updateEventOnDragStart(e)}onDrag(e){this.dragging(e)}onDragEnter(e){this.enterTarget(e),this.updateEventOnDropAllowed(e)}onDragLeave(e){this.leaveTarget(e)}onDragOver(e){this.dragOver(e),this.updateEventOnDropAllowed(e)}onDrop(e){this.drop(e)}onDragEnd(e){this.finishDragging(e),this.reset()}startDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY);this.draggable=null===(t=(0,s.findTargetElementData)(n,o,s.SymDataForSensor,["htmlDraggable"]).data)||void 0===t?void 0:t.htmlDraggable;const{data:i,window:a}=(0,s.findTargetElementData)(n,o,s.SymDataForSensor,["htmlDrag"]);this.dragSource=null==i?void 0:i.htmlDrag,this.dragStarted=!0,this.dragFinished=!1,this.startX=e.clientX,this.startY=e.clientY,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.previousDragTarget=void 0,this.revision++,(0,r.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(a,"htmlDrag")}))}dragging(e){this.dragStarted=!0,this.dragFinished=!1,this.revision++}finishDragging(e){this.dragFinished=!0,this.revision++}enterTarget(e){var t;const n=this.updateDragTarget(e);this.dropped=!1,this.revision++,null===(t=this.windowSensor)||void 0===t||t.setActiveWindow(n,"htmlDrag")}leaveTarget(e){}dragOver(e){this.updateDragTarget(e),this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0;const t=e.dataTransfer;if(t){let e=this.dataByFormat;t.types.forEach((n=>{if(!e.has(n)){const o=t.getData(n);""!==o&&(this.dataByFormat=e=e.toMutable(),e.set(n,o))}}))}this.revision++}updateEventOnDragStart(e){const t=e.dataTransfer;t&&(t.dropEffect=this.dropEffect,t.effectAllowed=this.effectAllowed,this.dataByFormat.forEach(((e,n)=>{"string"==typeof e&&t.setData(n,e)})))}updateEventOnDropAllowed(e){this.dropAllowed&&e.preventDefault()}reset(){this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat.clear(),this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None,this.revision++}updateDragTarget(e){var t;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY),{data:i,window:r}=(0,s.findTargetElementData)(n,o,s.SymDataForSensor,["htmlDrag"]),a=null==i?void 0:i.htmlDrag;a!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=a);const d=null===(t=e.dataTransfer)||void 0===t?void 0:t.types;if(d&&!function(e,t){let n=!0;for(let o=0;o<e.length;o++)if(e[o]!==t[o]){n=!1;break}return n}(d,this.draggingDataTypes)){const e=new Array;for(let t=0;t<d.length;t++)e.push(d[t]);this.draggingDataTypes=e}return this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,this.draggingOver=!0,r}whenDragging(){this.draggingOver&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}}o([r.unobservable,i("design:type",Map)],d.prototype,"dataByFormat",void 0),o([r.unobservable,i("design:type",String)],d.prototype,"dropEffect",void 0),o([r.unobservable,i("design:type",Array)],d.prototype,"dataTypesAllowed",void 0),o([r.unobservable,i("design:type",String)],d.prototype,"effectAllowed",void 0),o([r.unobservable,i("design:type",Boolean)],d.prototype,"dropAllowed",void 0),o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"startDragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"dragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"finishDragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"enterTarget",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"leaveTarget",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"dragOver",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"drop",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"updateEventOnDragStart",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"updateEventOnDropAllowed",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),o([r.reaction,(0,r.options)({throttling:0}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"whenDragging",null),t.HtmlDragSensor=d},576:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlElementSensor=void 0;const r=n(361),s=n(197),a=n(951);class c extends s.Sensor{constructor(e){super(),this.sourceElement=void 0,this.windowSensor=e,this.preventDefault=!1,this.stopPropagation=!1}setPreventDefaultAndStopPropagation(e){this.preventDefault&&(e.preventDefault(),this.preventDefault=!1),this.stopPropagation&&(e.stopPropagation(),this.stopPropagation=!1)}}o([r.unobservable,i("design:type",a.WindowSensor)],c.prototype,"windowSensor",void 0),o([r.unobservable,i("design:type",Boolean)],c.prototype,"preventDefault",void 0),o([r.unobservable,i("design:type",Boolean)],c.prototype,"stopPropagation",void 0),t.HtmlElementSensor=c},451:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSensors=void 0;const r=n(361),s=n(529),a=n(134),c=n(560),d=n(171),u=n(543),l=n(263),p=n(899),h=n(951),v=n(768);class f{constructor(){this.window=new h.WindowSensor,this.focus=new s.FocusSensor(this.window),this.hover=new a.HoverSensor,this.keyboard=new d.KeyboardSensor,this.wheel=new p.WheelSensor,this.resize=new l.ResizeSensor,this.htmlDrag=new c.HtmlDragSensor(this.window),this.button=new u.ButtonSensor(this.window),this.pointer=new v.PointerSensor(this.window)}listen(e,t=!0){this.focus.listen(e,t),this.hover.listen(e,t),this.keyboard.listen(e,t),this.wheel.listen(e,t),this.htmlDrag.listen(e,t),this.button.listen(e,t),this.pointer.listen(e,t)}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],f.prototype,"listen",null),t.HtmlSensors=f},171:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.extractModifierKeys=t.KeyboardSensor=t.KeyboardModifiers=void 0;const r=n(361),s=n(572),a=n(576);var c;!function(e){e[e.None=0]="None",e[e.Ctrl=1]="Ctrl",e[e.Shift=2]="Shift",e[e.Alt=4]="Alt",e[e.Meta=8]="Meta",e[e.CtrlShift=3]="CtrlShift",e[e.CtrlAlt=5]="CtrlAlt",e[e.CtrlMeta=9]="CtrlMeta",e[e.CtrlShiftAlt=7]="CtrlShiftAlt",e[e.CtrlShiftAltMeta=15]="CtrlShiftAltMeta",e[e.CtrlShiftMeta=11]="CtrlShiftMeta",e[e.ShiftAlt=6]="ShiftAlt",e[e.ShiftMeta=10]="ShiftMeta",e[e.ShiftAltMeta=14]="ShiftAltMeta",e[e.AltMeta=12]="AltMeta"}(c=t.KeyboardModifiers||(t.KeyboardModifiers={}));class d extends a.HtmlElementSensor{constructor(){super(),this.down="",this.up="",this.modifiers=c.None}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),n.removeEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),e.addEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})))}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.down="",this.up="",this.modifiers=c.None}onKeyDown(e){this.keyDown(e),this.setPreventDefaultAndStopPropagation(e)}onKeyUp(e){this.keyUp(e),this.setPreventDefaultAndStopPropagation(e)}keyDown(e){this.updateSensorData(e),this.up="",(0,r.sensitive)(!0,(()=>this.down=e.key))}keyUp(e){this.updateSensorData(e),this.down="",(0,r.sensitive)(!0,(()=>this.up=e.key))}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath();this.elementDataList=(0,s.grabElementData)(t,s.SymDataForSensor,"keyboard",this.elementDataList).data,this.modifiers=u(e),this.revision++}static getKeyAsModifierIfAny(e){let t=c.None;return"Control"===e?t=c.Ctrl:"Shift"===e?t=c.Shift:"Alt"===e?t=c.Alt:"Meta"===e&&(t=c.Meta),t}}function u(e){let t=c.None;return e.ctrlKey?t|=c.Ctrl:t&=~c.Ctrl,e.shiftKey?t|=c.Shift:t&=~c.Shift,e.altKey?t|=c.Alt:t&=~c.Alt,e.metaKey?t|=c.Meta:t&=~c.Meta,t}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),o([r.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[KeyboardEvent]),i("design:returntype",void 0)],d.prototype,"keyDown",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[KeyboardEvent]),i("design:returntype",void 0)],d.prototype,"keyUp",null),t.KeyboardSensor=d,t.extractModifierKeys=u},768:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerSensor=void 0;const r=n(361),s=n(627),a=n(572),c=n(171);class d extends s.BasePointerSensor{constructor(e){super(e),this.pointerButton=s.PointerButton.None,this.tryingDragging=!1,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None}getData(){return this.draggingData}setData(e){this.draggingData=e}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){const t=(0,s.extractPointerButton)(e);this.dragStarted||void 0!==this.clickable||t!==s.PointerButton.Left&&t!==s.PointerButton.Right||this.tryClickingOrDragging(e)}onPointerMove(e){(0,s.isPointerButtonDown)(this.pointerButton,e.buttons)?this.tryingDragging?(Math.abs(e.clientX-this.startX)>d.DraggingThreshold||Math.abs(e.clientY-this.startY)>d.DraggingThreshold)&&this.startDragging(e):this.dragStarted?this.dragOver(e):this.clickable&&this.clickingOver(e):this.dragStarted?(this.cancelDragging(),this.reset()):this.clickable&&this.reset()}onPointerUp(e){this.draggingOver?(this.drop(e),this.finishDragging()):this.dragStarted?this.finishDragging():this.clickable&&this.click(e),this.reset()}onLostPointerCapture(e){(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}onKeyDown(e){"Escape"===e.key&&(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}tryClickingOrDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY),{data:i,window:d}=(0,a.findTargetElementData)(n,o,a.SymDataForSensor,["click","draggable"]),u=null==i?void 0:i.click,l=null==i?void 0:i.draggable;(u||l)&&(this.clickable=u,this.clicking=u,this.draggableData=l,this.tryingDragging=void 0!==l,this.dragSource=null===(t=(0,a.findTargetElementData)(n,o,a.SymDataForSensor,["drag"]).data)||void 0===t?void 0:t.drag,this.pointerButton=(0,s.extractPointerButton)(e),this.startX=e.clientX,this.startY=e.clientY,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.previousDragTarget=void 0,(0,r.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(d,"pointer")}))),this.revision++}clickingOver(e){this.updateClicking(e),this.revision++}click(e){this.updateClicking(e)&&(this.modifiers=this.immediateModifiers,this.clickX=e.clientX,this.clickY=e.clientY,this.clicked=this.clicking),this.clickable=void 0,this.revision++}startDragging(e){this.updateDragTarget(e),this.clickable=void 0,this.dragStarted=!0,this.dragFinished=!1,this.tryingDragging=!1,this.dropped=!1,this.revision++}dragOver(e){this.updateDragTarget(e),this.draggingOver=!0,this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0,this.revision++}finishDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.revision++}cancelDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.dropped=!1,this.revision++}reset(){this.pointerButton=s.PointerButton.None,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.tryingDragging=!1,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None,this.revision++}updateClicking(e){var t;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY),i=null===(t=(0,a.findTargetElementData)(n,o,a.SymDataForSensor,["click"]).data)||void 0===t?void 0:t.click,r=this.clickable===i;return r&&(this.clicking=i),this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,r}updateDragTarget(e){const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:o,window:i}=(0,a.findTargetElementData)(t,n,a.SymDataForSensor,["drag"]),r=null==o?void 0:o.drag;return r!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=r),this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,i}whenClickingOrDragging(){(this.draggingOver||this.clickable)&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}}d.DraggingThreshold=4,o([r.unobservable,i("design:type",Object)],d.prototype,"clickable",void 0),o([r.unobservable,i("design:type",Boolean)],d.prototype,"tryingDragging",void 0),o([r.unobservable,i("design:type",Object)],d.prototype,"draggingData",void 0),o([r.unobservable,i("design:type",Boolean)],d.prototype,"dropAllowed",void 0),o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"tryClickingOrDragging",null),o([r.transaction,(0,r.options)({reentrance:r.Reentrance.CancelPrevious,trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"clickingOver",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"click",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"startDragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"dragOver",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"drop",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"finishDragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"cancelDragging",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),o([r.reaction,(0,r.options)({throttling:0}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"whenClickingOrDragging",null),t.PointerSensor=d},263:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeSensor=void 0;const r=n(361),s=n(271),a=n(197);class c extends a.Sensor{constructor(){super(),this.resizedElements=[],this.observer=new ResizeObserver(this.onResize.bind(this))}reset(){this.doReset()}observeResizeOfRenderingElement(e){const t=s.RxDom.currentNodeInstanceInternal();e?(void 0!==t.resizeObserver&&t.resizeObserver!==this.observer&&t.resizeObserver.unobserve(t.native),t.resizeObserver=this.observer,this.observer.observe(t.native)):t.resizeObserver===this.observer&&(this.observer.unobserve(t.native),t.resizeObserver=void 0)}onResize(e){this.resize(e),this.reset()}resize(e){this.revision++,this.resizedElements=e.map((e=>{const t=e.target;return{borderBoxSize:e.borderBoxSize,contentBoxSize:e.contentBoxSize,contentRect:e.contentRect,resizeData:t.dataForSensor.resize}}))}doReset(){this.resizedElements=[]}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],c.prototype,"reset",null),o([r.transaction,(0,r.options)({trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[Array]),i("design:returntype",void 0)],c.prototype,"resize",null),t.ResizeSensor=c},197:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sensor=void 0;const o=n(361);class i extends o.ObservableObject{constructor(){super(...arguments),this.revision=0,this.elementDataList=[]}get topElementData(){return this.elementDataList.length>0?this.elementDataList[0]:void 0}}t.Sensor=i},899:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WheelSensor=void 0;const r=n(361),s=n(572),a=n(171),c=n(627);class d extends c.BasePointerSensor{constructor(){super(),this.target=void 0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&n.removeEventListener("wheel",this.onWheel.bind(this),{capture:!0}),this.sourceElement=e,e&&t&&e.addEventListener("wheel",this.onWheel.bind(this),{capture:!0}))}reset(){this.doReset()}onWheel(e){this.doWheel(e)}doWheel(e){this.updateSensorData(e)}doReset(){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=a.KeyboardModifiers.None,this.positionX=1/0,this.positionY=1/0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}updateSensorData(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),o=document.elementsFromPoint(e.clientX,e.clientY);this.target=null===(t=(0,s.findTargetElementData)(n,o,s.SymDataForSensor,["wheel"]).data)||void 0===t?void 0:t.wheel,this.modifiers=(0,a.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.revision++}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),o([r.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),o([r.transaction,(0,r.options)({reentrance:r.Reentrance.CancelPrevious,trace:r.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[WheelEvent]),i("design:returntype",void 0)],d.prototype,"doWheel",null),t.WheelSensor=d},951:function(e,t,n){var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowSensor=void 0;const r=n(361),s=n(197);class a extends s.Sensor{constructor(){super(...arguments),this.activeData=void 0,this.previousActiveData=void 0}setActiveWindow(e,t=""){e!==this.activeData&&(this.previousActiveData=this.activeData,this.activeData=e)}}o([r.transaction,i("design:type",Function),i("design:paramtypes",[Object,String]),i("design:returntype",void 0)],a.prototype,"setActiveWindow",null),t.WindowSensor=a},886:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;t.Controller=class{}},223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Reentrance=t.Kind=t.TraceLevel=void 0;var o=n(547);Object.defineProperty(t,"TraceLevel",{enumerable:!0,get:function(){return o.TraceLevel}}),function(e){e[e.Plain=0]="Plain",e[e.Transaction=1]="Transaction",e[e.Reaction=2]="Reaction",e[e.Cache=3]="Cache"}(t.Kind||(t.Kind={})),function(e){e[e.PreventWithError=1]="PreventWithError",e[e.WaitAndRestart=0]="WaitAndRestart",e[e.CancelPrevious=-1]="CancelPrevious",e[e.CancelAndWaitPrevious=-2]="CancelAndWaitPrevious",e[e.OverwritePrevious=-3]="OverwritePrevious",e[e.RunSideBySide=-4]="RunSideBySide"}(t.Reentrance||(t.Reentrance={}))},606:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleRef=t.Ref=void 0;const o=n(807),i=n(445);class r{constructor(e,t,n=-1){this.owner=e,this.name=t,this.index=n}get value(){return this.index<0?this.owner[this.name]:this.owner[this.name][this.index]}set value(e){this.index<0?this.owner[this.name]=e:this.owner[this.name][this.index]=e}nonreactiveValue(){return(0,i.nonreactive)((()=>this.value))}observe(){return this.value}unobserve(){throw new Error("not implemented")}static to(e){return new Proxy(e,a)}static toToggle(e){return new Proxy(e,c)}static toCustomToggle(e,t,n){const o=new d(t,n);return new Proxy(e,o)}static sameRefs(e,t){return e.owner===t.owner&&e.name===t.name&&e.index===t.index}static similarRefs(e,t){return e.owner.constructor===t.owner.constructor&&e.name===t.name&&e.index===t.index}}t.Ref=r;class s extends r{constructor(e,t,n,o){super(e,t),this.valueOn=n,this.valueOff=o}toggle(){const e=this.owner,t=this.name;o.Transaction.runAs({hint:`toggle ${e.constructor.name}.${t}`},(()=>{const n=e[t],o=n===this.valueOn||n instanceof r&&this.valueOn instanceof r&&r.sameRefs(n,this.valueOn);e[t]=o?this.valueOff:this.valueOn}))}}t.ToggleRef=s;const a={get:(e,t)=>new r(e,t)},c={get:(e,t)=>new s(e,t,!0,!1)};class d{constructor(e,t){this.value1=e,this.value2=t}get(e,t){return new s(e,t,this.value1,this.value2)}}},445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.options=t.cached=t.reaction=t.transaction=t.unobservable=t.sensitive=t.standalone=t.nonreactive=t.Rx=void 0;const o=n(987),i=n(223),r=n(893),s=n(319),a=n(30),c=n(282),d=n(807);class u{static why(e=!1){return e?c.OperationController.briefWhy():c.OperationController.why()}static getController(e){return c.OperationController.of(e)}static pullLastResult(e,t){return u.getController(e).pullLastResult(t)}static configureCurrentOperation(e){return c.OperationController.configureImpl(void 0,e)}static takeSnapshot(e){return s.Snapshot.takeSnapshot(e)}static dispose(e){s.Snapshot.dispose(e)}static get reactionsAutoStartDisabled(){return a.Hooks.reactionsAutoStartDisabled}static set reactionsAutoStartDisabled(e){a.Hooks.reactionsAutoStartDisabled=e}static get isTraceEnabled(){return o.Dbg.isOn}static get traceOptions(){return o.Dbg.trace}static setTraceMode(e,t){o.Dbg.setTraceMode(e,t)}static setTraceHint(e,t){a.Hooks.setHint(e,t)}static getTraceHint(e,t=!1){return r.ObjectHolder.getHint(e,t)}static setProfilingMode(e,t){a.Hooks.setProfilingMode(e,t)}}t.Rx=u,t.nonreactive=function(e,...t){return c.OperationController.runWithin(void 0,e,...t)},t.standalone=function(e,...t){return c.OperationController.runWithin(void 0,d.Transaction.standalone,e,...t)},t.sensitive=function(e,t,...n){return a.Hooks.sensitive(e,t,...n)},t.unobservable=function(e,t){return a.Hooks.decorateData(!1,e,t)},t.transaction=function e(t,n,o){const r={kind:i.Kind.Transaction};return a.Hooks.decorateOperation(!0,e,r,t,n,o)},t.reaction=function e(t,n,o){const r={kind:i.Kind.Reaction,throttling:-1};return a.Hooks.decorateOperation(!0,e,r,t,n,o)},t.cached=function e(t,n,o){const r={kind:i.Kind.Cache,noSideEffects:!0};return a.Hooks.decorateOperation(!0,e,r,t,n,o)},t.options=function e(t){return a.Hooks.decorateOperationParametrized(e,t)}},547:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceLevel=void 0,t.TraceLevel={ErrorsOnly:{silent:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Transactions:{silent:!1,transaction:!0,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Operations:{silent:!1,transaction:!0,operation:!0,step:!1,monitor:!0,read:!1,write:!1,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Debug:{silent:!1,transaction:!0,operation:!0,step:!0,monitor:!0,read:!0,write:!0,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Silent:{silent:!0,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0}}},361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.options=t.cached=t.reaction=t.transaction=t.unobservable=t.sensitive=t.standalone=t.nonreactive=t.Rx=t.TransactionJournal=t.Monitor=t.Transaction=t.Snapshot=t.ObservableObject=t.ToggleRef=t.Ref=t.Controller=t.TraceLevel=t.Reentrance=t.Kind=t.SealedSet=t.SealedMap=t.SealedArray=t.pause=t.all=void 0;var o=n(971);Object.defineProperty(t,"all",{enumerable:!0,get:function(){return o.all}}),Object.defineProperty(t,"pause",{enumerable:!0,get:function(){return o.pause}});var i=n(19);Object.defineProperty(t,"SealedArray",{enumerable:!0,get:function(){return i.SealedArray}});var r=n(250);Object.defineProperty(t,"SealedMap",{enumerable:!0,get:function(){return r.SealedMap}});var s=n(949);Object.defineProperty(t,"SealedSet",{enumerable:!0,get:function(){return s.SealedSet}});var a=n(223);Object.defineProperty(t,"Kind",{enumerable:!0,get:function(){return a.Kind}}),Object.defineProperty(t,"Reentrance",{enumerable:!0,get:function(){return a.Reentrance}}),Object.defineProperty(t,"TraceLevel",{enumerable:!0,get:function(){return a.TraceLevel}});var c=n(886);Object.defineProperty(t,"Controller",{enumerable:!0,get:function(){return c.Controller}});var d=n(606);Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return d.Ref}}),Object.defineProperty(t,"ToggleRef",{enumerable:!0,get:function(){return d.ToggleRef}});var u=n(30);Object.defineProperty(t,"ObservableObject",{enumerable:!0,get:function(){return u.ObservableObject}});var l=n(319);Object.defineProperty(t,"Snapshot",{enumerable:!0,get:function(){return l.Snapshot}});var p=n(807);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return p.Transaction}});var h=n(900);Object.defineProperty(t,"Monitor",{enumerable:!0,get:function(){return h.Monitor}});var v=n(327);Object.defineProperty(t,"TransactionJournal",{enumerable:!0,get:function(){return v.TransactionJournal}});var f=n(445);Object.defineProperty(t,"Rx",{enumerable:!0,get:function(){return f.Rx}}),Object.defineProperty(t,"nonreactive",{enumerable:!0,get:function(){return f.nonreactive}}),Object.defineProperty(t,"standalone",{enumerable:!0,get:function(){return f.standalone}}),Object.defineProperty(t,"sensitive",{enumerable:!0,get:function(){return f.sensitive}}),Object.defineProperty(t,"unobservable",{enumerable:!0,get:function(){return f.unobservable}}),Object.defineProperty(t,"transaction",{enumerable:!0,get:function(){return f.transaction}}),Object.defineProperty(t,"reaction",{enumerable:!0,get:function(){return f.reaction}}),Object.defineProperty(t,"cached",{enumerable:!0,get:function(){return f.cached}}),Object.defineProperty(t,"options",{enumerable:!0,get:function(){return f.options}})},893:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectHolder=t.ObjectRevision=t.Observable=t.Meta=void 0;const o=n(987),i=n(915);var r=n(915);Object.defineProperty(t,"Meta",{enumerable:!0,get:function(){return r.Meta}});t.Observable=class{constructor(e){this.value=e}get isOperation(){return!1}get selfSnapshotId(){return 0}};t.ObjectRevision=class{constructor(e,t,n){this.snapshot=e,this.prev={revision:t||this},this.data=n,this.changes=new Map,this.conflicts=new Map,o.Dbg.isOn&&Object.freeze(this)}};class s{constructor(e,t,n,o,i){this.id=++s.generator,this.unobservable=e,this.proxy=t||new Proxy(this,n),this.head=o,this.editing=void 0,this.editors=0,this.hint=i}static getHint(e,t){const n=i.Meta.get(e,i.Meta.Holder);return void 0!==n?t?`${n.hint}#${n.id}`:n.hint:void 0}}t.ObjectHolder=s,s.generator=19},30:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hooks=t.OptionsImpl=t.ObservableObject=void 0;const o=n(971),i=n(987),r=n(223),s=n(893),a=n(319);class c{constructor(){const e=new.target.prototype,t=s.Meta.getFrom(e,s.Meta.Initial);return p.createObjectHolder(e,this,t,new.target.name).proxy}[Symbol.toStringTag](){const e=s.Meta.get(this,s.Meta.Holder);return a.Dump.obj(e)}}t.ObservableObject=c;const d=Object.freeze({kind:r.Kind.Plain,standalone:!1,order:0,noSideEffects:!1,sensitiveArgs:!1,throttling:Number.MAX_SAFE_INTEGER,reentrance:r.Reentrance.PreventWithError,journal:void 0,monitor:null,trace:void 0});class u{constructor(e,t,n,o,r){this.getter=void 0!==e?e:n.getter,this.setter=void 0!==t?t:n.setter,this.kind=l(d.kind,n.kind,o.kind,r),this.standalone=l(d.standalone,n.standalone,o.standalone,r),this.order=l(d.order,n.order,o.order,r),this.noSideEffects=l(d.noSideEffects,n.noSideEffects,o.noSideEffects,r),this.sensitiveArgs=l(d.sensitiveArgs,n.sensitiveArgs,o.sensitiveArgs,r),this.throttling=l(d.throttling,n.throttling,o.throttling,r),this.reentrance=l(d.reentrance,n.reentrance,o.reentrance,r),this.journal=l(d.journal,n.journal,o.journal,r),this.monitor=l(d.monitor,n.monitor,o.monitor,r),this.trace=l(d.trace,n.trace,o.trace,r),i.Dbg.isOn&&Object.freeze(this)}}function l(e,t,n,o){return void 0===n||t!==e&&o?t:n}t.OptionsImpl=u,u.INITIAL=Object.freeze(new u(o.UNDEF,o.UNDEF,Object.assign({getter:o.UNDEF,setter:o.UNDEF},d),{},!1));class p{getPrototypeOf(e){return Reflect.getPrototypeOf(e.unobservable)}get(e,t,n){let o;const i=a.Snapshot.current().getCurrentRevision(e,t);return o=i.data[t],o instanceof s.Observable&&!o.isOperation?(a.Snapshot.markUsed(o,i,t,e,r.Kind.Plain,!1),o=o.value):t===s.Meta.Holder||(o=Reflect.get(e.unobservable,t,n)),o}set(e,t,n,o){const i=a.Snapshot.edit().getEditableRevision(e,t,n);if(i!==a.ROOT_REV){let r=i.data[t];if(void 0!==r||i.prev.revision.snapshot===a.ROOT_REV.snapshot&&t in e.unobservable==!1){if(void 0===r||r.value!==n||p.sensitivity){const o=null==r?void 0:r.value;i.prev.revision.data[t]===r?(r=i.data[t]=new s.Observable(n),a.Snapshot.markEdited(o,n,!0,i,t,e)):(r.value=n,a.Snapshot.markEdited(o,n,!0,i,t,e))}}else Reflect.set(e.unobservable,t,n,o)}else e.unobservable[t]=n;return!0}has(e,t){return t in a.Snapshot.current().getCurrentRevision(e,t).data||t in e.unobservable}getOwnPropertyDescriptor(e,t){const n=a.Snapshot.current().getCurrentRevision(e,t),o=Reflect.getOwnPropertyDescriptor(n.data,t);return o&&(o.configurable=o.writable=!0),o}ownKeys(e){const t=a.Snapshot.current().getCurrentRevision(e,s.Meta.Holder),n=[];for(const o of Object.getOwnPropertyNames(t.data)){const e=t.data[o];e instanceof s.Observable&&e.isOperation||n.push(o)}return n}static decorateData(e,t,n){if(e){const e=function(){const e=p.acquireObjectHolder(this);return p.proxy.get(e,n,this)},o=function(e){const t=p.acquireObjectHolder(this);return p.proxy.set(t,n,e,this)},i=!0,r=!1;return Object.defineProperty(t,n,{get:e,set:o,enumerable:i,configurable:r})}s.Meta.acquire(t,s.Meta.Initial)[n]=s.Meta.Unobservable}static decorateOperation(e,t,n,r,s,a){var c,d,u,l;void 0!==a&&a!==r||(a=h);const v=null===(c=a.enumerable)||void 0===c||c,f=null===(d=a.configurable)||void 0===d||d,g=p.rememberOperationOptions(r,s,null!==(u=a.value)&&void 0!==u?u:a.get,null!==(l=a.value)&&void 0!==l?l:a.set,!0,f,n,e);if(g.getter===g.setter){const e=function(){const e=p.acquireObjectHolder(this),t=p.createControllerAndGetHook(e,s,g);return Object.defineProperty(e.unobservable,s,{value:t,enumerable:v,configurable:f}),t};return Object.defineProperty(r,s,{get:e,enumerable:v,configurable:!0})}if(g.setter===o.UNDEF){const e=function(){const e=p.acquireObjectHolder(this),t=p.createControllerAndGetHook(e,s,g);return Object.defineProperty(e.unobservable,s,{get:t,enumerable:v,configurable:f}),t.call(this)};return Object.defineProperty(r,s,{get:e,enumerable:v,configurable:!0})}throw(0,i.misuse)(`${r.constructor.name}.${s.toString()} has setter and cannot be decorated with @${t.name}`)}static decorateOperationParametrized(e,t){return function(n,o,i){return p.decorateOperation(!1,e,t,n,o,i)}}static acquireObjectHolder(e){let t=e[s.Meta.Holder];if(!t){if(e!==Object(e)||Array.isArray(e))throw(0,i.misuse)("only objects can be reactive");const n=s.Meta.getFrom(Object.getPrototypeOf(e),s.Meta.Initial),o=new s.ObjectRevision(a.ROOT_REV.snapshot,a.ROOT_REV,Object.assign({},n));s.Meta.set(o.data,s.Meta.Holder,t),i.Dbg.isOn&&a.Snapshot.freezeObjectRevision(o),t=new s.ObjectHolder(e,e,p.proxy,o,e.constructor.name),s.Meta.set(e,s.Meta.Holder,t)}return t}static createObjectHolder(e,t,n,o){const i=a.Snapshot.edit(),r=new s.ObjectHolder(t,void 0,p.proxy,a.ROOT_REV,o);if(i.getEditableRevision(r,s.Meta.Holder,n),!p.reactionsAutoStartDisabled)for(const a in s.Meta.getFrom(e,s.Meta.Reactions))r.proxy[a][s.Meta.Controller].markObsolete();return r}static setProfilingMode(e,t){e?(p.repetitiveUsageWarningThreshold=t&&void 0!==t.repetitiveUsageWarningThreshold?t.repetitiveUsageWarningThreshold:10,p.mainThreadBlockingWarningThreshold=t&&void 0!==t.mainThreadBlockingWarningThreshold?t.mainThreadBlockingWarningThreshold:16.6,p.asyncActionDurationWarningThreshold=t&&void 0!==t.asyncActionDurationWarningThreshold?t.asyncActionDurationWarningThreshold:150,a.Snapshot.garbageCollectionSummaryInterval=t&&void 0!==t.garbageCollectionSummaryInterval?t.garbageCollectionSummaryInterval:100):(p.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER,p.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER,p.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER,a.Snapshot.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER)}static sensitive(e,t,...n){const o=p.sensitivity;p.sensitivity=e;try{return t(...n)}finally{p.sensitivity=o}}static setHint(e,t){if(t){p.acquireObjectHolder(e).hint=t}return e}}t.Hooks=p,p.reactionsAutoStartDisabled=!1,p.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER,p.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER,p.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER,p.sensitivity=!1,p.proxy=new p,p.createControllerAndGetHook=function(e,t,n){throw(0,i.misuse)("createControllerAndGetHook should never be called")},p.rememberOperationOptions=function(e,t,n,o,r,s,a,c){throw(0,i.misuse)("rememberOperationOptions should never be called")};const h={configurable:!0,enumerable:!0,value:void 0}},915:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Meta=void 0;const n=Object.freeze({});class o{static get(e,t){return e[t]}static set(e,t,n){return Object.defineProperty(e,t,{value:n,configurable:!1,enumerable:!1}),e}static acquire(e,t){let n=e[t];return e.hasOwnProperty(t)||(n=Object.assign({},n),o.set(e,t,n)),n}static getFrom(e,t){var o;return null!==(o=e[t])&&void 0!==o?o:n}}t.Meta=o,o.Holder=Symbol("rxHolder"),o.Controller=Symbol("rxController"),o.Disposed=Symbol("rxDisposed"),o.Initial=Symbol("rxInitial"),o.Reactions=Symbol("rxReactions"),o.Unobservable=Symbol("rxUnobservable")},900:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorImpl=t.Monitor=void 0;const o=n(30),i=n(807);class r extends o.ObservableObject{static create(e,t,n){return s.create(e,t,n)}}t.Monitor=r;class s extends r{constructor(){super(...arguments),this.isActive=!1,this.counter=0,this.workers=new Set,this.internals={activationDelay:-1,activationTimeout:void 0,deactivationDelay:-1,deactivationTimeout:void 0}}enter(e){this.counter++;(this.workers=this.workers.toMutable()).add(e),s.activate(this,this.internals.activationDelay)}leave(e){this.counter--;(this.workers=this.workers.toMutable()).delete(e),s.deactivate(this,this.internals.deactivationDelay)}static create(e,t,n){return i.Transaction.runAs({hint:"Monitor.create"},s.doCreate,e,t,n)}static enter(e,t){e.enter(t)}static leave(e,t){e.leave(t)}static doCreate(e,t,n){const i=new s;return o.Hooks.setHint(i,e),i.internals.activationDelay=t,i.internals.deactivationDelay=n,i}static activate(e,t){t>=0?void 0===e.internals.activationTimeout&&(e.internals.activationTimeout=setTimeout((()=>i.Transaction.runAs({hint:"Monitor.activate",standalone:"isolated"},s.activate,e,-1)),t)):e.counter>0&&(e.isActive=!0)}static deactivate(e,t){t>=0?(clearTimeout(e.internals.deactivationTimeout),e.internals.deactivationTimeout=setTimeout((()=>i.Transaction.runAs({hint:"Monitor.deactivate",standalone:"isolated"},s.deactivate,e,-1)),t)):e.counter<=0&&(e.isActive=!1,e.internals.activationTimeout=void 0)}}t.MonitorImpl=s},282:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rejectRethrow=t.resolveReturn=t.OperationController=void 0;const o=n(987),i=n(223),r=n(886),s=n(893),a=n(319),c=n(807),d=n(900),u=n(30),l=n(327),p=[],h=new s.ObjectHolder(void 0,void 0,u.Hooks.proxy,a.ROOT_REV,"root-holder"),v={revision:a.ROOT_REV,memberName:"root-trigger",usageCount:0};class f extends r.Controller{constructor(e,t){super(),this.ownHolder=e,this.memberName=t}configure(e){return f.configureImpl(this,e)}get options(){return this.peek(void 0).operation.options}get nonreactive(){return this.peek(void 0).operation.value}get args(){return this.use().operation.args}get result(){return this.useOrRun(!0,void 0).value}get error(){return this.use().operation.error}get stamp(){return this.use().revision.snapshot.timestamp}get isUpToDate(){return this.use().isUpToDate}markObsolete(){c.Transaction.runAs({hint:o.Dbg.isOn?`markObsolete(${a.Dump.obj(this.ownHolder,this.memberName)})`:"markObsolete()"},f.markObsolete,this)}pullLastResult(e){return this.useOrRun(!0,e).value}useOrRun(e,t){var n;let r=this.peek(t);const d=r.snapshot,u=r.operation,l=u.options;if(r.isUpToDate||void 0!==r.revision.data[s.Meta.Disposed]||e&&u.cause!==v&&u.successor&&!u.successor.transaction.isFinished)o.Dbg.isOn&&o.Dbg.trace.operation&&(void 0===l.trace||void 0===l.trace.operation||!0===l.trace.operation)&&o.Dbg.log(c.Transaction.current.isFinished?"":""," (=)",`${a.Dump.rev(r.revision,this.memberName)} result is reused from T${r.operation.transaction.id}[${r.operation.transaction.hint}]`);else{const o=null===(n=g.current)||void 0===n?void 0:n.options,s=e||l.standalone||l.kind===i.Kind.Reaction||l.kind===i.Kind.Transaction&&o&&(o.noSideEffects||o.kind===i.Kind.Cache)||l.kind===i.Kind.Cache&&(r.revision.snapshot.sealed||r.revision.prev.revision!==a.ROOT_REV),c=l.noSideEffects?this:void 0,u=this.run(r,s,l,c,t),p=u.operation.revision.snapshot;(!e||d===p||p.sealed&&d.timestamp>=p.timestamp)&&(r=u)}const p=r.operation;return a.Snapshot.markUsed(p,r.revision,this.memberName,this.ownHolder,p.options.kind,e),p}static of(e){const t=s.Meta.get(e,s.Meta.Controller);if(!t)throw(0,o.misuse)(`given method is not decorated as reactronic one: ${e.name}`);return t}static configureImpl(e,t){let n;if(n=e?e.edit().operation:g.current,!n||n.transaction.isFinished)throw(0,o.misuse)("a method is expected with reactronic decorator");return n.options=new u.OptionsImpl(n.options.getter,n.options.setter,n.options,t,!1),o.Dbg.isOn&&o.Dbg.trace.write&&o.Dbg.log("","  ",`${n.hint()}.options are changed`),n.options}static runWithin(e,t,...n){let o;const i=g.current;try{g.current=e,o=t(...n)}catch(r){throw e&&(e.error=r),r}finally{g.current=i}return o}static why(){const e=g.current;return e?e.why():h.hint}static briefWhy(){const e=g.current;return e?e.briefWhy():h.hint}static dependencies(){const e=g.current;return e?e.dependencies():["Rx.dependencies should be called from inside of reactive method"]}peek(e){const t=a.Snapshot.current(),n=t.seekRevision(this.ownHolder,this.memberName),o=this.peekFromRevision(n,e),r=o.options.kind!==i.Kind.Transaction&&o.cause!==v&&(t===o.revision.snapshot||t.timestamp<o.obsoleteSince)&&(!o.options.sensitiveArgs||void 0===e||o.args.length===e.length&&o.args.every(((t,n)=>t===e[n])))||void 0!==n.data[s.Meta.Disposed];return{operation:o,isUpToDate:r,snapshot:t,revision:n}}use(){const e=this.peek(void 0);return a.Snapshot.markUsed(e.operation,e.revision,this.memberName,this.ownHolder,e.operation.options.kind,!0),e}edit(){const e=this.ownHolder,t=this.memberName,n=a.Snapshot.edit(),o=n.getEditableRevision(e,t,s.Meta.Holder,this);let i=this.peekFromRevision(o,void 0);if(i.revision!==o){const r=new g(this,o,i);o.data[t]=r.reenterOver(i),n.bumpBy(o.prev.revision.snapshot.timestamp),a.Snapshot.markEdited(i,r,!0,o,t,e),i=r}return{operation:i,isUpToDate:!0,snapshot:n,revision:o}}peekFromRevision(e,t){const n=this.memberName;let i=e.data[n];if(i.controller!==this){const r=o.Dbg.isOn?`${a.Dump.obj(this.ownHolder,n)}/boot`:"MethodController/init",d=e.snapshot.sealed||e.prev.revision!==a.ROOT_REV;i=c.Transaction.runAs({hint:r,standalone:d,token:this},(()=>{const e=this.ownHolder;let o=a.Snapshot.current().getCurrentRevision(e,n),i=o.data[n];if(i.controller!==this){o=a.Snapshot.edit().getEditableRevision(e,n,s.Meta.Holder,this);const r=new g(this,o,i);t&&(r.args=t),r.cause=v,o.data[n]=r,a.Snapshot.markEdited(i,r,!0,o,n,e),i=r}return i}))}return i}run(e,t,n,r,s){const d=o.Dbg.isOn?`${a.Dump.obj(this.ownHolder,this.memberName)}${s&&s.length>0&&("number"==typeof s[0]||"string"==typeof s[0])?` - ${s[0]}`:""}`:`${a.Dump.obj(this.ownHolder,this.memberName)}`;let u=e;const l={hint:d,standalone:t,journal:n.journal,trace:n.trace,token:r},p=c.Transaction.runAs(l,(e=>(u.operation.transaction.isCanceled?(u=this.peek(e),u.operation.options.kind!==i.Kind.Transaction&&u.isUpToDate||(u=this.edit(),o.Dbg.isOn&&o.Dbg.trace.operation&&o.Dbg.log("","  ",`${u.operation.why()}`),u.operation.run(this.ownHolder.proxy,e))):(u=this.edit(),o.Dbg.isOn&&o.Dbg.trace.operation&&o.Dbg.log("","  ",`${u.operation.why()}`),u.operation.run(this.ownHolder.proxy,e)),u.operation.result)),s);return u.operation.result=p,u}static markObsolete(e){const t=e.peek(void 0),n=t.snapshot;t.operation.markObsoleteDueTo(t.operation,{revision:a.ROOT_REV,memberName:e.memberName,usageCount:0},n.timestamp,n.reactions)}}t.OperationController=f;class g extends s.Observable{constructor(e,t,n){super(void 0),this.margin=g.current?g.current.margin+1:1,this.transaction=c.Transaction.current,this.controller=e,this.revision=t,this.observables=new Map,n instanceof g?(this.options=n.options,this.args=n.args,this.cause=n.obsoleteDueTo):(this.options=n,this.args=p,this.cause=void 0),this.started=0,this.obsoleteSince=0,this.obsoleteDueTo=void 0,this.successor=void 0}get isOperation(){return!0}get selfSnapshotId(){return this.revision.snapshot.id}hint(){return`${a.Dump.rev(this.revision,this.controller.memberName)}`}get order(){return this.options.order}get"#this"(){return`Operation: ${this.why()}`}why(){let e=Date.now();const t=this.revision.prev.revision.data[this.controller.memberName];let n;return t instanceof g&&(e=0!==t.started?Math.abs(this.started||e)-Math.abs(t.started):1/0),n=this.cause?`   <<   ${m(this.cause,!0).join("   <<   ")}`:this.controller.options.kind===i.Kind.Transaction?"   <<   operation":`   <<   T${this.revision.snapshot.id}[${this.revision.snapshot.hint}]`,`${this.hint()}${n}   (${e!==1/0?`${e}ms since previous run`:"initial run"})`}briefWhy(){return this.cause?m(this.cause,!1)[0]:h.hint}dependencies(){throw(0,o.misuse)("not implemented yet")}wrap(e){return(...t)=>{o.Dbg.isOn&&o.Dbg.trace.step&&this.result&&o.Dbg.logAs({margin2:this.margin},"","\\",`${this.hint()} - step in  `,0,"        ");const n=Date.now(),i=f.runWithin(this,e,...t),r=Date.now()-n;return o.Dbg.isOn&&o.Dbg.trace.step&&this.result&&o.Dbg.logAs({margin2:this.margin},"","_/",`${this.hint()} - step out `,0,this.started>0?"        ":""),r>u.Hooks.mainThreadBlockingWarningThreshold&&o.Dbg.log("","[!]",this.why(),r,"    *** main thread is too busy ***"),i}}run(e,t){t&&(this.args=t),this.obsoleteSince=a.MAX_TIMESTAMP,this.error?this.result=Promise.reject(this.error):f.runWithin(this,g.run,this,e)}markObsoleteDueTo(e,t,n,r){var s,c,d;if(void 0!==this.observables)if(e.isOperation||this!==t.revision.changes.get(t.memberName)){this.unsubscribeFromAllObservables(),this.obsoleteDueTo=t,this.obsoleteSince=n;const d=this.options.kind===i.Kind.Reaction;o.Dbg.isOn&&(o.Dbg.trace.obsolete||(null===(s=this.options.trace)||void 0===s?void 0:s.obsolete))&&o.Dbg.log(o.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"":" ",d?"":"",d&&t.revision===a.ROOT_REV?`${this.hint()} is a reaction and will run automatically (order ${this.options.order})`:`${this.hint()} is obsolete due to ${a.Dump.rev(t.revision,t.memberName)} since v${n}${d?` and will run automatically (order ${this.options.order})`:""}`),d?r.push(this):null===(c=this.observers)||void 0===c||c.forEach((e=>e.markObsoleteDueTo(this,{revision:this.revision,memberName:this.controller.memberName,usageCount:0},n,r)));const u=this.transaction;u.snapshot===t.revision.snapshot?(0,o.misuse)("not implemented: running reactions within original transaction"):u.isFinished||this===e||u.cancel(new Error(`T${u.id}[${u.hint}] is canceled due to obsolete ${a.Dump.rev(t.revision,t.memberName)} changed by T${t.revision.snapshot.id}[${t.revision.snapshot.hint}]`),null)}else o.Dbg.isOn&&(o.Dbg.trace.obsolete||(null===(d=this.options.trace)||void 0===d?void 0:d.obsolete))&&o.Dbg.log(" ","x",`${this.hint()} is not obsolete due to its own change to ${a.Dump.rev(t.revision,t.memberName)}`)}runIfNotUpToDate(e,t){const n=this.options.throttling,r=Date.now()+this.started,s=n?n-r:0;if(e||s<0){if(this.isNotUpToDate())try{const e=this.controller.useOrRun(!1,void 0);e.result instanceof Promise&&e.result.catch((t=>{e.options.kind===i.Kind.Reaction&&(0,o.misuse)(`reaction ${e.hint()} failed and will not run anymore: ${t}`,t)}))}catch(a){if(!t)throw a;this.options.kind===i.Kind.Reaction&&(0,o.misuse)(`reaction ${this.hint()} failed and will not run anymore: ${a}`,a)}}else n<Number.MAX_SAFE_INTEGER&&(s>0?setTimeout((()=>this.runIfNotUpToDate(!0,!0)),s):this.addToDeferredReactions())}isNotUpToDate(){return!this.error&&(this.options.kind===i.Kind.Transaction||!this.successor||this.successor.transaction.isCanceled)}reenterOver(e){let t;const n=e.successor;if(n&&!n.transaction.isFinished)switch(o.Dbg.isOn&&o.Dbg.trace.obsolete&&o.Dbg.log(""," [!]",`${this.hint()} is trying to re-enter over ${n.hint()}`),e.options.reentrance){case i.Reentrance.PreventWithError:if(!n.transaction.isCanceled)throw(0,o.misuse)(`${e.hint()} (${e.why()}) is not reentrant over ${n.hint()} (${n.why()})`);t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/PreventWithError due to canceled T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case i.Reentrance.WaitAndRestart:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/WaitAndRestart due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case i.Reentrance.CancelAndWaitPrevious:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/CancelAndWaitPrevious due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction),n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case i.Reentrance.CancelPrevious:n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case i.Reentrance.RunSideBySide:}return t?this.error=t:e.successor=this,this}static run(e,t){e.enter();try{e.result=e.options.getter.call(t,...e.args)}finally{e.leaveOrAsync()}}enter(){this.options.monitor&&this.monitorEnter(this.options.monitor),o.Dbg.isOn&&o.Dbg.trace.operation&&o.Dbg.log("","\\",`${this.hint()} - enter`,void 0,`    [ ${a.Dump.obj(this.controller.ownHolder,this.controller.memberName)} ]`),this.started=Date.now()}leaveOrAsync(){this.result instanceof Promise?(this.result=this.result.then((e=>(this.value=e,this.leave(!1,"  ","- finished  "," OK "),e)),(e=>{throw this.error=e,this.leave(!1,"  ","- finished  ","ERR "),e})),o.Dbg.isOn&&(o.Dbg.trace.operation?o.Dbg.log("","_/",`${this.hint()} - leave... `,0,"ASYNC "):o.Dbg.trace.transaction&&o.Dbg.log("","  ",`${this.why()} ...`,0,"ASYNC"))):(this.value=this.result,this.leave(!0,"_/","- leave"))}leave(e,t,n,i){const r=Date.now()-this.started;this.started=-this.started,o.Dbg.isOn&&o.Dbg.trace.operation&&o.Dbg.log("",`${t}`,`${this.hint()} ${n}`,r,i),r>(e?u.Hooks.mainThreadBlockingWarningThreshold:u.Hooks.asyncActionDurationWarningThreshold)&&o.Dbg.log("","[!]",this.why(),r,e?"    *** main thread is too busy ***":"    *** async is too long ***"),this.options.monitor&&this.monitorLeave(this.options.monitor)}monitorEnter(e){const t={hint:"Monitor.enter",standalone:"isolated",trace:o.Dbg.isOn&&o.Dbg.trace.monitor?void 0:o.Dbg.global};f.runWithin(void 0,c.Transaction.runAs,t,d.MonitorImpl.enter,e,this.transaction)}monitorLeave(e){c.Transaction.standalone((()=>{const t=()=>{const t={hint:"Monitor.leave",standalone:"isolated",trace:o.Dbg.isOn&&o.Dbg.trace.monitor?void 0:o.Dbg.DefaultLevel};f.runWithin(void 0,c.Transaction.runAs,t,d.MonitorImpl.leave,e,this.transaction)};this.transaction.whenFinished().then(t,t)}))}addToDeferredReactions(){g.deferredReactions.push(this),1===g.deferredReactions.length&&setTimeout(g.processDeferredReactions,0)}static processDeferredReactions(){const e=g.deferredReactions;g.deferredReactions=[];for(const t of e)t.runIfNotUpToDate(!0,!0)}static markUsed(e,t,n,o,r,c){if(r!==i.Kind.Transaction){const r=g.current;if(r&&r.options.kind!==i.Kind.Transaction&&n!==s.Meta.Holder){const i=a.Snapshot.current();i!==t.snapshot&&i.bumpBy(t.snapshot.timestamp);const s=c?-1:i.timestamp;r.subscribeTo(e,t,n,o,s)||r.markObsoleteDueTo(e,{revision:t,memberName:n,usageCount:0},i.timestamp,i.reactions)}}}static markEdited(e,t,n,i,r,s){n?i.changes.set(r,g.current):i.changes.delete(r),o.Dbg.isOn&&o.Dbg.trace.write&&(n?o.Dbg.log("","  ",`${a.Dump.rev(i,r)} is changed from ${b(e,r)} to ${b(t,r)}`):o.Dbg.log("","  ",`${a.Dump.rev(i,r)} is changed from ${b(e,r)} to ${b(t,r)}`,void 0," (same as previous)"))}static isConflicting(e,t){let n=e!==t;return n&&(n=e instanceof g&&e.cause!==v),n}static propagateAllChangesThroughSubscriptions(e){var t;const n=e.timestamp,o=e.reactions;e.changeset.forEach(((e,t)=>{if(e.changes.has(s.Meta.Disposed))for(const i in e.prev.revision.data)g.propagateMemberChangeThroughSubscriptions(!0,n,e,i,t,o);else e.changes.forEach(((i,r)=>g.propagateMemberChangeThroughSubscriptions(!1,n,e,r,t,o)))})),o.sort(x),null===(t=e.options.journal)||void 0===t||t.remember(l.TransactionJournalImpl.createPatch(e.hint,e.changeset))}static revokeAllSubscriptions(e){e.changeset.forEach(((t,n)=>t.changes.forEach(((o,i)=>g.propagateMemberChangeThroughSubscriptions(!0,e.timestamp,t,i,n,void 0)))))}static propagateMemberChangeThroughSubscriptions(e,t,n,i,r,c){var d;const l=n.data[i];if(c){const e=n.prev.revision.data[i];if(void 0!==e&&e instanceof s.Observable){const o={revision:n,memberName:i,usageCount:0};if(e instanceof g){(e.obsoleteSince===a.MAX_TIMESTAMP||e.obsoleteSince<=0)&&(e.obsoleteDueTo=o,e.obsoleteSince=t,e.unsubscribeFromAllObservables());const i=e.successor;i!==l&&i&&!i.transaction.isFinished&&i.transaction.cancel(new Error(`T${i.transaction.id}[${i.transaction.hint}] is canceled by T${n.snapshot.id}[${n.snapshot.hint}] and will not run anymore`),null)}null===(d=e.observers)||void 0===d||d.forEach((n=>n.markObsoleteDueTo(e,o,t,c)))}}l instanceof g?l.revision===n&&void 0!==l.observables&&(u.Hooks.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER&&l.observables.forEach(((e,t)=>{e.usageCount>u.Hooks.repetitiveUsageWarningThreshold&&o.Dbg.log("","[!]",`${l.hint()} uses ${a.Dump.rev(e.revision,e.memberName)} ${e.usageCount} times (consider remembering it in a local variable)`,0," *** WARNING ***")})),e&&l.unsubscribeFromAllObservables()):l instanceof s.Observable&&l.observers&&(l.observers.forEach((e=>{e.observables.delete(l),o.Dbg.isOn&&o.Dbg.trace.read&&o.Dbg.log(o.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"":" ","-",`${e.hint()} is unsubscribed from own-changed ${a.Dump.rev(n,i)}`)})),l.observers=void 0)}static enqueueDetectedReactions(e){const t=g.queuedReactions,n=0===t.length;for(const o of e.reactions)t.push(o);n&&f.runWithin(void 0,g.runQueuedReactionsLoop)}static runQueuedReactionsLoop(){const e=g.queuedReactions;let t=0;for(;t<e.length;){e[t].runIfNotUpToDate(!1,!0),t++}g.queuedReactions=[]}unsubscribeFromAllObservables(){var e;null===(e=this.observables)||void 0===e||e.forEach(((e,t)=>{var n;t.observers.delete(this),o.Dbg.isOn&&(o.Dbg.trace.read||(null===(n=this.options.trace)||void 0===n?void 0:n.read))&&o.Dbg.log(o.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"":" ","-",`${this.hint()} is unsubscribed from ${a.Dump.rev(e.revision,e.memberName)}`)})),this.observables=void 0}subscribeTo(e,t,n,i,r){var s,c,d;const l=g.canSubscribe(e,t,n,i,r);if(l){let i=0;if(u.Hooks.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER){const t=this.observables.get(e);i=t?t.usageCount+1:1}if(void 0!==this.observables){e.observers||(e.observers=new Set);const r={revision:t,memberName:n,usageCount:i};e.observers.add(this),this.observables.set(e,r),o.Dbg.isOn&&(o.Dbg.trace.read||(null===(s=this.options.trace)||void 0===s?void 0:s.read))&&o.Dbg.log("","   ",`${this.hint()} is subscribed to ${a.Dump.rev(t,n)}${r.usageCount>1?` (${r.usageCount} times)`:""}`)}else o.Dbg.isOn&&(o.Dbg.trace.read||(null===(c=this.options.trace)||void 0===c?void 0:c.read))&&o.Dbg.log("","  x ",`${this.hint()} is obsolete and is NOT subscribed to ${a.Dump.rev(t,n)}`)}else o.Dbg.isOn&&(o.Dbg.trace.read||(null===(d=this.options.trace)||void 0===d?void 0:d.read))&&o.Dbg.log("","  x ",`${this.hint()} is NOT subscribed to already obsolete ${a.Dump.rev(t,n)}`);return l}static canSubscribe(e,t,n,o,i){let r=!t.snapshot.sealed||e===o.head.data[n];return r&&-1!==i&&(r=!(e instanceof g&&i>=e.obsoleteSince)),r}static createControllerAndGetHook(e,t,n){const o=new f(e,t),i=(...e)=>o.useOrRun(!1,e).result;return s.Meta.set(i,s.Meta.Controller,o),i}static rememberOperationOptions(e,t,n,o,r,c,d,l){const p=s.Meta.acquire(e,s.Meta.Initial);let v=p[t];const m=v?v.controller:new f(h,t),b=v?v.options:u.OptionsImpl.INITIAL;if(p[t]=v=new g(m,a.ROOT_REV,new u.OptionsImpl(n,o,b,d,l)),v.options.kind===i.Kind.Reaction&&v.options.throttling<Number.MAX_SAFE_INTEGER){s.Meta.acquire(e,s.Meta.Reactions)[t]=v}else if(v.options.kind===i.Kind.Reaction&&v.options.throttling>=Number.MAX_SAFE_INTEGER){delete s.Meta.getFrom(e,s.Meta.Reactions)[t]}return v.options}static init(){Object.freeze(p),Object.freeze(v),o.Dbg.getMergedTraceOptions=y,a.Snapshot.markUsed=g.markUsed,a.Snapshot.markEdited=g.markEdited,a.Snapshot.isConflicting=g.isConflicting,a.Snapshot.propagateAllChangesThroughSubscriptions=g.propagateAllChangesThroughSubscriptions,a.Snapshot.revokeAllSubscriptions=g.revokeAllSubscriptions,a.Snapshot.enqueueDetectedReactions=g.enqueueDetectedReactions,u.Hooks.createControllerAndGetHook=g.createControllerAndGetHook,u.Hooks.rememberOperationOptions=g.rememberOperationOptions,Promise.prototype.then=D;try{Object.defineProperty(globalThis,"rWhy",{get:f.why,configurable:!1,enumerable:!1}),Object.defineProperty(globalThis,"rBriefWhy",{get:f.briefWhy,configurable:!1,enumerable:!1})}catch(e){}try{Object.defineProperty(n.g,"rWhy",{get:f.why,configurable:!1,enumerable:!1}),Object.defineProperty(n.g,"rBriefWhy",{get:f.briefWhy,configurable:!1,enumerable:!1})}catch(e){}}}function m(e,t){const n=[];let o=e.revision.data[e.memberName];for(;o instanceof g&&o.obsoleteDueTo;)t&&n.push(a.Dump.rev(e.revision,e.memberName)),o=(e=o.obsoleteDueTo).revision.data[e.memberName];return n.push(a.Dump.rev(e.revision,e.memberName)),t&&n.push(e.revision.snapshot.hint),n}function b(e,t){let n="";return n=Array.isArray(e)?`Array(${e.length})`:e instanceof Set?`Set(${e.size})`:e instanceof Map?`Map(${e.size})`:e instanceof g?`${a.Dump.rev(e.revision,t)}`:e===s.Meta.Disposed?"<disposed>":null!=e?e.toString().slice(0,20):"",n}function y(e){const t=c.Transaction.current;let n=o.Dbg.merge(t.options.trace,t.id>1?31+t.id%6:37,t.id>1?`T${t.id}`:`-${a.Snapshot.idGen.toString().replace(/[0-9]/g,"-")}`,o.Dbg.global);return n=o.Dbg.merge({margin1:t.margin},void 0,void 0,n),g.current&&(n=o.Dbg.merge({margin2:g.current.margin},void 0,void 0,n)),e&&(n=o.Dbg.merge(e,void 0,void 0,n)),n}g.current=void 0,g.queuedReactions=[],g.deferredReactions=[];const R=Promise.prototype.then;function D(e,t){const n=c.Transaction.current;if(!n.isFinished){e||(e=N),t||(t=T);const o=g.current;o&&(e=o.wrap(e),t=o.wrap(t)),e=n.wrap(e,!1),t=n.wrap(t,!0)}return R.call(this,e,t)}function x(e,t){return e.order-t.order}function N(e){return e}function T(e){throw e}t.resolveReturn=N,t.rejectRethrow=T,g.init()},319:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSnapshotOptions=t.ROOT_REV=t.Dump=t.Snapshot=t.UNDEFINED_TIMESTAMP=t.MAX_TIMESTAMP=void 0;const o=n(971),i=n(987),r=n(281),s=n(19),a=n(250),c=n(949),d=n(893);t.MAX_TIMESTAMP=Number.MAX_SAFE_INTEGER,t.UNDEFINED_TIMESTAMP=t.MAX_TIMESTAMP-1,Object.defineProperty(d.ObjectHolder.prototype,"#this",{configurable:!1,enumerable:!1,get(){const e={},t=u.current().getCurrentRevision(this,"#this").data;for(const n in t){const o=t[n];o instanceof d.Observable?e[n]=o.value:o===d.Meta.Unobservable?e[n]=this.unobservable[n]:e[n]=o}return e}});class u{constructor(e){this.id=++u.idGen,this.options=null!=e?e:t.DefaultSnapshotOptions,this.stamp=t.UNDEFINED_TIMESTAMP,this.bumper=100,this.changeset=new Map,this.reactions=[],this.sealed=!1}get hint(){var e;return null!==(e=this.options.hint)&&void 0!==e?e:"noname"}get timestamp(){return this.stamp}seekRevision(e,n){let o=e.editing;if(o&&o.snapshot!==this&&(o=this.changeset.get(e),o&&(e.editing=o)),!o)for(o=e.head;o!==t.ROOT_REV&&o.snapshot.timestamp>this.timestamp;)o=o.prev.revision;return o}getCurrentRevision(e,n){const o=this.seekRevision(e,n);if(o===t.ROOT_REV)throw(0,i.misuse)(`object ${l.obj(e)} doesn't exist in snapshot v${this.stamp} (${this.hint})`);return o}getEditableRevision(e,n,o,r){let s=this.seekRevision(e,n);const a=s.data[n];if(a!==d.Meta.Unobservable){if(this.checkIfEditable(e,s,n,a,o,r),s.snapshot!==this){const t=Object.assign({},n===d.Meta.Holder?o:s.data);Reflect.set(t,d.Meta.Holder,e),s=new d.ObjectRevision(this,s,t),this.changeset.set(e,s),e.editing=s,e.editors++,i.Dbg.isOn&&i.Dbg.trace.write&&i.Dbg.log("","  ",`${l.obj(e)} is cloned`)}}else s=t.ROOT_REV;return s}static takeSnapshot(e){return e[d.Meta.Holder]["#this"]}static dispose(e){const t=u.edit(),n=d.Meta.get(e,d.Meta.Holder);void 0!==n&&u.doDispose(t,n)}static doDispose(e,n){const o=e.getEditableRevision(n,d.Meta.Disposed,d.Meta.Disposed);return o!==t.ROOT_REV&&(o.data[d.Meta.Disposed]=d.Meta.Disposed,u.markEdited(d.Meta.Disposed,d.Meta.Disposed,!0,o,d.Meta.Disposed,n)),o}checkIfEditable(e,n,o,r,s,a){if(this.sealed)throw(0,i.misuse)(`observable property ${l.obj(e,o)} can only be modified inside transaction`);if(o!==d.Meta.Holder&&s!==d.Meta.Holder){if((n.snapshot!==this||n.prev.revision!==t.ROOT_REV)&&void 0!==this.options.token&&a!==this.options.token)throw(0,i.misuse)(`${this.hint} should not have side effects (trying to change ${l.rev(n,o)})`);if(n===t.ROOT_REV)throw(0,i.misuse)(`member ${l.rev(n,o)} doesn't exist in snapshot v${this.stamp} (${this.hint})`)}}acquire(e){if(!this.sealed&&this.stamp===t.UNDEFINED_TIMESTAMP){const n=void 0===this.options.token||e.stamp===t.UNDEFINED_TIMESTAMP;this.stamp=n?u.stampGen:e.stamp,u.pending.push(this),void 0===u.oldest&&(u.oldest=this),i.Dbg.isOn&&i.Dbg.trace.transaction&&i.Dbg.log("",`v${this.stamp}`,`${this.hint}`)}}bumpBy(e){e>this.bumper&&(this.bumper=e)}rebase(){let e;return this.changeset.size>0&&(this.changeset.forEach(((t,n)=>{if(t.prev.revision!==n.head){const o=u.merge(t,n.head);t.conflicts.size>0&&(e||(e=[]),e.push(t)),i.Dbg.isOn&&i.Dbg.trace.transaction&&i.Dbg.log("","",`${l.rev(t)} is merged with ${l.rev(n.head)} among ${o} properties with ${t.conflicts.size} conflicts.`)}})),void 0===this.options.token?this.bumper>100?(this.bumper=this.stamp,this.stamp=++u.stampGen):this.stamp=this.bumper+1:this.stamp=this.bumper),e}static merge(e,t){let n=0;const r=t.changes.has(d.Meta.Disposed),s=Object.assign({},t.data);return e.changes.forEach(((o,a)=>{if(n++,s[a]=e.data[a],r||a===d.Meta.Disposed)r!==(a===d.Meta.Disposed)&&(i.Dbg.isOn&&i.Dbg.trace.change&&i.Dbg.log("","",`${l.rev(e,a)} <> ${l.rev(t,a)}`,0," *** CONFLICT ***"),e.conflicts.set(a,t));else{const n=u.isConflicting(t.data[a],e.prev.revision.data[a]);n&&e.conflicts.set(a,t),i.Dbg.isOn&&i.Dbg.trace.change&&i.Dbg.log("","",`${l.rev(e,a)} ${n?"<>":"=="} ${l.rev(t,a)}`,0,n?" *** CONFLICT ***":void 0)}})),o.Utils.copyAllMembers(s,e.data),e.prev.revision=t,n}applyOrDiscard(e){this.sealed=!0,this.changeset.forEach(((n,o)=>{u.sealObjectRevision(o,n),o.editors--,0===o.editors&&(o.editing=void 0),e||(o.head=n,u.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(u.totalObjectRevisionCount++,n.prev.revision===t.ROOT_REV&&u.totalObjectHolderCount++))})),i.Dbg.isOn&&(i.Dbg.trace.change&&!e&&this.changeset.forEach(((e,n)=>{const o=[];e.changes.forEach(((e,t)=>o.push(t.toString())));const r=o.join(", ");i.Dbg.log("","",`${l.rev(e)} (${r}) is ${e.prev.revision===t.ROOT_REV?"constructed":`applied on top of ${l.rev(e.prev.revision)}`}`)})),i.Dbg.trace.transaction&&i.Dbg.log(this.stamp<t.UNDEFINED_TIMESTAMP?"":"",`v${this.stamp}`,`${this.hint} - ${e?"CANCEL":"APPLY"}(${this.changeset.size})${e?` - ${e}`:""}`)),e||u.propagateAllChangesThroughSubscriptions(this)}static sealObjectRevision(e,t){if(t.changes.has(d.Meta.Disposed))for(const n in t.prev.revision.data)t.data[n]=d.Meta.Disposed;else t.changes.forEach(((n,o)=>u.sealObservable(t.data[o],o,e.proxy.constructor.name)));i.Dbg.isOn&&u.freezeObjectRevision(t)}static sealObservable(e,t,n){if(e instanceof d.Observable){const o=e.value;if(null!=o){const i=Object.getPrototypeOf(o)[r.Sealant.SealedType];i&&(e.value=r.Sealant.seal(o,i,n,t))}}}collectGarbage(){i.Dbg.isOn&&(o.Utils.freezeMap(this.changeset),Object.freeze(this.reactions),Object.freeze(this)),this.triggerGarbageCollection()}static freezeObjectRevision(e){return Object.freeze(e.data),o.Utils.freezeMap(e.changes),o.Utils.freezeMap(e.conflicts),e}triggerGarbageCollection(){if(0!==this.stamp&&this===u.oldest){const e=u.pending;e.sort(((e,t)=>e.stamp-t.stamp));let t=0;for(;t<e.length&&e[t].sealed;)e[t].unlinkHistory(),t++;u.pending=e.slice(t),u.oldest=u.pending[0];const n=Date.now();n-u.lastGarbageCollectionSummaryTimestamp>u.garbageCollectionSummaryInterval&&(i.Dbg.log("","[G]",`Total object/revision count: ${u.totalObjectHolderCount}/${u.totalObjectRevisionCount}`),u.lastGarbageCollectionSummaryTimestamp=n)}}unlinkHistory(){i.Dbg.isOn&&i.Dbg.trace.gc&&i.Dbg.log("","[G]",`Dismiss history below v${this.stamp}t${this.id} (${this.hint})`),this.changeset.forEach(((e,n)=>{i.Dbg.isOn&&i.Dbg.trace.gc&&e.prev.revision!==t.ROOT_REV&&i.Dbg.log(" ","  ",`${l.rev(e.prev.revision)} is ready for GC because overwritten by ${l.rev(e)}`),u.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(e.prev.revision!==t.ROOT_REV&&u.totalObjectRevisionCount--,e.changes.has(d.Meta.Disposed)&&u.totalObjectHolderCount--),e.prev.revision=t.ROOT_REV}))}static _init(){const e=t.ROOT_REV.snapshot;e.acquire(e),e.applyOrDiscard(),e.collectGarbage(),u.freezeObjectRevision(t.ROOT_REV),u.idGen=100,u.stampGen=101,u.oldest=void 0,s.SealedArray.prototype,a.SealedMap.prototype,c.SealedSet.prototype}}t.Snapshot=u,u.idGen=-1,u.stampGen=1,u.pending=[],u.oldest=void 0,u.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER,u.lastGarbageCollectionSummaryTimestamp=Date.now(),u.totalObjectHolderCount=0,u.totalObjectRevisionCount=0,u.current=o.UNDEF,u.edit=o.UNDEF,u.markUsed=o.UNDEF,u.markEdited=o.UNDEF,u.isConflicting=o.UNDEF,u.propagateAllChangesThroughSubscriptions=e=>{},u.revokeAllSubscriptions=e=>{},u.enqueueDetectedReactions=e=>{};class l{static obj(e,t,n,o,i,r){const s=void 0!==t?`.${t.toString()}`:"";return void 0===e?`root${s}`:void 0===n?`${e.hint}${s} #${e.id}`:`${e.hint}${s} #${e.id}t${o}v${n}${void 0!==i&&0!==i?`t${i}`:""}`}static rev(e,t){const n=d.Meta.get(e.data,d.Meta.Holder),o=void 0!==t?e.data[t]:void 0;return l.obj(n,t,e.snapshot.timestamp,e.snapshot.id,null==o?void 0:o.selfSnapshotId)}static conflicts(e){return e.map((e=>{const t=[];return e.conflicts.forEach(((n,o)=>{t.push(l.conflictingMemberHint(o,e,n))})),t.join(", ")})).join(", ")}static conflictingMemberHint(e,t,n){return`${n.snapshot.hint} (${l.rev(n,e)})`}}t.Dump=l,t.ROOT_REV=new d.ObjectRevision(new u({hint:"root-rev"}),void 0,{}),t.DefaultSnapshotOptions=Object.freeze({hint:"noname",standalone:!1,journal:void 0,trace:void 0,token:void 0})},807:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=n(971),r=n(987),s=n(319);class a{static get current(){return c.current}whenFinished(){return o(this,void 0,void 0,(function*(){}))}static create(e){return new c(e)}static run(e,...t){return c.run(e,...t)}static runAs(e,t,...n){return c.runAs(e,t,...n)}static standalone(e,...t){return c.standalone(e,...t)}static isFrameOver(e=1,t=14){return c.isFrameOver(e,t)}static requestNextFrame(e=0){return c.requestNextFrame(e)}static get isCanceled(){return c.current.isCanceled}}t.Transaction=a;class c extends a{constructor(e){super(),this.margin=void 0!==c.curr?c.curr.margin+1:-1,this.snapshot=new s.Snapshot(e),this.pending=0,this.sealed=!1,this.canceled=void 0,this.after=void 0,this.promise=void 0,this.resolve=i.UNDEF,this.reject=i.UNDEF}static get current(){return c.curr}get id(){return this.snapshot.id}get hint(){return this.snapshot.hint}get options(){return this.snapshot.options}get timestamp(){return this.snapshot.timestamp}get error(){return this.canceled}run(e,...t){return this.guard(),this.runImpl(void 0,e,...t)}inspect(e,...t){const n=c.inspection;try{return c.inspection=!0,r.Dbg.isOn&&r.Dbg.trace.transaction&&r.Dbg.log(" "," ",`T${this.id}[${this.hint}] is being inspected by T${c.curr.id}[${c.curr.hint}]`),this.runImpl(void 0,e,...t)}finally{c.inspection=n}}apply(){if(this.pending>0)throw(0,r.misuse)("cannot apply transaction having active operations running");if(this.canceled)throw(0,r.misuse)(`cannot apply transaction that is already canceled: ${this.canceled}`);this.seal()}seal(){return this.sealed||this.run(c.seal,this,void 0,void 0),this}wrap(e,t){this.guard();const n=this,o=c.inspection;o?n.inspect(c.wrapperEnter,n,t):n.run(c.wrapperEnter,n,t);return(...i)=>o?n.inspect(c.wrapperLeave,n,t,e,...i):n.runImpl(void 0,c.wrapperLeave,n,t,e,...i)}static wrapperEnter(e,t){t||e.pending++}static wrapperLeave(e,t,n,...o){e.pending--;return n(...o)}cancel(e,t){return this.runImpl(void 0,c.seal,this,e,null===t?c.none:t),this}get isCanceled(){return void 0!==this.canceled}get isFinished(){return this.sealed&&0===this.pending}whenFinished(){return o(this,void 0,void 0,(function*(){this.isFinished||(yield this.acquirePromise())}))}static run(e,...t){return c.runAs(null,e,...t)}static runAs(e,t,...n){const o=c.acquire(e),i=o!==c.curr;o.guard();let r=o.runImpl(null==e?void 0:e.trace,t,...n);return i&&(r instanceof Promise&&(r=c.standalone((()=>o.wrapToRetry(o.wrapToWaitUntilFinish(r),t,...n)))),o.seal()),r}static standalone(e,...t){const n=c.curr;try{return c.curr=c.none,e(...t)}finally{c.curr=n}}static isFrameOver(e=1,t=14){c.frameOverCounter++;let n=c.frameOverCounter%e==0;if(n){n=performance.now()-c.frameStartTime>t}return n}static requestNextFrame(e=0){return(0,i.pause)(e)}static acquire(e){const t=c.curr;return(null==e?void 0:e.standalone)||t.isFinished||"isolated"===t.options.standalone?new c(e):c.curr}guard(){if(this.sealed&&c.curr!==this)throw(0,r.misuse)("cannot run transaction that is already sealed")}wrapToRetry(e,t,...n){return o(this,void 0,void 0,(function*(){try{const t=yield e;if(this.canceled)throw this.canceled;return t}catch(o){if(this.after!==c.none){if(this.after){yield this.after.whenFinished();const e={hint:`${this.hint} - restart after T${this.after.id}`,standalone:"isolated"!==this.options.standalone||"isolated",trace:this.snapshot.options.trace,token:this.snapshot.options.token};return c.runAs(e,t,...n)}throw o}return}}))}wrapToWaitUntilFinish(e){return o(this,void 0,void 0,(function*(){const t=yield e;return yield this.whenFinished(),t}))}runImpl(e,t,...n){let o;const i=c.curr;try{if(i===c.none&&(c.frameStartTime=performance.now(),c.frameOverCounter=0),c.curr=this,this.pending++,this.snapshot.acquire(i.snapshot),o=t(...n),this.sealed&&1===this.pending)if(this.canceled){if(!this.after)throw this.canceled}else this.checkForConflicts()}catch(r){throw c.inspection||this.cancel(r),r}finally{this.pending--,this.sealed&&0===this.pending?(this.applyOrDiscard(),c.curr=i,c.standalone(s.Snapshot.enqueueDetectedReactions,this.snapshot)):c.curr=i}return o}static seal(e,t,n){!e.canceled&&t&&(e.canceled=t,e.after=n,r.Dbg.isOn&&r.Dbg.trace.transaction&&(r.Dbg.log(""," [!]",`${t.message}`,void 0," *** CANCEL ***"),n&&n!==c.none&&r.Dbg.log(""," [!]",`T${e.id}[${e.hint}] will be restarted${e!==n?` after T${n.id}[${n.hint}]`:""}`)),s.Snapshot.revokeAllSubscriptions(e.snapshot)),e.sealed=!0}checkForConflicts(){const e=this.snapshot.rebase();e&&this.tryResolveConflicts(e)}tryResolveConflicts(e){throw(0,r.error)(`T${this.id}[${this.hint}] conflicts with: ${s.Dump.conflicts(e)}`,void 0)}applyOrDiscard(){try{r.Dbg.isOn&&r.Dbg.trace.change&&r.Dbg.log("","","",void 0,"changes"),this.snapshot.applyOrDiscard(this.canceled),this.snapshot.collectGarbage(),this.promise&&(this.canceled&&!this.after?this.reject(this.canceled):this.resolve()),r.Dbg.isOn&&Object.freeze(this)}catch(e){throw(0,r.fatal)(e),e}}acquirePromise(){return this.promise||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))),this.promise}static getCurrentSnapshot(){return c.curr.snapshot}static editSnapshot(){if(c.inspection)throw(0,r.misuse)("cannot make changes during transaction inspection");return c.curr.snapshot}static _init(){s.Snapshot.current=c.getCurrentSnapshot,s.Snapshot.edit=c.editSnapshot,c.none.sealed=!0,c.none.snapshot.applyOrDiscard(),s.Snapshot._init()}}c.none=new c({hint:"<none>"}),c.curr=c.none,c.inspection=!1,c.frameStartTime=0,c.frameOverCounter=0,c._init()},327:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionJournalImpl=t.TransactionJournal=void 0;const o=n(30),i=n(893),r=n(319),s=n(807),a=n(281);class c extends o.ObservableObject{static create(){return new d}}t.TransactionJournal=c;class d extends c{constructor(){super(...arguments),this._capacity=5,this._items=[],this._position=0}get capacity(){return this._capacity}set capacity(e){this._capacity=e,e<this._items.length&&this._items.splice(0,this._items.length-e)}get items(){return this._items}get canUndo(){return this._items.length>0&&this._position>0}get canRedo(){return this._position<this._items.length}remember(e){s.Transaction.runAs({hint:"TransactionJournal.remember",standalone:"isolated"},(()=>{const t=this._items=this._items.toMutable();t.length>=this._capacity?t.shift():t.splice(this._position),t.push(e),this._position=t.length}))}undo(e=1){s.Transaction.runAs({hint:"TransactionJournal.undo",standalone:"isolated"},(()=>{let t=this._position-1;for(;t>=0&&e>0;){const n=this._items[t];d.applyPatch(n,!0),t--,e--}this._position=t+1}))}redo(e=1){s.Transaction.runAs({hint:"TransactionJournal.redo",standalone:"isolated"},(()=>{let t=this._position;for(;t<this._items.length&&e>0;){const n=this._items[t];d.applyPatch(n,!1),t++,e--}this._position=t}))}static createPatch(e,t){const n={hint:e,objects:new Map};return t.forEach(((e,t)=>{const o={current:{},former:{}},s=e.prev.revision!==r.ROOT_REV?e.prev.revision.data:void 0;e.changes.forEach(((t,n)=>{o.current[n]=u(e.data[n]),s&&(o.former[n]=u(s[n]))})),s||(delete o.current[i.Meta.Disposed],o.former[i.Meta.Disposed]=i.Meta.Disposed),n.objects.set(t.proxy,o)})),n}static applyPatch(e,t){const n=r.Snapshot.edit();e.objects.forEach(((e,o)=>{const s=i.Meta.get(o,i.Meta.Holder),a=t?e.former:e.current;if(void 0===a[i.Meta.Disposed])for(const t in a){const e=a[t],o=n.getEditableRevision(s,t,e);if(o.snapshot===n){o.data[t]=new i.Observable(e);const n=o.prev.revision.data[t];r.Snapshot.markEdited(n,e,n!==e,o,t,s)}}else r.Snapshot.doDispose(n,s)}))}}function u(e){const t=e.value,n=null==t?void 0:t[a.Sealant.CreateCopy];return void 0!==n?n.call(t):t}t.TransactionJournalImpl=d},987:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dbg=t.fatal=t.misuse=t.error=void 0,t.error=function(e,t){return n.isOn&&n.trace.error&&n.log(""," ",e,void 0," *** ERROR ***",t),new Error(e)},t.misuse=function(e,t){const o=new Error(e);return n.log(" "," ",e,void 0," *** ERROR / MISUSE ***",null!=t?t:o),o},t.fatal=function(e){return n.log(" "," ",e.message,void 0," *** FATAL ***",e),e};class n{static get trace(){return this.getMergedTraceOptions(void 0)}static setTraceMode(e,t){if(n.isOn=e,n.global=t||n.DefaultLevel,e){const e=n.global,t=Object.keys(n.global).filter((t=>!0===e[t])).join(", ");n.log("","",`Reactronic trace is enabled: ${t}`),n.log("","","Method-level trace can be configured with @options({ trace: ... }) decorator")}else n.log("","","Reactronic trace is disabled")}static log(e,t,o,i=0,r,s){n.logAs(void 0,e,t,o,i,r,s)}static logAs(e,t,o,i,r=0,s,a){const c=n.getMergedTraceOptions(e),d="  ".repeat(c.margin1>=0?c.margin1:0),u="  ".repeat(c.margin2);(e&&void 0!==e.silent?e.silent:c.silent)||(console.log("[37m%s[0m ["+c.color+"m%s %s%s[0m ["+c.color+"m%s%s[0m ["+c.color+"m%s[0m%s","",c.prefix,c.transaction?d:"",c.transaction?t:t.replace(/./g," "),u,o,i,(void 0!==s?`${s}`:"")+(r>2?`    [ ${r}ms ]`:"")),a&&console.log(a))}static merge(e,t,n,o){const i=e?{silent:void 0!==e.silent?e.silent:o.silent,transaction:void 0!==e.transaction?e.transaction:o.transaction,operation:void 0!==e.operation?e.operation:o.operation,step:void 0!==e.step?e.step:o.step,monitor:void 0!==e.monitor?e.monitor:o.monitor,read:void 0!==e.read?e.read:o.read,write:void 0!==e.write?e.write:o.write,change:void 0!==e.change?e.change:o.change,obsolete:void 0!==e.obsolete?e.obsolete:o.obsolete,error:void 0!==e.error?e.error:o.error,warning:void 0!==e.warning?e.warning:o.warning,gc:void 0!==e.gc?e.gc:o.gc,color:void 0!==e.color?e.color:o.color,prefix:void 0!==e.prefix?e.prefix:o.prefix,margin1:void 0!==e.margin1?e.margin1:o.margin1,margin2:void 0!==e.margin2?e.margin2:o.margin2}:Object.assign({},o);return void 0!==t&&(i.color=t),void 0!==n&&(i.prefix=n),i}}t.Dbg=n,n.DefaultLevel={silent:!1,error:!1,warning:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,gc:!1,color:37,prefix:"",margin1:0,margin2:0},n.isOn=!1,n.global=n.DefaultLevel,n.getMergedTraceOptions=e=>n.global},281:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sealant=void 0;const o=n(987);class i{static seal(e,t,n,r){let s=e;const a=s[i.CreateCopy];return a&&(s=a.call(s)),o.Dbg.isOn&&o.Dbg.trace.write&&o.Dbg.log(""," ",`${n}.${r.toString()} - collection is sealed`),Object.setPrototypeOf(s,t),Object.freeze(s),s}static toMutable(e){const t=e[i.CreateCopy];return t&&(e=t.call(e)),e}static error(e){return(0,o.misuse)("use toMutable to create mutable copy of sealed collection")}}t.Sealant=i,i.SealedType=Symbol("rxSealedType"),i.CreateCopy=Symbol("rxCreateCopy")},19:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedArray=void 0;const o=n(281);class i extends Array{pop(){throw o.Sealant.error(this)}push(...e){throw o.Sealant.error(this)}sort(e){throw o.Sealant.error(this)}splice(e,t,...n){throw o.Sealant.error(this)}unshift(...e){throw o.Sealant.error(this)}[o.Sealant.CreateCopy](){return this.slice()}slice(e,t){const n=super.slice(e,t);return Object.setPrototypeOf(n,Array.prototype),n}}t.SealedArray=i,Object.defineProperty(Array.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return o.Sealant.toMutable(this)}}),Object.defineProperty(Array.prototype,o.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},250:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedMap=void 0;const o=n(281);class i extends Map{clear(){throw o.Sealant.error(this)}delete(e){throw o.Sealant.error(this)}set(e,t){throw o.Sealant.error(this)}[o.Sealant.CreateCopy](){return new Map(this.entries())}}t.SealedMap=i,Object.defineProperty(Map.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return o.Sealant.toMutable(this)}}),Object.defineProperty(Map.prototype,o.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},949:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedSet=void 0;const o=n(281);class i extends Set{add(e){throw o.Sealant.error(this)}clear(){throw o.Sealant.error(this)}delete(e){throw o.Sealant.error(this)}[o.Sealant.CreateCopy](){return new Set(this.values())}}t.SealedSet=i,Object.defineProperty(Set.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return o.Sealant.toMutable(this)}}),Object.defineProperty(Set.prototype,o.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},971:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.pause=t.all=t.UNDEF=t.Utils=void 0;function o(...e){throw new Error("this method should never be called")}t.Utils=class{static freezeSet(e){if(e instanceof Set){const t={configurable:!1,enumerable:!1,get:o,set:o};Object.defineProperty(e,"add",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}}static freezeMap(e){if(e instanceof Map){const t={configurable:!1,enumerable:!1,get:o,set:o};Object.defineProperty(e,"set",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}}static copyAllMembers(e,t){for(const n of Object.getOwnPropertyNames(e))t[n]=e[n];for(const n of Object.getOwnPropertySymbols(e))t[n]=e[n];return t}},t.UNDEF=o,t.all=function(e){return n(this,void 0,void 0,(function*(){let t;const n=yield Promise.all(e.map((e=>e.catch((e=>(t=t||e,e))))));if(t)throw t;return n}))},t.pause=function(e){return new Promise((function(t){setTimeout(t.bind(null,(()=>t)),e)}))}}}]);