"use strict";(globalThis.webpackChunktodo_list=globalThis.webpackChunktodo_list||[]).push([[216],{935:(e,t,n)=>{n.d(t,{iv:()=>De});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode;function s(e){return e.trim()}function a(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function l(e,t,n){return e.slice(t,n)}function u(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var f=1,g=1,m=0,v=0,R=0,b="";function D(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:f,column:g,length:s,return:""}}function y(e,t,n){return D(e,t.root,t.parent,n,t.props,t.children,0)}function x(){return R=v>0?d(b,--v):0,g--,10===R&&(g=1,f--),R}function w(){return R=v<m?d(b,v++):0,g++,10===R&&(g=1,f++),R}function S(){return d(b,v)}function P(){return v}function O(e,t){return l(b,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return f=g=1,m=u(b=e),v=0,[]}function M(e){return b="",e}function E(e){return s(O(v-1,A(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(R=S())&&R<33;)w();return N(e)>2||N(R)>3?"":" "}function k(e,t){for(;--t&&w()&&!(R<48||R>102||R>57&&R<65||R>70&&R<97););return O(e,P()+(t<6&&32==S()&&32==w()))}function A(e){for(;w();)switch(R){case e:return v;case 34:case 39:return A(34===e||39===e?e:R);case 40:41===e&&A(e);break;case 92:w()}return v}function j(e,t){for(;w()&&e+R!==57&&(e+R!==84||47!==S()););return"/*"+O(t,v-1)+"*"+o(47===e?e:w())}function C(e){for(;!N(S());)w();return O(e,v)}var H="-ms-",_="-moz-",$="-webkit-",L="comm",I="rule",B="decl";function G(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function z(e,t,n,r){switch(e.type){case"@import":case B:return e.return=e.return||e.value;case L:return"";case I:e.value=e.props.join(",")}return u(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}function X(e,t){switch(function(e,t){return(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3)}(e,t)){case 5103:return $+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $+e+_+e+H+e+e;case 6828:case 4268:return $+e+H+e+e;case 6165:return $+e+H+"flex-"+e+e;case 5187:return $+e+a(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return $+e+H+"flex-item-"+a(e,/flex-|-self/,"")+e;case 4675:return $+e+H+"flex-line-pack"+a(e,/align-content|flex-|-self/,"")+e;case 5548:return $+e+H+a(e,"shrink","negative")+e;case 5292:return $+e+H+a(e,"basis","preferred-size")+e;case 6060:return $+"box-"+a(e,"-grow","")+$+e+H+a(e,"grow","positive")+e;case 4554:return $+a(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return a(a(a(e,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),e,"")+e;case 5495:case 3959:return a(e,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return a(a(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+e+e;case 4095:case 3583:case 4068:case 2532:return a(e,/(.+)-inline(.+)/,$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(u(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return a(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+_+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?X(a(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,u(e)-3-(~c(e,"!important")&&10))){case 107:return a(e,":",":"+$)+e;case 101:return a(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(45===d(e,14)?"inline-":"")+"box$3$1"+$+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $+e+H+a(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $+e+H+e+e}return e}function U(e){return M(W("",null,null,null,[""],e=T(e),0,[0],e))}function W(e,t,n,r,i,s,c,d,l){for(var h=0,f=0,g=c,m=0,v=0,R=0,b=1,D=1,y=1,O=0,N="",T=i,M=s,A=r,H=N;D;)switch(R=O,O=w()){case 34:case 39:case 91:case 40:H+=E(O);break;case 9:case 10:case 13:case 32:H+=F(R);break;case 92:H+=k(P()-1,7);continue;case 47:switch(S()){case 42:case 47:p(Y(j(w(),P()),t,n),l);break;default:H+="/"}break;case 123*b:d[h++]=u(H)*y;case 125*b:case 59:case 0:switch(O){case 0:case 125:D=0;case 59+f:v>0&&u(H)-g&&p(v>32?q(H+";",r,n,g-1):q(a(H," ","")+";",r,n,g-2),l);break;case 59:H+=";";default:if(p(A=K(H,t,n,h,f,i,d,N,T=[],M=[],g),s),123===O)if(0===f)W(H,t,A,A,T,s,g,d,M);else switch(m){case 100:case 109:case 115:W(e,A,A,r&&p(K(e,A,A,0,0,i,d,N,i,T=[],g),M),i,M,g,d,r?T:M);break;default:W(H,A,A,A,[""],M,g,d,M)}}h=f=v=0,b=y=1,N=H="",g=c;break;case 58:g=1+u(H),v=R;default:if(b<1)if(123==O)--b;else if(125==O&&0==b++&&125==x())continue;switch(H+=o(O),O*b){case 38:y=f>0?1:(H+="\f",-1);break;case 44:d[h++]=(u(H)-1)*y,y=1;break;case 64:45===S()&&(H+=E(w())),m=S(),f=u(N=H+=C(P())),O++;break;case 45:45===R&&2==u(H)&&(b=0)}}return s}function K(e,t,n,r,o,c,d,u,p,f,g){for(var m=o-1,v=0===o?c:[""],R=h(v),b=0,y=0,x=0;b<r;++b)for(var w=0,S=l(e,m+1,m=i(y=d[b])),P=e;w<R;++w)(P=s(y>0?v[w]+" "+S:a(S,/&\f/g,v[w])))&&(p[x++]=P);return D(e,t,n,0===o?I:u,p,f,g)}function Y(e,t,n){return D(e,t,n,L,o(R),l(e,2,-2),0)}function q(e,t,n,r){return D(e,t,n,B,l(e,0,r),l(e,r+1,-1),r)}var V=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(N(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=C(v-1);break;case 2:e[n]+=E(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=w());return e}(T(e),t))},J=new WeakMap,Q=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=V(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[d]):s[d]+" "+o[a]}}},Z=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ee=[function(e,t,n,r){if(!e.return)switch(e.type){case B:e.return=X(e.value,e.length);break;case"@keyframes":return G([y(a(e.value,"@","@"+$),e,"")],r);case I:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([y(a(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return G([y(a(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),y(a(t,/:(plac\w+)/,":-moz-$1"),e,""),y(a(t,/:(plac\w+)/,H+"input-$1"),e,"")],r)}return""}))}}];const te=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var i=e.stylisPlugins||ee;var o,s,a={},c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var n=e.getAttribute("data-emotion").split(" ");if(n[0]===t){for(var r=1;r<n.length;r++)a[n[r]]=!0;c.push(e)}}));var d,l,u,p,f=[z,(p=function(e){d.insert(e)},function(e){e.root||(e=e.return)&&p(e)})],g=(l=[Q,Z].concat(i,f),u=h(l),function(e,t,n,r){for(var i="",o=0;o<u;o++)i+=l[o](e,t,n,r)||"";return i});s=function(e,t,n,r){d=n,G(U(e?e+"{"+t.styles+"}":t.styles),g),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:a,registered:{},insert:s};return m.sheet.hydrate(c),m};const ne=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const re={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ie=/[A-Z]|^ms/g,oe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,se=function(e){return 45===e.charCodeAt(1)},ae=function(e){return null!=e&&"boolean"!=typeof e},ce=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return se(e)?e:e.replace(ie,"-$&").toLowerCase()})),de=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(oe,(function(e,t,n){return ue={name:t,styles:n,next:ue},t}))}return 1===re[e]||se(e)||"number"!=typeof t||0===t?t:t+"px"};function le(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ue={name:n.name,styles:n.styles,next:ue},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ue={name:r.name,styles:r.styles,next:ue},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=le(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":ae(s)&&(r+=ce(o)+":"+de(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=le(e,t,s);switch(o){case"animation":case"animationName":r+=ce(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)ae(s[c])&&(r+=ce(o)+":"+de(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ue,o=n(e);return ue=i,le(e,t,o)}break;case"string":}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var ue,he=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var pe=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ue=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=le(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=le(n,t,e[s]),r&&(i+=o[s]);he.lastIndex=0;for(var a,c="";null!==(a=he.exec(i));)c+="-"+a[1];return{name:ne(i)+c,styles:i,next:ue}};function fe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ge=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};function me(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function ve(e,t,n){var r=[],i=fe(e,r,n);return r.length<2?n:i+t(r)}var Re=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var s in o="",i)i[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};var be=function(e){var t=te(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=pe(n,t.registered,void 0);return ge(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return ve(t.registered,n,Re(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=pe(n,t.registered);me(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=pe(n,t.registered),o="animation-"+i.name;return me(t,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:fe.bind(null,t.registered),merge:ve.bind(null,t.registered,n)}}({key:"css"}),De=(be.flush,be.hydrate,be.cx,be.merge,be.getRegisteredStyles,be.injectGlobal,be.keyframes,be.css);be.sheet,be.cache},44:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(911),t),i(n(813),t),i(n(18),t),i(n(379),t),i(n(235),t),i(n(509),t),i(n(196),t),i(n(480),t),i(n(132),t),i(n(408),t),i(n(808),t),i(n(902),t),i(n(473),t),i(n(175),t),i(n(85),t),i(n(956),t),i(n(881),t),n(956)},911:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeInfo=t.RefreshParent=void 0,t.RefreshParent=Symbol("RefreshParent");t.NodeInfo=class{constructor(e,t,n,r,i,o,s,a,c){this.id=e,this.args=t,this.render=n,this.superRender=r,this.priority=i,this.rtti=o,this.owner=s,this.host=a,this.instance=c,this.old=void 0,this.sibling=void 0}get native(){var e;return null===(e=this.instance)||void 0===e?void 0:e.native}}},18:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Restyler=t.restyler=void 0;const o=n(361);t.restyler=function(e){return o.Transaction.run((()=>new s(e)))};class s{constructor(e){this.restyle=e}cache(){return this.restyle()}get class(){return this.cache()}}r([o.cached,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],s.prototype,"cache",null),t.Restyler=s},813:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.rejectRethrow=t.resolveReturn=t.RxDom=t.NodeInstance=void 0;const s=n(361),a=n(911),c=Object.freeze([]),d={name:"RxDom.Node",sequential:!1},l=()=>{};class u{constructor(e){this.revision=0,this.native=void 0,this.model=void 0,this.children=c,this.buffer=void 0,this.aliens=c,this.resizing=void 0,this.uuid=++u.gUuid,this.level=e}render(e){h.renderUsingRttiOrDirectly(this,e),s.Rx.configureCurrentOperation({order:this.level})}}u.gUuid=0,r([s.reaction,(0,s.options)({reentrance:s.Reentrance.CancelPrevious,sensitiveArgs:!0,noSideEffects:!0}),i("design:type",Function),i("design:paramtypes",[a.NodeInfo]),i("design:returntype",void 0)],u.prototype,"render",null),t.NodeInstance=u;class h{static Root(e){const t=h.ROOT.instance;if(t.buffer)throw new Error("rendering re-entrance is not supported yet");t.buffer=[];let n=e();return n instanceof Promise?n=n.then((e=>(s.Transaction.run(h.renderChildrenThenDo,l),e)),(e=>{console.log(e),s.Transaction.run(h.renderChildrenThenDo,l)})):s.Transaction.run(h.renderChildrenThenDo,l),n}static Node(e,t,n,r,i,o,s,c){var l,u;const p=null!=s?s:h.gOwner,f=null!=c?c:h.gHost,g=p.instance;if(!g)throw new Error("element must be initialized before children");const m=new a.NodeInfo(e,t,n,r,null!=i?i:0,null!=o?o:d,p,f);if(void 0===g.buffer)throw new Error("children are rendered already");return(null!==(u=null===(l=null==f?void 0:f.instance)||void 0===l?void 0:l.revision)&&void 0!==u?u:-1)>=0&&g.buffer.push(m),m}static wrap(e){const t=h.gOwner,n=h.gHost;return(...r)=>h.runUnder(t,n,e,...r)}static runUnder(e,t,n,...r){const i=h.gOwner,o=h.gHost;try{return h.gOwner=e,h.gHost=t,n(...r)}finally{h.gHost=o,h.gOwner=i}}static render(e){var t;const n=e.instance;if(!n)throw new Error("element must be initialized before rendering");if(n.buffer)throw new Error("rendering re-entrance is not supported yet");const r=h.gOwner,i=h.gHost;try{let o;h.gOwner=e,h.gHost=n.native?e:e.host,n.buffer=[],h.gTrace&&h.gTraceMask.indexOf("r")>=0&&new RegExp(h.gTrace,"gi").test(v(e))&&console.log(`t${s.Transaction.current.id}v${s.Transaction.current.timestamp}${"  ".repeat(Math.abs(e.instance.level))}${v(e)}.render/${null===(t=e.instance)||void 0===t?void 0:t.revision}${e.args!==a.RefreshParent?`  <<  ${s.Rx.why(!0)}`:""}`),o=e.superRender?e.superRender((t=>{const r=e.render(n.native,t);return r instanceof Promise?r.then():t}),n.native):e.render(n.native,void 0),o instanceof Promise?o=o.then((e=>(h.renderChildrenThenDo(l),e)),(e=>{console.log(e),h.renderChildrenThenDo(l)})):h.renderChildrenThenDo(l)}finally{h.gHost=i,h.gOwner=r}}static renderChildrenThenDo(e){const t=h.gOwner;t.rtti.sequential?h.mergeAndRenderSequentialChildren(t,e):h.mergeAndRenderChildren(t,e)}static initialize(e){h.doInitialize(e)}static finalize(e,t){const n=e.instance;if(n&&n.revision>=0){n.revision=-n.revision,n.native=void 0;for(const e of n.children)h.doFinalize(e,t);for(const e of n.aliens)h.doFinalize(e,t)}}static usingAnotherHost(e,t){var n;const r=null===(n=e.instance)||void 0===n?void 0:n.native;if(void 0!==r){const n=h.gHost;try{h.gHost=e,t(r)}finally{h.gHost=n}}}static createRootNode(e,t,n){const r=new u(0),i=new a.NodeInfo(e,null,(()=>{}),void 0,0,{name:e,sequential:t},{},{},r),o=i;return o.owner=i,o.host=i,r.native=n,i}static currentNodeInstance(){const e=h.gOwner.instance;if(!e)throw new Error("currentNodeInstance function can be called only inside rendering function");return e}static currentNodeInstanceInternal(){const e=h.gOwner.instance;if(!e)throw new Error("currentNodeInstanceInternal function can be called only inside rendering function");return e}static currentNodeRevision(){var e,t;return null!==(t=null===(e=h.gOwner.instance)||void 0===e?void 0:e.revision)&&void 0!==t?t:0}static setTraceMode(e,t,n){h.gTrace=e?n:void 0,h.gTraceMask=t}static forAll(e){h.forEachChildRecursively(h.ROOT,e)}static renderUsingRttiOrDirectly(e,t){e.revision++,t.rtti.render?t.rtti.render(t):h.render(t)}static doRender(e){const t=e.instance;e.args===a.RefreshParent?h.renderUsingRttiOrDirectly(t,e):(0,s.nonreactive)(t.render,e)}static doInitialize(e){var t,n;const r=e.rtti,i=e.instance=new u(e.owner.instance.level+1);return null===(t=r.initialize)||void 0===t||t.call(r,e),null===(n=r.mount)||void 0===n||n.call(r,e),e.args!==a.RefreshParent&&s.Rx.setTraceHint(i,s.Rx.isTraceEnabled?v(e):e.id),h.gTrace&&h.gTraceMask.indexOf("m")>=0&&new RegExp(h.gTrace,"gi").test(v(e))&&console.log(`t${s.Transaction.current.id}v${s.Transaction.current.timestamp}${"  ".repeat(Math.abs(e.instance.level))}${v(e)}.initialized`),i}static doFinalize(e,t){h.gTrace&&h.gTraceMask.indexOf("u")>=0&&new RegExp(h.gTrace,"gi").test(v(e))&&console.log(`t${s.Transaction.current.id}v${s.Transaction.current.timestamp}${"  ".repeat(Math.abs(e.instance.level))}${v(e)}.finalizing`),e.args!==a.RefreshParent&&e.instance&&s.Transaction.runAs({standalone:!0},(()=>s.Rx.dispose(e.instance)));const n=e.rtti;n.finalize?n.finalize(e,t):h.finalize(e,t)}static mergeAndRenderSequentialChildren(e,t){var n,r,i;const o=e.instance;if(void 0!==o&&void 0!==o.buffer){let d;try{const l=o.children,u=o.buffer,f=u.slice().sort(p);o.buffer=void 0;let g,v=o,R=c,b=0,D=0;for(;b<l.length;){const t=l[b],n=f[D],r=void 0!==n?p(n,t):1;if(r<=0){const i=n.host.instance;if(i!==o&&(i!==v&&(h.mergeAliens(v,o,R),R=[],v=i),R.push(n)),void 0!==g&&n.id===g.id)throw new Error(`duplicate id '${g.id}' inside '${e.id}'`);0===r?(n.instance=t.instance,n.old=t,b++,D++):D++,g=n}else s.Transaction.isCanceled||h.doFinalize(t,t),b++}for(v!==o&&h.mergeAliens(v,o,R),g=void 0,b=0,D=-1;b<u.length&&!s.Transaction.isCanceled;){const e=u[b],t=e.old;e.old=void 0,e.sibling=g;const o=e.instance;t&&o?((null==g?void 0:g.instance)!==(null===(n=t.sibling)||void 0===n?void 0:n.instance)&&(null===(i=(r=e.rtti).mount)||void 0===i||i.call(r,e)),e.args!==a.RefreshParent&&m(e.args,t.args)||h.doRender(e)):(h.doInitialize(e),h.doRender(e)),e.native&&(g=e),e.priority>0&&D<0&&(D=b),b++}s.Transaction.isCanceled||(o.children=f,D>=0&&(d=h.renderIncrementally(e,u,D).then(t,t)))}finally{d&&t()}}}static mergeAndRenderChildren(e,t){const n=e.instance;if(void 0!==n&&void 0!==n.buffer){let r;try{const i=n.children,o=n.buffer.sort(p),d=new Array;n.buffer=void 0;let l,u=n,f=c,v=0,R=0;for(;v<i.length||R<o.length;){const t=i[v],r=o[R],c=g(r,t,p);if(c<=0){const i=r.host.instance;if(i!==n&&(i!==u&&(h.mergeAliens(u,n,f),f=[],u=i),f.push(r)),void 0!==l&&r.id===l.id)throw new Error(`duplicate id '${l.id}' inside '${e.id}'`);0===c?(t.instance?(r.instance=t.instance,r.args!==a.RefreshParent&&m(r.args,t.args)||s.Transaction.isCanceled||(0===r.priority?h.doRender(r):d.push(r))):s.Transaction.isCanceled||(0===r.priority?(h.doInitialize(r),h.doRender(r)):d.push(r)),v++,R++):(s.Transaction.isCanceled||(0===r.priority?(h.doInitialize(r),h.doRender(r)):d.push(r)),R++),l=r}else s.Transaction.isCanceled||h.doFinalize(t,t),v++}u!==n&&h.mergeAliens(u,n,f),s.Transaction.isCanceled||(n.children=o,d.length>0&&(r=h.renderIncrementally(e,d,0).then(t,t)))}finally{r||t()}}}static renderIncrementally(e,t,n,r=30,i=12){return o(this,void 0,void 0,(function*(){if(s.Transaction.isFrameOver(r,i)&&(yield s.Transaction.requestNextFrame()),!s.Transaction.isCanceled){t.sort(f);let e=n;for(;e<t.length;){const n=t[e];if(n.instance||h.doInitialize(n),h.doRender(n),s.Transaction.isCanceled)break;if(s.Transaction.isFrameOver(r,i)&&(yield s.Transaction.requestNextFrame()),s.Transaction.isCanceled)break;e++}}}))}static mergeAliens(e,t,n){if(e!==t){const r=e.aliens,i=[];let o=0,s=0;for(;o<r.length||s<n.length;){const e=r[o],a=n[s],c=g(a,e,p);c<=0?(i.push(a),0===c?(o++,s++):s++):(e.owner.instance!==t&&i.push(e),o++)}e.aliens=i}}static forEachChildRecursively(e,t){const n=e.instance;if(n){const e=n.native;e&&t(e),n.children.forEach((e=>h.forEachChildRecursively(e,t)))}}}function p(e,t){let n=0;const r=e.host.instance,i=t.host.instance;return r!==i?(n=r.uuid-i.uuid,0===n&&(n=e.id.localeCompare(t.id))):n=e.id.localeCompare(t.id),n}function f(e,t){return e.priority-t.priority}function g(e,t,n){let r;return r=void 0!==t?void 0!==e?n(e,t):1:void 0!==e?-1:0,r}function m(e,t){let n=e===t;if(!n)if(Array.isArray(e))n=Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e===t[n]));else if(e===Object(e)&&t===Object(t))for(const r in e)if(n=e[r]===t[r],!n)break;return n}function v(e){return`${e.rtti.name}:${e.id}`}t.RxDom=h,h.ROOT=h.createRootNode("ROOT",!1,"ROOT"),h.gOwner=h.ROOT,h.gHost=h.ROOT,h.gTrace=void 0,h.gTraceMask="r";const R=Promise.prototype.then;function b(e){return e}function D(e){throw e}t.resolveReturn=b,t.rejectRethrow=D,Promise.prototype.then=function(e,t){return e=e?h.wrap(e):b,t=t?h.wrap(t):D,R.call(this,e,t)}},803:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.RxDom=void 0,i(n(911),t);var o=n(813);Object.defineProperty(t,"RxDom",{enumerable:!0,get:function(){return o.RxDom}}),i(n(18),t)},956:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(953),i=n.g.Element;void 0!==i&&Object.defineProperty(i.prototype,"dataForSensor",{configurable:!1,enumerable:!1,get(){let e=this[r.SymDataForSensor];return void 0===e&&(e=this[r.SymDataForSensor]={}),e},set(e){this[r.SymDataForSensor]=e}})},509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RxHR=t.RxHGroup=t.RxHeader=t.RxHead=t.RxH6=t.RxH5=t.RxH4=t.RxH3=t.RxH2=t.RxH1=t.RxForm=t.RxFooter=t.RxFigure=t.RxFigCaption=t.RxFieldSet=t.RxEmbed=t.RxEM=t.RxDT=t.RxDL=t.RxDiv=t.RxDialog=t.RxDfn=t.RxDetails=t.RxDel=t.RxDD=t.RxDataList=t.RxData=t.RxColGroup=t.RxCol=t.RxCode=t.RxCite=t.RxCaption=t.RxCanvas=t.RxButton=t.RxBR=t.RxBody=t.RxBlockQuote=t.RxBig=t.RxBdo=t.RxBdi=t.RxBase=t.RxB=t.RxAudio=t.RxAside=t.RxArticle=t.RxArea=t.RxAddress=t.RxAbbr=t.RxA=t.HtmlBody=void 0,t.RxTable=t.RxSup=t.RxSummary=t.RxSub=t.RxStyle=t.RxStrong=t.RxSpan=t.RxSource=t.RxSmall=t.RxSelect=t.RxSection=t.RxScript=t.RxSamp=t.RxS=t.RxRuby=t.RxRT=t.RxRP=t.RxQ=t.RxProgress=t.RxPre=t.RxPicture=t.RxParam=t.RxP=t.RxOutput=t.RxOption=t.RxOptGroup=t.RxOL=t.RxObj=t.RxNoScript=t.RxNoIndex=t.RxNav=t.RxMeter=t.RxMeta=t.RxMenuItem=t.RxMenu=t.RxMark=t.RxMap=t.RxMain=t.RxLink=t.RxLI=t.RxLegend=t.RxLabel=t.RxKeygen=t.RxKbd=t.RxIns=t.RxInput=t.RxImg=t.RxIFrame=t.RxI=t.RxHtml=void 0,t.Embed=t.EM=t.DT=t.DL=t.Div=t.Dialog=t.Dfn=t.Details=t.Del=t.DD=t.DataList=t.Data=t.ColGroup=t.Col=t.Code=t.Cite=t.Caption=t.Canvas=t.Button=t.BR=t.Body=t.BlockQuote=t.Big=t.Bdo=t.Bdi=t.Base=t.B=t.Audio=t.Aside=t.Article=t.Area=t.Address=t.Abbr=t.A=t.RxWbr=t.RxVideo=t.RxVar=t.RxUL=t.RxU=t.RxTrack=t.RxTR=t.RxTitle=t.RxTime=t.RxTHead=t.RxTH=t.RxTFoot=t.RxTextArea=t.RxTD=t.RxTBody=t.RxTemplate=void 0,t.RT=t.RP=t.Q=t.Progress=t.Pre=t.Picture=t.Param=t.P=t.Output=t.Option=t.OptGroup=t.OL=t.Obj=t.NoScript=t.NoIndex=t.Nav=t.Meter=t.Meta=t.MenuItem=t.Menu=t.Mark=t.Map=t.Main=t.Link=t.LI=t.Legend=t.Label=t.KeyGen=t.Kbd=t.Ins=t.Input=t.Img=t.IFrame=t.I=t.Html=t.HR=t.HGroup=t.Header=t.Head=t.H6=t.H5=t.H4=t.H3=t.H2=t.H1=t.Form=t.Footer=t.Figure=t.FigCaption=t.FieldSet=void 0,t.RxFeDropShadow=t.RxFeDistantLight=t.RxFeDisplacementMap=t.RxFeDiffuseLighting=t.RxFeConvolveMatrix=t.RxFeComposite=t.RxFeComponentTransfer=t.RxFeColorMatrix=t.RxFeBlend=t.RxEllipse=t.RxDesc=t.RxDefs=t.RxClipPath=t.RxCircle=t.RxAnimateTransform=t.RxAnimateMotion=t.RxAnimate=t.RxSvgA=t.RxSvg=t.Wbr=t.Video=t.Var=t.UL=t.U=t.Track=t.TR=t.Title=t.Time=t.THead=t.TH=t.TFoot=t.TextArea=t.TD=t.TBody=t.Template=t.Table=t.Sup=t.Summary=t.Sub=t.Style=t.Strong=t.Span=t.Source=t.Small=t.Select=t.Section=t.Script=t.Samp=t.S=t.Ruby=void 0,t.Ellipse=t.Desc=t.Defs=t.ClipPath=t.Circle=t.AnimateTransform=t.AnimateMotion=t.Animate=t.SvgA=t.Svg=t.RxView=t.RxUse=t.RxTSpan=t.RxTextPath=t.RxText=t.RxSymbol=t.RxSvgSwitch=t.RxStop=t.RxRect=t.RxRadialGradient=t.RxPolyline=t.RxPolygon=t.RxPattern=t.RxPath=t.RxMPath=t.RxMetadata=t.RxMask=t.RxMarker=t.RxLinearGradient=t.RxLine=t.RxSvgImage=t.RxG=t.RxForeignObject=t.RxFilter=t.RxFeTurbulence=t.RxFeTile=t.RxFeSpotLight=t.RxFeSpecularLighting=t.RxFePointLight=t.RxFeOffset=t.RxFeMorphology=t.RxFeMergeNode=t.RxFeMerge=t.RxFeImage=t.RxFeGaussianBlur=t.RxFeFuncR=t.RxFeFuncG=t.RxFeFuncB=t.RxFeFuncA=t.RxFeFlood=void 0,t.View=t.Use=t.TSpan=t.TextPath=t.Text=t.Symbol=t.SvgSwitch=t.Stop=t.Rect=t.RadialGradient=t.PolyLine=t.Polygon=t.Pattern=t.Path=t.MPath=t.MetaData=t.Mask=t.Marker=t.LinearGradient=t.Line=t.SvgImage=t.G=t.ForeignObject=t.Filter=t.FeTurbulence=t.FeTile=t.FeSpotLight=t.FeSpecularLighting=t.FePointLight=t.FeOffset=t.FeMorphology=t.FeMergeNode=t.FeMerge=t.FeImage=t.FeGaussianBlur=t.FeFuncR=t.FeFuncG=t.FeFuncB=t.FeFuncA=t.FeFlood=t.FeDropShadow=t.FeDistantLight=t.FeDisplacementMap=t.FeDiffuseLighting=t.FeConvolveMatrix=t.FeComposite=t.FeComponentTransfer=t.FeColorMatrix=t.FeBlend=void 0;const r=n(803),i=n(235);function o(e){}t.HtmlBody=function(e,t,i){return r.RxDom.Node(e,t,i,void 0,void 0,{name:e,sequential:!0,initialize(e,t){const r=n.g.document.body;r.id=e.id,e.instance.native=r}})},t.RxA=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.a)},t.RxAbbr=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.abbr)},t.RxAddress=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.address)},t.RxArea=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.area)},t.RxArticle=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.article)},t.RxAside=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.aside)},t.RxAudio=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.audio)},t.RxB=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.b)},t.RxBase=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.base)},t.RxBdi=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.bdi)},t.RxBdo=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.bdo)},t.RxBig=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.big)},t.RxBlockQuote=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.blockquote)},t.RxBody=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.body)},t.RxBR=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.br)},t.RxButton=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.button)},t.RxCanvas=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.canvas)},t.RxCaption=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.caption)},t.RxCite=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.cite)},t.RxCode=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.code)},t.RxCol=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.col)},t.RxColGroup=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.colgroup)},t.RxData=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.data)},t.RxDataList=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.datalist)},t.RxDD=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.dd)},t.RxDel=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.del)},t.RxDetails=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.details)},t.RxDfn=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.dfn)},t.RxDialog=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.dialog)},t.RxDiv=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.div)},t.RxDL=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.dl)},t.RxDT=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.dt)},t.RxEM=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.em)},t.RxEmbed=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.embed)},t.RxFieldSet=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.fieldset)},t.RxFigCaption=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.figcaption)},t.RxFigure=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.figure)},t.RxFooter=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.footer)},t.RxForm=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.form)},t.RxH1=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h1)},t.RxH2=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h2)},t.RxH3=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h3)},t.RxH4=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h4)},t.RxH5=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h5)},t.RxH6=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.h6)},t.RxHead=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.head)},t.RxHeader=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.header)},t.RxHGroup=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.hgroup)},t.RxHR=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.hr)},t.RxHtml=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.html)},t.RxI=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.i)},t.RxIFrame=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.iframe)},t.RxImg=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.img)},t.RxInput=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.input)},t.RxIns=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.ins)},t.RxKbd=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.kbd)},t.RxKeygen=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.keygen)},t.RxLabel=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.label)},t.RxLegend=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.legend)},t.RxLI=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.li)},t.RxLink=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.link)},t.RxMain=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.main)},t.RxMap=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.map)},t.RxMark=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.mark)},t.RxMenu=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.menu)},t.RxMenuItem=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.menuitem)},t.RxMeta=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.meta)},t.RxMeter=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.meter)},t.RxNav=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.nav)},t.RxNoIndex=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.noindex)},t.RxNoScript=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.noscript)},t.RxObj=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.object)},t.RxOL=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.ol)},t.RxOptGroup=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.optgroup)},t.RxOption=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.option)},t.RxOutput=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.output)},t.RxP=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.p)},t.RxParam=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.param)},t.RxPicture=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.picture)},t.RxPre=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.pre)},t.RxProgress=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.progress)},t.RxQ=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.q)},t.RxRP=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.rp)},t.RxRT=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.rt)},t.RxRuby=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.ruby)},t.RxS=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.s)},t.RxSamp=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.samp)},t.RxScript=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.script)},t.RxSection=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.section)},t.RxSelect=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.select)},t.RxSmall=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.small)},t.RxSource=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.source)},t.RxSpan=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.span)},t.RxStrong=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.strong)},t.RxStyle=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.style)},t.RxSub=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.sub)},t.RxSummary=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.summary)},t.RxSup=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.sup)},t.RxTable=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.table)},t.RxTemplate=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.template)},t.RxTBody=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.tbody)},t.RxTD=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.td)},t.RxTextArea=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.textarea)},t.RxTFoot=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.tfoot)},t.RxTH=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.th)},t.RxTHead=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.thead)},t.RxTime=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.time)},t.RxTitle=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.title)},t.RxTR=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.tr)},t.RxTrack=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.track)},t.RxU=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.u)},t.RxUL=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.ul)},t.RxVar=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.var)},t.RxVideo=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.video)},t.RxWbr=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,s.wbr)},t.A=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.a)},t.Abbr=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.abbr)},t.Address=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.address)},t.Area=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.area)},t.Article=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.article)},t.Aside=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.aside)},t.Audio=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.audio)},t.B=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.b)},t.Base=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.base)},t.Bdi=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.bdi)},t.Bdo=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.bdo)},t.Big=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.big)},t.BlockQuote=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.blockquote)},t.Body=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.body)},t.BR=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.br)},t.Button=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.button)},t.Canvas=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.canvas)},t.Caption=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.caption)},t.Cite=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.cite)},t.Code=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.code)},t.Col=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.col)},t.ColGroup=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.colgroup)},t.Data=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.data)},t.DataList=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.datalist)},t.DD=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.dd)},t.Del=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.del)},t.Details=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.details)},t.Dfn=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.dfn)},t.Dialog=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.dialog)},t.Div=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.div)},t.DL=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.dl)},t.DT=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.dt)},t.EM=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.em)},t.Embed=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.embed)},t.FieldSet=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.fieldset)},t.FigCaption=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.figcaption)},t.Figure=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.figure)},t.Footer=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.footer)},t.Form=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.form)},t.H1=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h1)},t.H2=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h2)},t.H3=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h3)},t.H4=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h4)},t.H5=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h5)},t.H6=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.h6)},t.Head=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.head)},t.Header=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.header)},t.HGroup=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.hgroup)},t.HR=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.hr)},t.Html=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.html)},t.I=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.i)},t.IFrame=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.iframe)},t.Img=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.img)},t.Input=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.input)},t.Ins=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.ins)},t.Kbd=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.kbd)},t.KeyGen=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.keygen)},t.Label=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.label)},t.Legend=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.legend)},t.LI=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.li)},t.Link=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.link)},t.Main=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.main)},t.Map=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.map)},t.Mark=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.mark)},t.Menu=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.menu)},t.MenuItem=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.menuitem)},t.Meta=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.meta)},t.Meter=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.meter)},t.Nav=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.nav)},t.NoIndex=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.noindex)},t.NoScript=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.noscript)},t.Obj=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.object)},t.OL=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.ol)},t.OptGroup=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.optgroup)},t.Option=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.option)},t.Output=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.output)},t.P=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.p)},t.Param=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.param)},t.Picture=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.picture)},t.Pre=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.pre)},t.Progress=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.progress)},t.Q=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.q)},t.RP=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.rp)},t.RT=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.rt)},t.Ruby=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.ruby)},t.S=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.s)},t.Samp=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.samp)},t.Script=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.script)},t.Section=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.section)},t.Select=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.select)},t.Small=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.small)},t.Source=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.source)},t.Span=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.span)},t.Strong=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.strong)},t.Style=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.style)},t.Sub=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.sub)},t.Summary=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.summary)},t.Sup=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.sup)},t.Table=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.table)},t.Template=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.template)},t.TBody=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.tbody)},t.TD=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.td)},t.TextArea=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.textarea)},t.TFoot=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.tfoot)},t.TH=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.th)},t.THead=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.thead)},t.Time=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.time)},t.Title=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.title)},t.TR=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.tr)},t.Track=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.track)},t.U=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.u)},t.UL=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.ul)},t.Var=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.var)},t.Video=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.video)},t.Wbr=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,s.wbr)};const s={a:new i.HtmlRtti("a"),abbr:new i.HtmlRtti("abbr"),address:new i.HtmlRtti("address"),area:new i.HtmlRtti("area"),article:new i.HtmlRtti("article"),aside:new i.HtmlRtti("aside"),audio:new i.HtmlRtti("audio"),b:new i.HtmlRtti("b"),base:new i.HtmlRtti("base"),bdi:new i.HtmlRtti("bdi"),bdo:new i.HtmlRtti("bdo"),big:new i.HtmlRtti("big"),blockquote:new i.HtmlRtti("blockquote"),body:new i.HtmlRtti("body"),br:new i.HtmlRtti("br"),button:new i.HtmlRtti("button"),canvas:new i.HtmlRtti("canvas"),caption:new i.HtmlRtti("caption"),cite:new i.HtmlRtti("cite"),code:new i.HtmlRtti("code"),col:new i.HtmlRtti("col"),colgroup:new i.HtmlRtti("colgroup"),data:new i.HtmlRtti("data"),datalist:new i.HtmlRtti("datalist"),dd:new i.HtmlRtti("dd"),del:new i.HtmlRtti("del"),details:new i.HtmlRtti("details"),dfn:new i.HtmlRtti("dfn"),dialog:new i.HtmlRtti("dialog"),div:new i.HtmlRtti("div"),dl:new i.HtmlRtti("dl"),dt:new i.HtmlRtti("dt"),em:new i.HtmlRtti("em"),embed:new i.HtmlRtti("embed"),fieldset:new i.HtmlRtti("fieldset"),figcaption:new i.HtmlRtti("figcaption"),figure:new i.HtmlRtti("figure"),footer:new i.HtmlRtti("footer"),form:new i.HtmlRtti("form"),h1:new i.HtmlRtti("h1"),h2:new i.HtmlRtti("h2"),h3:new i.HtmlRtti("h3"),h4:new i.HtmlRtti("h4"),h5:new i.HtmlRtti("h5"),h6:new i.HtmlRtti("h6"),head:new i.HtmlRtti("head"),header:new i.HtmlRtti("header"),hgroup:new i.HtmlRtti("hgroup"),hr:new i.HtmlRtti("hr"),html:new i.HtmlRtti("html"),i:new i.HtmlRtti("i"),iframe:new i.HtmlRtti("iframe"),img:new i.HtmlRtti("img"),input:new i.HtmlRtti("input"),ins:new i.HtmlRtti("ins"),kbd:new i.HtmlRtti("kbd"),keygen:new i.HtmlRtti("keygen"),label:new i.HtmlRtti("label"),legend:new i.HtmlRtti("legend"),li:new i.HtmlRtti("li"),link:new i.HtmlRtti("link"),main:new i.HtmlRtti("main"),map:new i.HtmlRtti("map"),mark:new i.HtmlRtti("mark"),menu:new i.HtmlRtti("menu"),menuitem:new i.HtmlRtti("menuitem"),meta:new i.HtmlRtti("meta"),meter:new i.HtmlRtti("meter"),nav:new i.HtmlRtti("nav"),noindex:new i.HtmlRtti("noindex"),noscript:new i.HtmlRtti("noscript"),object:new i.HtmlRtti("object"),ol:new i.HtmlRtti("ol"),optgroup:new i.HtmlRtti("optgroup"),option:new i.HtmlRtti("option"),output:new i.HtmlRtti("output"),p:new i.HtmlRtti("p"),param:new i.HtmlRtti("param"),picture:new i.HtmlRtti("picture"),pre:new i.HtmlRtti("pre"),progress:new i.HtmlRtti("progress"),q:new i.HtmlRtti("q"),rp:new i.HtmlRtti("rp"),rt:new i.HtmlRtti("rt"),ruby:new i.HtmlRtti("ruby"),s:new i.HtmlRtti("s"),samp:new i.HtmlRtti("samp"),script:new i.HtmlRtti("script"),section:new i.HtmlRtti("section"),select:new i.HtmlRtti("select"),small:new i.HtmlRtti("small"),source:new i.HtmlRtti("source"),span:new i.HtmlRtti("span"),strong:new i.HtmlRtti("strong"),style:new i.HtmlRtti("style"),sub:new i.HtmlRtti("sub"),summary:new i.HtmlRtti("summary"),sup:new i.HtmlRtti("sup"),table:new i.HtmlRtti("table"),template:new i.HtmlRtti("template"),tbody:new i.HtmlRtti("tbody"),td:new i.HtmlRtti("td"),textarea:new i.HtmlRtti("textarea"),tfoot:new i.HtmlRtti("tfoot"),th:new i.HtmlRtti("th"),thead:new i.HtmlRtti("thead"),time:new i.HtmlRtti("time"),title:new i.HtmlRtti("title"),tr:new i.HtmlRtti("tr"),track:new i.HtmlRtti("track"),u:new i.HtmlRtti("u"),ul:new i.HtmlRtti("ul"),var:new i.HtmlRtti("var"),video:new i.HtmlRtti("video"),wbr:new i.HtmlRtti("wbr")};t.RxSvg=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.svg)},t.RxSvgA=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.a)},t.RxAnimate=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.animate)},t.RxAnimateMotion=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.animateMotion)},t.RxAnimateTransform=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.animateTransform)},t.RxCircle=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.circle)},t.RxClipPath=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.clipPath)},t.RxDefs=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.defs)},t.RxDesc=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.desc)},t.RxEllipse=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.ellipse)},t.RxFeBlend=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feBlend)},t.RxFeColorMatrix=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feColorMatrix)},t.RxFeComponentTransfer=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feComponentTransfer)},t.RxFeComposite=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feComposite)},t.RxFeConvolveMatrix=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feConvolveMatrix)},t.RxFeDiffuseLighting=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feDiffuseLighting)},t.RxFeDisplacementMap=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feDisplacementMap)},t.RxFeDistantLight=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feDistantLight)},t.RxFeDropShadow=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feDropShadow)},t.RxFeFlood=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feFlood)},t.RxFeFuncA=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feFuncA)},t.RxFeFuncB=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feFuncB)},t.RxFeFuncG=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feFuncG)},t.RxFeFuncR=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feFuncR)},t.RxFeGaussianBlur=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feGaussianBlur)},t.RxFeImage=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feImage)},t.RxFeMerge=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feMerge)},t.RxFeMergeNode=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feMergeNode)},t.RxFeMorphology=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feMorphology)},t.RxFeOffset=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feOffset)},t.RxFePointLight=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.fePointLight)},t.RxFeSpecularLighting=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feSpecularLighting)},t.RxFeSpotLight=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feSpotLight)},t.RxFeTile=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feTile)},t.RxFeTurbulence=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.feTurbulence)},t.RxFilter=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.filter)},t.RxForeignObject=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.foreignObject)},t.RxG=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.g)},t.RxSvgImage=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.image)},t.RxLine=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.line)},t.RxLinearGradient=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.linearGradient)},t.RxMarker=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.marker)},t.RxMask=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.mask)},t.RxMetadata=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.metadata)},t.RxMPath=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.mpath)},t.RxPath=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.path)},t.RxPattern=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.pattern)},t.RxPolygon=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.polygon)},t.RxPolyline=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.polyline)},t.RxRadialGradient=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.radialGradient)},t.RxRect=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.rect)},t.RxStop=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.stop)},t.RxSvgSwitch=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.switch)},t.RxSymbol=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.symbol)},t.RxText=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.text)},t.RxTextPath=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.textPath)},t.RxTSpan=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.tspan)},t.RxUse=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.use)},t.RxView=function(e,t,n,i,o){return r.RxDom.Node(e,t,n,i,o,a.view)},t.Svg=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.svg)},t.SvgA=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.a)},t.Animate=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.animate)},t.AnimateMotion=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.animateMotion)},t.AnimateTransform=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.animateTransform)},t.Circle=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.circle)},t.ClipPath=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.clipPath)},t.Defs=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.defs)},t.Desc=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.desc)},t.Ellipse=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.ellipse)},t.FeBlend=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feBlend)},t.FeColorMatrix=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feColorMatrix)},t.FeComponentTransfer=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feComponentTransfer)},t.FeComposite=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feComposite)},t.FeConvolveMatrix=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feConvolveMatrix)},t.FeDiffuseLighting=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feDiffuseLighting)},t.FeDisplacementMap=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feDisplacementMap)},t.FeDistantLight=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feDistantLight)},t.FeDropShadow=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feDropShadow)},t.FeFlood=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feFlood)},t.FeFuncA=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feFuncA)},t.FeFuncB=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feFuncB)},t.FeFuncG=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feFuncG)},t.FeFuncR=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feFuncR)},t.FeGaussianBlur=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feGaussianBlur)},t.FeImage=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feImage)},t.FeMerge=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feMerge)},t.FeMergeNode=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feMergeNode)},t.FeMorphology=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feMorphology)},t.FeOffset=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feOffset)},t.FePointLight=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.fePointLight)},t.FeSpecularLighting=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feSpecularLighting)},t.FeSpotLight=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feSpotLight)},t.FeTile=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feTile)},t.FeTurbulence=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.feTurbulence)},t.Filter=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.filter)},t.ForeignObject=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.foreignObject)},t.G=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.g)},t.SvgImage=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.image)},t.Line=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.line)},t.LinearGradient=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.linearGradient)},t.Marker=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.marker)},t.Mask=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.mask)},t.MetaData=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.metadata)},t.MPath=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.mpath)},t.Path=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.path)},t.Pattern=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.pattern)},t.Polygon=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.polygon)},t.PolyLine=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.polyline)},t.RadialGradient=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.radialGradient)},t.Rect=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.rect)},t.Stop=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.stop)},t.SvgSwitch=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.switch)},t.Symbol=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.symbol)},t.Text=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.text)},t.TextPath=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.textPath)},t.TSpan=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.tspan)},t.Use=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.use)},t.View=function(e,t=o,n){return r.RxDom.Node(e,r.RefreshParent,t,void 0,n,a.view)};const a={svg:new i.SvgRtti("svg"),a:new i.SvgRtti("a"),animate:new i.SvgRtti("animate"),animateMotion:new i.SvgRtti("animateMotion"),animateTransform:new i.SvgRtti("animateTransform"),circle:new i.SvgRtti("circle"),clipPath:new i.SvgRtti("clipPath"),defs:new i.SvgRtti("defs"),desc:new i.SvgRtti("desc"),ellipse:new i.SvgRtti("ellipse"),feBlend:new i.SvgRtti("feBlend"),feColorMatrix:new i.SvgRtti("feColorMatrix"),feComponentTransfer:new i.SvgRtti("feComponentTransfer"),feComposite:new i.SvgRtti("feComposite"),feConvolveMatrix:new i.SvgRtti("feConvolveMatrix"),feDiffuseLighting:new i.SvgRtti("feDiffuseLighting"),feDisplacementMap:new i.SvgRtti("feDisplacementMap"),feDistantLight:new i.SvgRtti("feDistantLight"),feDropShadow:new i.SvgRtti("feDropShadow"),feFlood:new i.SvgRtti("feFlood"),feFuncA:new i.SvgRtti("feFuncA"),feFuncB:new i.SvgRtti("feFuncB"),feFuncG:new i.SvgRtti("feFuncG"),feFuncR:new i.SvgRtti("feFuncR"),feGaussianBlur:new i.SvgRtti("feGaussianBlur"),feImage:new i.SvgRtti("feImage"),feMerge:new i.SvgRtti("feMerge"),feMergeNode:new i.SvgRtti("feMergeNode"),feMorphology:new i.SvgRtti("feMorphology"),feOffset:new i.SvgRtti("feOffset"),fePointLight:new i.SvgRtti("fePointLight"),feSpecularLighting:new i.SvgRtti("feSpecularLighting"),feSpotLight:new i.SvgRtti("feSpotLight"),feTile:new i.SvgRtti("feTile"),feTurbulence:new i.SvgRtti("feTurbulence"),filter:new i.SvgRtti("filter"),foreignObject:new i.SvgRtti("foreignObject"),g:new i.SvgRtti("g"),image:new i.SvgRtti("image"),line:new i.SvgRtti("line"),linearGradient:new i.SvgRtti("linearGradient"),marker:new i.SvgRtti("marker"),mask:new i.SvgRtti("mask"),metadata:new i.SvgRtti("metadata"),mpath:new i.SvgRtti("mpath"),path:new i.SvgRtti("path"),pattern:new i.SvgRtti("pattern"),polygon:new i.SvgRtti("polygon"),polyline:new i.SvgRtti("polyline"),radialGradient:new i.SvgRtti("radialGradient"),rect:new i.SvgRtti("rect"),stop:new i.SvgRtti("stop"),switch:new i.SvgRtti("switch"),symbol:new i.SvgRtti("symbol"),text:new i.SvgRtti("text"),textPath:new i.SvgRtti("textPath"),tspan:new i.SvgRtti("tspan"),use:new i.SvgRtti("use"),view:new i.SvgRtti("view")}},235:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SvgRtti=t.HtmlRtti=t.AbstractHtmlRtti=void 0;const r=n(361),i=n(803);class o{constructor(e,t=!0){this.name=e,this.sequential=t}initialize(e){const t=this.createElement(e);t.id=e.id,e.instance.native=t}mount(e){const t=e.instance,n=null==t?void 0:t.native;if(n){const t=e.host.native;if(t instanceof Element){const r=e.sibling;if(void 0===r)t===n.parentNode&&null===n.previousSibling||t.prepend(n);else if(r!==e){if(r.host.native===t){const e=r.native;e instanceof Element&&e.nextSibling!==n&&t.insertBefore(n,e.nextSibling)}}else t.appendChild(n)}}}render(e){const t=e.instance,n=t.native,s=o.gNativeParent;try{o.gNativeParent=e,i.RxDom.render(e),o.blinkingEffect&&function(e,t){const n=t%2,r=1>>n;e.classList.toggle(`${o.blinkingEffect}-${n}`,!0),e.classList.toggle(`${o.blinkingEffect}-${r}`,!1)}(n,t.revision),o.isDebugAttributeEnabled&&n.setAttribute("rdbg",`${t.revision}:    ${r.Rx.why()}`)}finally{o.gNativeParent=s}}finalize(e,t){var n,r;const s=e.instance,a=null==s?void 0:s.native;if(!o.gSubTreeFinalization&&a&&a.parentElement){o.gSubTreeFinalization=a;try{null===(n=s.resizing)||void 0===n||n.unobserve(a),a.remove(),i.RxDom.finalize(e,t)}finally{o.gSubTreeFinalization=void 0}}else a&&(null===(r=s.resizing)||void 0===r||r.unobserve(a)),i.RxDom.finalize(e,t)}static get blinkingEffect(){return o._blinkingEffect}static set blinkingEffect(e){void 0===e&&i.RxDom.forAll((e=>{e instanceof HTMLElement&&e.classList.remove(`${o.blinkingEffect}-0`,`${o.blinkingEffect}-1`)})),o._blinkingEffect=e}}t.AbstractHtmlRtti=o,o.isDebugAttributeEnabled=!1,o.gNativeParent=i.RxDom.createRootNode("html > body",!0,n.g.document.body),o.gSubTreeFinalization=void 0,o._blinkingEffect=void 0;t.HtmlRtti=class extends o{createElement(e){return document.createElement(e.rtti.name)}};t.SvgRtti=class extends o{createElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e.rtti.name)}}},85:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RxFocus=t.TwoWayFocusSync=void 0;const r=n(361),i=n(803);t.TwoWayFocusSync=function(e,t,n,o){t.dataForSensor.focus=n,void 0===o&&(o=()=>t.focus()),i.RxDom.Node(e,{focusToggle:n},(()=>{const e=n.value,t=n.valueOn;(e===n.valueOn||e instanceof r.Ref&&t instanceof r.Ref&&r.Ref.sameRefs(e,t))&&o&&o()}))},t.RxFocus=function(e,t,n){i.RxDom.Node(e,{target:t,focusToggle:n},(()=>{t.dataForSensor.focus=n;const e=n.value,i=n.valueOn;(e===i||e instanceof r.Ref&&i instanceof r.Ref&&r.Ref.sameRefs(e,i))&&t.focus()}))}},196:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPointerButtonDown=t.extractPointerButton=t.BasePointerSensor=t.PointerButton=void 0;const r=n(825),i=n(902);var o;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Middle=4]="Middle"}(o=t.PointerButton||(t.PointerButton={}));class s extends r.HtmlElementSensor{constructor(e){super(e),this.positionX=1/0,this.positionY=1/0,this.modifiers=i.KeyboardModifiers.None}}t.BasePointerSensor=s,t.extractPointerButton=function(e){switch(e.button){case 0:return o.Left;case 1:return o.Middle;case 2:return o.Right;default:return o.None}},t.isPointerButtonDown=function(e,t){return 0!=(t&e)}},132:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonSensor=t.ButtonState=void 0;const o=n(361),s=n(196),a=n(953),c=n(902);var d;!function(e){e[e.Pressed=0]="Pressed",e[e.Selecting=1]="Selecting",e[e.Selected=2]="Selected",e[e.Released=3]="Released"}(d=t.ButtonState||(t.ButtonState={}));class l extends s.BasePointerSensor{constructor(e){super(e),this.state=d.Released,this.pointerButton=s.PointerButton.None,this.originData=void 0,this.selectedData=void 0,this.selectedX=1/0,this.selectedY=1/0,this.selected=!1}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){this.state===d.Released&&this.pointerButton===s.PointerButton.None&&this.press(e),this.setPreventDefaultAndStopPropagation(e)}onPointerMove(e){const t=this.state;(0,s.isPointerButtonDown)(this.pointerButton,e.buttons)?t!==d.Pressed&&t!==d.Selecting||this.selecting(e):t!==d.Released&&(this.cancel(),this.reset()),this.setPreventDefaultAndStopPropagation(e)}onPointerUp(e){(0,s.extractPointerButton)(e)===this.pointerButton?this.state===d.Selecting?(this.select(e),this.release()):this.state===d.Pressed&&this.release():this.cancel(),this.reset(),this.setPreventDefaultAndStopPropagation(e)}onLostPointerCapture(e){this.state!==d.Released&&(this.cancel(),this.reset())}onKeyDown(e){"Escape"===e.key&&this.state!==d.Released&&(this.cancel(),this.reset())}press(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:r,window:i}=(0,a.findTargetElementData)(t,n,a.SymDataForSensor,["button"]),l=null==r?void 0:r.button;l&&(this.state=d.Pressed,this.pointerButton=(0,s.extractPointerButton)(e),this.originData=l,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++),(0,o.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(i,"button")}))}selecting(e){this.updateSensorData(e),this.state=d.Selecting,this.selected=!1}select(e){this.updateSensorData(e),this.state=d.Selected,this.selectedX=e.clientX,this.selectedY=e.clientY,this.selected=!0}release(){this.preventDefault=!1,this.stopPropagation=!1,this.state=d.Released,this.revision++}cancel(){this.state=d.Released,this.selected=!1,this.revision++}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.state=d.Released,this.originData=void 0,this.selectedData=void 0,this.pointerButton=s.PointerButton.None,this.positionX=1/0,this.positionY=1/0,this.selectedX=1/0,this.selectedY=1/0,this.modifiers=c.KeyboardModifiers.None,this.selected=!1}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],l.prototype,"listen",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],l.prototype,"press",null),r([o.transaction,(0,o.options)({reentrance:o.Reentrance.CancelPrevious,trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],l.prototype,"selecting",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],l.prototype,"select",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],l.prototype,"release",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],l.prototype,"cancel",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],l.prototype,"reset",null),t.ButtonSensor=l},953:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findTargetElementData=t.grabElementData=t.EmptyDataArray=t.SymDataForSensor=void 0,t.SymDataForSensor=Symbol("DataForSensor"),t.EmptyDataArray=[],t.grabElementData=function(e,n,r,i){let o,s=i,a=0,c=0;for(;void 0===o&&a<e.length;){const t=e[a][n];if(void 0!==t){o=t.window;const e=t[r];void 0!==e&&(s!==i?void 0!==e&&s.push(e):void 0!==e?e!==i[c]?(s=i.slice(0,c),s.push(e)):c++:s=i.slice(0,c))}a++}return 0===c&&s===i&&i.length>0&&(s=t.EmptyDataArray),{data:s,window:o}},t.findTargetElementData=function(e,t,n,r){let i,o,s=0;for(;void 0===o&&s<e.length;){const a=e[s],c=a[n];if(void 0!==c&&(o=c.window,void 0===i))for(const e of r){if(void 0!==c[e]&&t.includes(a)){i=c;break}}s++}return{data:i,window:o}}},480:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FocusSensor=void 0;const o=n(361),s=n(953),a=n(825);class c extends a.HtmlElementSensor{listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),n.removeEventListener("focusout",this.onFocusOut.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("focusin",this.onFocusIn.bind(this),{capture:!0}),e.addEventListener("focusout",this.onFocusOut.bind(this),{capture:!0})))}reset(){this.doFocusOut()}onFocusIn(e){this.doFocusIn(e),this.setPreventDefaultAndStopPropagation(e)}onFocusOut(e){this.doFocusOut(),this.setPreventDefaultAndStopPropagation(e)}doFocusIn(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath(),{data:n,window:r}=(0,s.grabElementData)(t,s.SymDataForSensor,"focus",this.elementDataList);this.elementDataList=function(e,t){t!==e&&(e.forEach((e=>{e instanceof o.ToggleRef&&e.valueOn!==e.valueOff&&(e.value=e.valueOff)})),t.forEach((e=>{e instanceof o.ToggleRef&&(e.value=e.valueOn)})));return t}(this.elementDataList,n),this.revision++,(0,o.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(r,"focus")}))}doFocusOut(){this.preventDefault=!1,this.stopPropagation=!1,this.revision++}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],c.prototype,"listen",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[FocusEvent]),i("design:returntype",void 0)],c.prototype,"doFocusIn",null),r([o.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],c.prototype,"doFocusOut",null),t.FocusSensor=c},408:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HoverSensor=void 0;const o=n(361),s=n(953),a=n(902),c=n(196);class d extends c.BasePointerSensor{constructor(e){super(e),this.target=void 0,this.target=void 0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),n.removeEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerover",this.onPointerOver.bind(this),{capture:!0}),e.addEventListener("pointerout",this.onPointerOut.bind(this),{capture:!0})))}onPointerOver(e){this.doPointerOver(e)}onPointerOut(e){this.doPointerOut()}doPointerOver(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY);this.target=null===(t=(0,s.findTargetElementData)(n,r,s.SymDataForSensor,["hover"]).data)||void 0===t?void 0:t.hover,this.modifiers=(0,a.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.revision++}doPointerOut(){this.preventDefault=!1,this.stopPropagation=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=a.KeyboardModifiers.None,this.target=void 0}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"doPointerOver",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"doPointerOut",null),t.HoverSensor=d},175:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlDragSensor=void 0;const o=n(361),s=n(953),a=n(825),c=n(902);class d extends a.HtmlElementSensor{constructor(e){super(e),this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat=new Map,this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None}getData(e){return this.dataByFormat.get(e)}setData(e,t){this.dataByFormat.set(e,t)}clearData(e){e?this.dataByFormat.delete(e):this.dataByFormat.clear()}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),n.removeEventListener("drag",this.onDrag.bind(this),{capture:!0}),n.removeEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),n.removeEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),n.removeEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),n.removeEventListener("drop",this.onDrop.bind(this),{capture:!0}),n.removeEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("dragstart",this.onDragStart.bind(this),{capture:!0}),e.addEventListener("drag",this.onDrag.bind(this),{capture:!0}),e.addEventListener("dragenter",this.onDragEnter.bind(this),{capture:!1}),e.addEventListener("dragleave",this.onDragLeave.bind(this),{capture:!1}),e.addEventListener("dragover",this.onDragOver.bind(this),{capture:!0}),e.addEventListener("drop",this.onDrop.bind(this),{capture:!0}),e.addEventListener("dragend",this.onDragEnd.bind(this),{capture:!0})))}onDragStart(e){this.startDragging(e),this.updateEventOnDragStart(e)}onDrag(e){this.dragging(e)}onDragEnter(e){this.enterTarget(e),this.updateEventOnDropAllowed(e)}onDragLeave(e){this.leaveTarget(e)}onDragOver(e){this.dragOver(e),this.updateEventOnDropAllowed(e)}onDrop(e){this.drop(e)}onDragEnd(e){this.finishDragging(e),this.reset()}startDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY);this.draggable=null===(t=(0,s.findTargetElementData)(n,r,s.SymDataForSensor,["htmlDraggable"]).data)||void 0===t?void 0:t.htmlDraggable;const{data:i,window:a}=(0,s.findTargetElementData)(n,r,s.SymDataForSensor,["htmlDrag"]);this.dragSource=null==i?void 0:i.htmlDrag,this.dragStarted=!0,this.dragFinished=!1,this.startX=e.clientX,this.startY=e.clientY,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.previousDragTarget=void 0,this.revision++,(0,o.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(a,"htmlDrag")}))}dragging(e){this.dragStarted=!0,this.dragFinished=!1,this.revision++}finishDragging(e){this.dragFinished=!0,this.revision++}enterTarget(e){var t;const n=this.updateDragTarget(e);this.dropped=!1,this.revision++,null===(t=this.windowSensor)||void 0===t||t.setActiveWindow(n,"htmlDrag")}leaveTarget(e){}dragOver(e){this.updateDragTarget(e),this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0;const t=e.dataTransfer;if(t){let e=this.dataByFormat;t.types.forEach((n=>{if(!e.has(n)){const r=t.getData(n);""!==r&&(this.dataByFormat=e=e.toMutable(),e.set(n,r))}}))}this.revision++}updateEventOnDragStart(e){const t=e.dataTransfer;t&&(t.dropEffect=this.dropEffect,t.effectAllowed=this.effectAllowed,this.dataByFormat.forEach(((e,n)=>{"string"==typeof e&&t.setData(n,e)})))}updateEventOnDropAllowed(e){this.dropAllowed&&e.preventDefault()}reset(){this.draggable=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.dataByFormat.clear(),this.dropEffect="none",this.dataTypesAllowed=[],this.effectAllowed="uninitialized",this.dropAllowed=!1,this.draggingOver=!1,this.draggingDataTypes=[],this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None,this.revision++}updateDragTarget(e){var t;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY),{data:i,window:o}=(0,s.findTargetElementData)(n,r,s.SymDataForSensor,["htmlDrag"]),a=null==i?void 0:i.htmlDrag;a!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=a);const d=null===(t=e.dataTransfer)||void 0===t?void 0:t.types;if(d&&!function(e,t){let n=!0;for(let r=0;r<e.length;r++)if(e[r]!==t[r]){n=!1;break}return n}(d,this.draggingDataTypes)){const e=new Array;for(let t=0;t<d.length;t++)e.push(d[t]);this.draggingDataTypes=e}return this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,this.draggingOver=!0,o}whenDragging(){this.draggingOver&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}}r([o.unobservable,i("design:type",Map)],d.prototype,"dataByFormat",void 0),r([o.unobservable,i("design:type",String)],d.prototype,"dropEffect",void 0),r([o.unobservable,i("design:type",Array)],d.prototype,"dataTypesAllowed",void 0),r([o.unobservable,i("design:type",String)],d.prototype,"effectAllowed",void 0),r([o.unobservable,i("design:type",Boolean)],d.prototype,"dropAllowed",void 0),r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"startDragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"dragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"finishDragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"enterTarget",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"leaveTarget",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"dragOver",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"drop",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"updateEventOnDragStart",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[DragEvent]),i("design:returntype",void 0)],d.prototype,"updateEventOnDropAllowed",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),r([o.reaction,(0,o.options)({throttling:0}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"whenDragging",null),t.HtmlDragSensor=d},825:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlElementSensor=void 0;const o=n(361),s=n(379),a=n(128);class c extends s.Sensor{constructor(e){super(),this.sourceElement=void 0,this.windowSensor=e,this.preventDefault=!1,this.stopPropagation=!1}setPreventDefaultAndStopPropagation(e){this.preventDefault&&(e.preventDefault(),this.preventDefault=!1),this.stopPropagation&&(e.stopPropagation(),this.stopPropagation=!1)}}r([o.unobservable,i("design:type",a.WindowSensor)],c.prototype,"windowSensor",void 0),r([o.unobservable,i("design:type",Boolean)],c.prototype,"preventDefault",void 0),r([o.unobservable,i("design:type",Boolean)],c.prototype,"stopPropagation",void 0),t.HtmlElementSensor=c},881:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSensors=void 0;const o=n(361),s=n(480),a=n(408),c=n(175),d=n(902),l=n(132),u=n(473),h=n(808),p=n(128),f=n(913);class g{constructor(){this.window=new p.WindowSensor,this.focus=new s.FocusSensor(this.window),this.hover=new a.HoverSensor,this.keyboard=new d.KeyboardSensor,this.wheel=new h.WheelSensor,this.resize=new u.ResizeSensor,this.htmlDrag=new c.HtmlDragSensor(this.window),this.button=new l.ButtonSensor(this.window),this.pointer=new f.PointerSensor(this.window)}listen(e,t=!0){this.focus.listen(e,t),this.hover.listen(e,t),this.keyboard.listen(e,t),this.wheel.listen(e,t),this.htmlDrag.listen(e,t),this.button.listen(e,t),this.pointer.listen(e,t)}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],g.prototype,"listen",null),t.HtmlSensors=g},902:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.extractModifierKeys=t.KeyboardSensor=t.KeyboardModifiers=void 0;const o=n(361),s=n(953),a=n(825);var c;!function(e){e[e.None=0]="None",e[e.Ctrl=1]="Ctrl",e[e.Shift=2]="Shift",e[e.Alt=4]="Alt",e[e.Meta=8]="Meta",e[e.CtrlShift=3]="CtrlShift",e[e.CtrlAlt=5]="CtrlAlt",e[e.CtrlMeta=9]="CtrlMeta",e[e.CtrlShiftAlt=7]="CtrlShiftAlt",e[e.CtrlShiftAltMeta=15]="CtrlShiftAltMeta",e[e.CtrlShiftMeta=11]="CtrlShiftMeta",e[e.ShiftAlt=6]="ShiftAlt",e[e.ShiftMeta=10]="ShiftMeta",e[e.ShiftAltMeta=14]="ShiftAltMeta",e[e.AltMeta=12]="AltMeta"}(c=t.KeyboardModifiers||(t.KeyboardModifiers={}));class d extends a.HtmlElementSensor{constructor(){super(),this.down="",this.up="",this.modifiers=c.None}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),n.removeEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0}),e.addEventListener("keyup",this.onKeyUp.bind(this),{capture:!0})))}reset(){this.preventDefault=!1,this.stopPropagation=!1,this.down="",this.up="",this.modifiers=c.None}onKeyDown(e){this.keyDown(e),this.setPreventDefaultAndStopPropagation(e)}onKeyUp(e){this.keyUp(e),this.setPreventDefaultAndStopPropagation(e)}keyDown(e){this.updateSensorData(e),this.up="",(0,o.sensitive)(!0,(()=>this.down=e.key))}keyUp(e){this.updateSensorData(e),this.down="",(0,o.sensitive)(!0,(()=>this.up=e.key))}updateSensorData(e){this.preventDefault=!1,this.stopPropagation=!1;const t=e.composedPath();this.elementDataList=(0,s.grabElementData)(t,s.SymDataForSensor,"keyboard",this.elementDataList).data,this.modifiers=l(e),this.revision++}static getKeyAsModifierIfAny(e){let t=c.None;return"Control"===e?t=c.Ctrl:"Shift"===e?t=c.Shift:"Alt"===e?t=c.Alt:"Meta"===e&&(t=c.Meta),t}}function l(e){let t=c.None;return e.ctrlKey?t|=c.Ctrl:t&=~c.Ctrl,e.shiftKey?t|=c.Shift:t&=~c.Shift,e.altKey?t|=c.Alt:t&=~c.Alt,e.metaKey?t|=c.Meta:t&=~c.Meta,t}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),r([o.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[KeyboardEvent]),i("design:returntype",void 0)],d.prototype,"keyDown",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[KeyboardEvent]),i("design:returntype",void 0)],d.prototype,"keyUp",null),t.KeyboardSensor=d,t.extractModifierKeys=l},913:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerSensor=void 0;const o=n(361),s=n(196),a=n(953),c=n(902);class d extends s.BasePointerSensor{constructor(e){super(e),this.pointerButton=s.PointerButton.None,this.tryingDragging=!1,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None}getData(){return this.draggingData}setData(e){this.draggingData=e}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&(n.removeEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),n.removeEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),n.removeEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),n.removeEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),n.removeEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})),this.sourceElement=e,e&&t&&(e.addEventListener("pointerdown",this.onPointerDown.bind(this),{capture:!0}),e.addEventListener("pointermove",this.onPointerMove.bind(this),{capture:!0}),e.addEventListener("pointerup",this.onPointerUp.bind(this),{capture:!0}),e.addEventListener("lostpointercapture",this.onLostPointerCapture.bind(this),{capture:!0}),e.addEventListener("keydown",this.onKeyDown.bind(this),{capture:!0})))}onPointerDown(e){const t=(0,s.extractPointerButton)(e);this.dragStarted||void 0!==this.clickable||t!==s.PointerButton.Left&&t!==s.PointerButton.Right||this.tryClickingOrDragging(e)}onPointerMove(e){(0,s.isPointerButtonDown)(this.pointerButton,e.buttons)?this.tryingDragging?(Math.abs(e.clientX-this.startX)>d.DraggingThreshold||Math.abs(e.clientY-this.startY)>d.DraggingThreshold)&&this.startDragging(e):this.dragStarted?this.dragOver(e):this.clickable&&this.clickingOver(e):this.dragStarted?(this.cancelDragging(),this.reset()):this.clickable&&this.reset()}onPointerUp(e){this.draggingOver?(this.drop(e),this.finishDragging()):this.dragStarted?this.finishDragging():this.clickable&&this.click(e),this.reset()}onLostPointerCapture(e){(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}onKeyDown(e){"Escape"===e.key&&(this.dragStarted||this.clickable)&&(this.cancelDragging(),this.reset())}tryClickingOrDragging(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY),{data:i,window:d}=(0,a.findTargetElementData)(n,r,a.SymDataForSensor,["click","draggable"]),l=null==i?void 0:i.click,u=null==i?void 0:i.draggable;(l||u)&&(this.clickable=l,this.clicking=l,this.draggableData=u,this.tryingDragging=void 0!==u,this.dragSource=null===(t=(0,a.findTargetElementData)(n,r,a.SymDataForSensor,["drag"]).data)||void 0===t?void 0:t.drag,this.pointerButton=(0,s.extractPointerButton)(e),this.startX=e.clientX,this.startY=e.clientY,this.modifiers=(0,c.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.dropped=!1,this.dragTarget=void 0,this.previousDragTarget=void 0,(0,o.standalone)((()=>{var e;null===(e=this.windowSensor)||void 0===e||e.setActiveWindow(d,"pointer")}))),this.revision++}clickingOver(e){this.updateClicking(e),this.revision++}click(e){this.updateClicking(e)&&(this.modifiers=this.immediateModifiers,this.clickX=e.clientX,this.clickY=e.clientY,this.clicked=this.clicking),this.clickable=void 0,this.revision++}startDragging(e){this.updateDragTarget(e),this.clickable=void 0,this.dragStarted=!0,this.dragFinished=!1,this.tryingDragging=!1,this.dropped=!1,this.revision++}dragOver(e){this.updateDragTarget(e),this.draggingOver=!0,this.dropped=!1,this.revision++}drop(e){this.updateDragTarget(e),this.modifiers=this.immediateModifiers,this.dropX=e.clientX,this.dropY=e.clientY,this.dropped=!0,this.revision++}finishDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.revision++}cancelDragging(){this.dragFinished=!0,this.tryingDragging=!1,this.dropped=!1,this.revision++}reset(){this.pointerButton=s.PointerButton.None,this.clickable=void 0,this.clicking=void 0,this.clicked=void 0,this.clickX=1/0,this.clickY=1/0,this.tryingDragging=!1,this.draggableData=void 0,this.dragSource=void 0,this.dragTarget=void 0,this.previousDragTarget=void 0,this.dragStarted=!1,this.dragFinished=!1,this.startX=1/0,this.startY=1/0,this.draggingData=void 0,this.dropAllowed=!1,this.draggingOver=!1,this.positionX=1/0,this.positionY=1/0,this.modifiers=c.KeyboardModifiers.None,this.dropX=1/0,this.dropY=1/0,this.dropped=!1,this.immediatePositionX=1/0,this.immediatePositionY=1/0,this.immediateModifiers=c.KeyboardModifiers.None,this.revision++}updateClicking(e){var t;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY),i=null===(t=(0,a.findTargetElementData)(n,r,a.SymDataForSensor,["click"]).data)||void 0===t?void 0:t.click,o=this.clickable===i;return o&&(this.clicking=i),this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,o}updateDragTarget(e){const t=e.composedPath(),n=document.elementsFromPoint(e.clientX,e.clientY),{data:r,window:i}=(0,a.findTargetElementData)(t,n,a.SymDataForSensor,["drag"]),o=null==r?void 0:r.drag;return o!==this.dragTarget&&(this.previousDragTarget=this.dragTarget,this.dragTarget=o),this.immediateModifiers=(0,c.extractModifierKeys)(e),this.immediatePositionX=e.clientX,this.immediatePositionY=e.clientY,i}whenClickingOrDragging(){(this.draggingOver||this.clickable)&&(this.positionX=this.immediatePositionX,this.positionY=this.immediatePositionY,this.modifiers=this.immediateModifiers)}}d.DraggingThreshold=4,r([o.unobservable,i("design:type",Object)],d.prototype,"clickable",void 0),r([o.unobservable,i("design:type",Boolean)],d.prototype,"tryingDragging",void 0),r([o.unobservable,i("design:type",Object)],d.prototype,"draggingData",void 0),r([o.unobservable,i("design:type",Boolean)],d.prototype,"dropAllowed",void 0),r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"tryClickingOrDragging",null),r([o.transaction,(0,o.options)({reentrance:o.Reentrance.CancelPrevious,trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"clickingOver",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"click",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"startDragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"dragOver",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[PointerEvent]),i("design:returntype",void 0)],d.prototype,"drop",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"finishDragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"cancelDragging",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),r([o.reaction,(0,o.options)({throttling:0}),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"whenClickingOrDragging",null),t.PointerSensor=d},473:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeSensor=void 0;const o=n(361),s=n(379),a=n(813);class c extends s.Sensor{constructor(){super(),this.resizedElements=[],this.observer=new ResizeObserver(this.onResize.bind(this))}reset(){this.doReset()}observeResizeOfRenderingElement(e){const t=a.RxDom.currentNodeInstanceInternal();e?(void 0!==t.resizing&&t.resizing!==this.observer&&t.resizing.unobserve(t.native),t.resizing=this.observer,this.observer.observe(t.native)):t.resizing===this.observer&&(this.observer.unobserve(t.native),t.resizing=void 0)}onResize(e){this.resize(e),this.reset()}resize(e){this.revision++,this.resizedElements=e.map((e=>{const t=e.target;return{borderBoxSize:e.borderBoxSize,contentBoxSize:e.contentBoxSize,contentRect:e.contentRect,resizeData:t.dataForSensor.resize}}))}doReset(){this.resizedElements=[]}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],c.prototype,"reset",null),r([o.transaction,(0,o.options)({trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[Array]),i("design:returntype",void 0)],c.prototype,"resize",null),t.ResizeSensor=c},379:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sensor=void 0;const r=n(361);class i extends r.ObservableObject{constructor(){super(...arguments),this.revision=0,this.elementDataList=[]}get topElementData(){return this.elementDataList.length>0?this.elementDataList[0]:void 0}}t.Sensor=i},808:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WheelSensor=void 0;const o=n(361),s=n(953),a=n(902),c=n(196);class d extends c.BasePointerSensor{constructor(){super(),this.target=void 0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}listen(e,t=!0){const n=this.sourceElement;e!==n&&(n&&n.removeEventListener("wheel",this.onWheel.bind(this),{capture:!0}),this.sourceElement=e,e&&t&&e.addEventListener("wheel",this.onWheel.bind(this),{capture:!0}))}reset(){this.doReset()}onWheel(e){this.doWheel(e)}doWheel(e){this.updateSensorData(e)}doReset(){this.preventDefault=!1,this.stopPropagation=!1,this.modifiers=a.KeyboardModifiers.None,this.positionX=1/0,this.positionY=1/0,this.target=void 0,this.deltaX=1/0,this.deltaY=1/0}updateSensorData(e){var t;this.preventDefault=!1,this.stopPropagation=!1;const n=e.composedPath(),r=document.elementsFromPoint(e.clientX,e.clientY);this.target=null===(t=(0,s.findTargetElementData)(n,r,s.SymDataForSensor,["wheel"]).data)||void 0===t?void 0:t.wheel,this.modifiers=(0,a.extractModifierKeys)(e),this.positionX=e.clientX,this.positionY=e.clientY,this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.revision++}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,Boolean]),i("design:returntype",void 0)],d.prototype,"listen",null),r([o.transaction,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],d.prototype,"reset",null),r([o.transaction,(0,o.options)({reentrance:o.Reentrance.CancelPrevious,trace:o.TraceLevel.Silent}),i("design:type",Function),i("design:paramtypes",[WheelEvent]),i("design:returntype",void 0)],d.prototype,"doWheel",null),t.WheelSensor=d},128:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowSensor=void 0;const o=n(361),s=n(379);class a extends s.Sensor{constructor(){super(...arguments),this.activeData=void 0,this.previousActiveData=void 0}setActiveWindow(e,t=""){e!==this.activeData&&(this.previousActiveData=this.activeData,this.activeData=e)}}r([o.transaction,i("design:type",Function),i("design:paramtypes",[Object,String]),i("design:returntype",void 0)],a.prototype,"setActiveWindow",null),t.WindowSensor=a},886:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;t.Controller=class{}},223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Reentrance=t.Kind=t.TraceLevel=void 0;var r=n(547);Object.defineProperty(t,"TraceLevel",{enumerable:!0,get:function(){return r.TraceLevel}}),function(e){e[e.Plain=0]="Plain",e[e.Transaction=1]="Transaction",e[e.Reaction=2]="Reaction",e[e.Cache=3]="Cache"}(t.Kind||(t.Kind={})),function(e){e[e.PreventWithError=1]="PreventWithError",e[e.WaitAndRestart=0]="WaitAndRestart",e[e.CancelPrevious=-1]="CancelPrevious",e[e.CancelAndWaitPrevious=-2]="CancelAndWaitPrevious",e[e.OverwritePrevious=-3]="OverwritePrevious",e[e.RunSideBySide=-4]="RunSideBySide"}(t.Reentrance||(t.Reentrance={}))},606:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleRef=t.Ref=void 0;const r=n(807),i=n(445);class o{constructor(e,t,n=-1){this.owner=e,this.name=t,this.index=n}get value(){return this.index<0?this.owner[this.name]:this.owner[this.name][this.index]}set value(e){this.index<0?this.owner[this.name]=e:this.owner[this.name][this.index]=e}nonreactiveValue(){return(0,i.nonreactive)((()=>this.value))}observe(){return this.value}unobserve(){throw new Error("not implemented")}static to(e){return new Proxy(e,a)}static toToggle(e){return new Proxy(e,c)}static toCustomToggle(e,t,n){const r=new d(t,n);return new Proxy(e,r)}static sameRefs(e,t){return e.owner===t.owner&&e.name===t.name&&e.index===t.index}static similarRefs(e,t){return e.owner.constructor===t.owner.constructor&&e.name===t.name&&e.index===t.index}}t.Ref=o;class s extends o{constructor(e,t,n,r){super(e,t),this.valueOn=n,this.valueOff=r}toggle(){const e=this.owner,t=this.name;r.Transaction.runAs({hint:`toggle ${e.constructor.name}.${t}`},(()=>{const n=e[t],r=n===this.valueOn||n instanceof o&&this.valueOn instanceof o&&o.sameRefs(n,this.valueOn);e[t]=r?this.valueOff:this.valueOn}))}}t.ToggleRef=s;const a={get:(e,t)=>new o(e,t)},c={get:(e,t)=>new s(e,t,!0,!1)};class d{constructor(e,t){this.value1=e,this.value2=t}get(e,t){return new s(e,t,this.value1,this.value2)}}},445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.options=t.cached=t.reaction=t.transaction=t.unobservable=t.sensitive=t.standalone=t.nonreactive=t.Rx=void 0;const r=n(987),i=n(223),o=n(893),s=n(319),a=n(30),c=n(282),d=n(807);class l{static why(e=!1){return e?c.OperationController.briefWhy():c.OperationController.why()}static getController(e){return c.OperationController.of(e)}static pullLastResult(e,t){return l.getController(e).pullLastResult(t)}static configureCurrentOperation(e){return c.OperationController.configureImpl(void 0,e)}static takeSnapshot(e){return s.Snapshot.takeSnapshot(e)}static dispose(e){s.Snapshot.dispose(e)}static get reactionsAutoStartDisabled(){return a.Hooks.reactionsAutoStartDisabled}static set reactionsAutoStartDisabled(e){a.Hooks.reactionsAutoStartDisabled=e}static get isTraceEnabled(){return r.Dbg.isOn}static get traceOptions(){return r.Dbg.trace}static setTraceMode(e,t){r.Dbg.setTraceMode(e,t)}static setTraceHint(e,t){a.Hooks.setHint(e,t)}static getTraceHint(e,t=!1){return o.ObjectHolder.getHint(e,t)}static setProfilingMode(e,t){a.Hooks.setProfilingMode(e,t)}}t.Rx=l,t.nonreactive=function(e,...t){return c.OperationController.runWithin(void 0,e,...t)},t.standalone=function(e,...t){return c.OperationController.runWithin(void 0,d.Transaction.standalone,e,...t)},t.sensitive=function(e,t,...n){return a.Hooks.sensitive(e,t,...n)},t.unobservable=function(e,t){return a.Hooks.decorateData(!1,e,t)},t.transaction=function e(t,n,r){const o={kind:i.Kind.Transaction};return a.Hooks.decorateOperation(!0,e,o,t,n,r)},t.reaction=function e(t,n,r){const o={kind:i.Kind.Reaction,throttling:-1};return a.Hooks.decorateOperation(!0,e,o,t,n,r)},t.cached=function e(t,n,r){const o={kind:i.Kind.Cache,noSideEffects:!0};return a.Hooks.decorateOperation(!0,e,o,t,n,r)},t.options=function e(t){return a.Hooks.decorateOperationParametrized(e,t)}},547:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceLevel=void 0,t.TraceLevel={ErrorsOnly:{silent:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Transactions:{silent:!1,transaction:!0,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Operations:{silent:!1,transaction:!0,operation:!0,step:!1,monitor:!0,read:!1,write:!1,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Debug:{silent:!1,transaction:!0,operation:!0,step:!0,monitor:!0,read:!0,write:!0,change:!0,obsolete:!0,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0},Silent:{silent:!0,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,error:!0,warning:!0,gc:!1,color:37,prefix:"",margin1:0,margin2:0}}},361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.options=t.cached=t.reaction=t.transaction=t.unobservable=t.sensitive=t.standalone=t.nonreactive=t.Rx=t.TransactionJournal=t.Monitor=t.Transaction=t.Snapshot=t.ObservableObject=t.ToggleRef=t.Ref=t.Controller=t.TraceLevel=t.Reentrance=t.Kind=t.SealedSet=t.SealedMap=t.SealedArray=t.pause=t.all=void 0;var r=n(971);Object.defineProperty(t,"all",{enumerable:!0,get:function(){return r.all}}),Object.defineProperty(t,"pause",{enumerable:!0,get:function(){return r.pause}});var i=n(19);Object.defineProperty(t,"SealedArray",{enumerable:!0,get:function(){return i.SealedArray}});var o=n(250);Object.defineProperty(t,"SealedMap",{enumerable:!0,get:function(){return o.SealedMap}});var s=n(949);Object.defineProperty(t,"SealedSet",{enumerable:!0,get:function(){return s.SealedSet}});var a=n(223);Object.defineProperty(t,"Kind",{enumerable:!0,get:function(){return a.Kind}}),Object.defineProperty(t,"Reentrance",{enumerable:!0,get:function(){return a.Reentrance}}),Object.defineProperty(t,"TraceLevel",{enumerable:!0,get:function(){return a.TraceLevel}});var c=n(886);Object.defineProperty(t,"Controller",{enumerable:!0,get:function(){return c.Controller}});var d=n(606);Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return d.Ref}}),Object.defineProperty(t,"ToggleRef",{enumerable:!0,get:function(){return d.ToggleRef}});var l=n(30);Object.defineProperty(t,"ObservableObject",{enumerable:!0,get:function(){return l.ObservableObject}});var u=n(319);Object.defineProperty(t,"Snapshot",{enumerable:!0,get:function(){return u.Snapshot}});var h=n(807);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return h.Transaction}});var p=n(900);Object.defineProperty(t,"Monitor",{enumerable:!0,get:function(){return p.Monitor}});var f=n(327);Object.defineProperty(t,"TransactionJournal",{enumerable:!0,get:function(){return f.TransactionJournal}});var g=n(445);Object.defineProperty(t,"Rx",{enumerable:!0,get:function(){return g.Rx}}),Object.defineProperty(t,"nonreactive",{enumerable:!0,get:function(){return g.nonreactive}}),Object.defineProperty(t,"standalone",{enumerable:!0,get:function(){return g.standalone}}),Object.defineProperty(t,"sensitive",{enumerable:!0,get:function(){return g.sensitive}}),Object.defineProperty(t,"unobservable",{enumerable:!0,get:function(){return g.unobservable}}),Object.defineProperty(t,"transaction",{enumerable:!0,get:function(){return g.transaction}}),Object.defineProperty(t,"reaction",{enumerable:!0,get:function(){return g.reaction}}),Object.defineProperty(t,"cached",{enumerable:!0,get:function(){return g.cached}}),Object.defineProperty(t,"options",{enumerable:!0,get:function(){return g.options}})},893:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectHolder=t.ObjectRevision=t.Observable=t.Meta=void 0;const r=n(987),i=n(915);var o=n(915);Object.defineProperty(t,"Meta",{enumerable:!0,get:function(){return o.Meta}});t.Observable=class{constructor(e){this.value=e}get isOperation(){return!1}get selfSnapshotId(){return 0}};t.ObjectRevision=class{constructor(e,t,n){this.snapshot=e,this.prev={revision:t||this},this.data=n,this.changes=new Map,this.conflicts=new Map,r.Dbg.isOn&&Object.freeze(this)}};class s{constructor(e,t,n,r,i){this.id=++s.generator,this.unobservable=e,this.proxy=t||new Proxy(this,n),this.head=r,this.editing=void 0,this.editors=0,this.hint=i}static getHint(e,t){const n=i.Meta.get(e,i.Meta.Holder);return void 0!==n?t?`${n.hint}#${n.id}`:n.hint:void 0}}t.ObjectHolder=s,s.generator=19},30:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hooks=t.OptionsImpl=t.ObservableObject=void 0;const r=n(971),i=n(987),o=n(223),s=n(893),a=n(319);class c{constructor(){const e=new.target.prototype,t=s.Meta.getFrom(e,s.Meta.Initial);return h.createObjectHolder(e,this,t,new.target.name).proxy}[Symbol.toStringTag](){const e=s.Meta.get(this,s.Meta.Holder);return a.Dump.obj(e)}}t.ObservableObject=c;const d=Object.freeze({kind:o.Kind.Plain,standalone:!1,order:0,noSideEffects:!1,sensitiveArgs:!1,throttling:Number.MAX_SAFE_INTEGER,reentrance:o.Reentrance.PreventWithError,journal:void 0,monitor:null,trace:void 0});class l{constructor(e,t,n,r,o){this.getter=void 0!==e?e:n.getter,this.setter=void 0!==t?t:n.setter,this.kind=u(d.kind,n.kind,r.kind,o),this.standalone=u(d.standalone,n.standalone,r.standalone,o),this.order=u(d.order,n.order,r.order,o),this.noSideEffects=u(d.noSideEffects,n.noSideEffects,r.noSideEffects,o),this.sensitiveArgs=u(d.sensitiveArgs,n.sensitiveArgs,r.sensitiveArgs,o),this.throttling=u(d.throttling,n.throttling,r.throttling,o),this.reentrance=u(d.reentrance,n.reentrance,r.reentrance,o),this.journal=u(d.journal,n.journal,r.journal,o),this.monitor=u(d.monitor,n.monitor,r.monitor,o),this.trace=u(d.trace,n.trace,r.trace,o),i.Dbg.isOn&&Object.freeze(this)}}function u(e,t,n,r){return void 0===n||t!==e&&r?t:n}t.OptionsImpl=l,l.INITIAL=Object.freeze(new l(r.UNDEF,r.UNDEF,Object.assign({getter:r.UNDEF,setter:r.UNDEF},d),{},!1));class h{getPrototypeOf(e){return Reflect.getPrototypeOf(e.unobservable)}get(e,t,n){let r;const i=a.Snapshot.current().getCurrentRevision(e,t);return r=i.data[t],r instanceof s.Observable&&!r.isOperation?(a.Snapshot.markUsed(r,i,t,e,o.Kind.Plain,!1),r=r.value):t===s.Meta.Holder||(r=Reflect.get(e.unobservable,t,n)),r}set(e,t,n,r){const i=a.Snapshot.edit().getEditableRevision(e,t,n);if(i!==a.ROOT_REV){let o=i.data[t];if(void 0!==o||i.prev.revision.snapshot===a.ROOT_REV.snapshot&&t in e.unobservable==!1){if(void 0===o||o.value!==n||h.sensitivity){const r=null==o?void 0:o.value;i.prev.revision.data[t]===o?(o=i.data[t]=new s.Observable(n),a.Snapshot.markEdited(r,n,!0,i,t,e)):(o.value=n,a.Snapshot.markEdited(r,n,!0,i,t,e))}}else Reflect.set(e.unobservable,t,n,r)}else e.unobservable[t]=n;return!0}has(e,t){return t in a.Snapshot.current().getCurrentRevision(e,t).data||t in e.unobservable}getOwnPropertyDescriptor(e,t){const n=a.Snapshot.current().getCurrentRevision(e,t),r=Reflect.getOwnPropertyDescriptor(n.data,t);return r&&(r.configurable=r.writable=!0),r}ownKeys(e){const t=a.Snapshot.current().getCurrentRevision(e,s.Meta.Holder),n=[];for(const r of Object.getOwnPropertyNames(t.data)){const e=t.data[r];e instanceof s.Observable&&e.isOperation||n.push(r)}return n}static decorateData(e,t,n){if(e){const e=function(){const e=h.acquireObjectHolder(this);return h.proxy.get(e,n,this)},r=function(e){const t=h.acquireObjectHolder(this);return h.proxy.set(t,n,e,this)},i=!0,o=!1;return Object.defineProperty(t,n,{get:e,set:r,enumerable:i,configurable:o})}s.Meta.acquire(t,s.Meta.Initial)[n]=s.Meta.Unobservable}static decorateOperation(e,t,n,o,s,a){var c,d,l,u;void 0!==a&&a!==o||(a=p);const f=null===(c=a.enumerable)||void 0===c||c,g=null===(d=a.configurable)||void 0===d||d,m=h.rememberOperationOptions(o,s,null!==(l=a.value)&&void 0!==l?l:a.get,null!==(u=a.value)&&void 0!==u?u:a.set,!0,g,n,e);if(m.getter===m.setter){const e=function(){const e=h.acquireObjectHolder(this),t=h.createControllerAndGetHook(e,s,m);return Object.defineProperty(e.unobservable,s,{value:t,enumerable:f,configurable:g}),t};return Object.defineProperty(o,s,{get:e,enumerable:f,configurable:!0})}if(m.setter===r.UNDEF){const e=function(){const e=h.acquireObjectHolder(this),t=h.createControllerAndGetHook(e,s,m);return Object.defineProperty(e.unobservable,s,{get:t,enumerable:f,configurable:g}),t.call(this)};return Object.defineProperty(o,s,{get:e,enumerable:f,configurable:!0})}throw(0,i.misuse)(`${o.constructor.name}.${s.toString()} has setter and cannot be decorated with @${t.name}`)}static decorateOperationParametrized(e,t){return function(n,r,i){return h.decorateOperation(!1,e,t,n,r,i)}}static acquireObjectHolder(e){let t=e[s.Meta.Holder];if(!t){if(e!==Object(e)||Array.isArray(e))throw(0,i.misuse)("only objects can be reactive");const n=s.Meta.getFrom(Object.getPrototypeOf(e),s.Meta.Initial),r=new s.ObjectRevision(a.ROOT_REV.snapshot,a.ROOT_REV,Object.assign({},n));s.Meta.set(r.data,s.Meta.Holder,t),i.Dbg.isOn&&a.Snapshot.freezeObjectRevision(r),t=new s.ObjectHolder(e,e,h.proxy,r,e.constructor.name),s.Meta.set(e,s.Meta.Holder,t)}return t}static createObjectHolder(e,t,n,r){const i=a.Snapshot.edit(),o=new s.ObjectHolder(t,void 0,h.proxy,a.ROOT_REV,r);if(i.getEditableRevision(o,s.Meta.Holder,n),!h.reactionsAutoStartDisabled)for(const a in s.Meta.getFrom(e,s.Meta.Reactions))o.proxy[a][s.Meta.Controller].markObsolete();return o}static setProfilingMode(e,t){e?(h.repetitiveUsageWarningThreshold=t&&void 0!==t.repetitiveUsageWarningThreshold?t.repetitiveUsageWarningThreshold:10,h.mainThreadBlockingWarningThreshold=t&&void 0!==t.mainThreadBlockingWarningThreshold?t.mainThreadBlockingWarningThreshold:16.6,h.asyncActionDurationWarningThreshold=t&&void 0!==t.asyncActionDurationWarningThreshold?t.asyncActionDurationWarningThreshold:150,a.Snapshot.garbageCollectionSummaryInterval=t&&void 0!==t.garbageCollectionSummaryInterval?t.garbageCollectionSummaryInterval:100):(h.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER,h.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER,h.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER,a.Snapshot.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER)}static sensitive(e,t,...n){const r=h.sensitivity;h.sensitivity=e;try{return t(...n)}finally{h.sensitivity=r}}static setHint(e,t){if(t){h.acquireObjectHolder(e).hint=t}return e}}t.Hooks=h,h.reactionsAutoStartDisabled=!1,h.repetitiveUsageWarningThreshold=Number.MAX_SAFE_INTEGER,h.mainThreadBlockingWarningThreshold=Number.MAX_SAFE_INTEGER,h.asyncActionDurationWarningThreshold=Number.MAX_SAFE_INTEGER,h.sensitivity=!1,h.proxy=new h,h.createControllerAndGetHook=function(e,t,n){throw(0,i.misuse)("createControllerAndGetHook should never be called")},h.rememberOperationOptions=function(e,t,n,r,o,s,a,c){throw(0,i.misuse)("rememberOperationOptions should never be called")};const p={configurable:!0,enumerable:!0,value:void 0}},915:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Meta=void 0;const n=Object.freeze({});class r{static get(e,t){return e[t]}static set(e,t,n){return Object.defineProperty(e,t,{value:n,configurable:!1,enumerable:!1}),e}static acquire(e,t){let n=e[t];return e.hasOwnProperty(t)||(n=Object.assign({},n),r.set(e,t,n)),n}static getFrom(e,t){var r;return null!==(r=e[t])&&void 0!==r?r:n}}t.Meta=r,r.Holder=Symbol("rxHolder"),r.Controller=Symbol("rxController"),r.Disposed=Symbol("rxDisposed"),r.Initial=Symbol("rxInitial"),r.Reactions=Symbol("rxReactions"),r.Unobservable=Symbol("rxUnobservable")},900:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorImpl=t.Monitor=void 0;const r=n(30),i=n(807);class o extends r.ObservableObject{static create(e,t,n){return s.create(e,t,n)}}t.Monitor=o;class s extends o{constructor(){super(...arguments),this.isActive=!1,this.counter=0,this.workers=new Set,this.internals={activationDelay:-1,activationTimeout:void 0,deactivationDelay:-1,deactivationTimeout:void 0}}enter(e){this.counter++;(this.workers=this.workers.toMutable()).add(e),s.activate(this,this.internals.activationDelay)}leave(e){this.counter--;(this.workers=this.workers.toMutable()).delete(e),s.deactivate(this,this.internals.deactivationDelay)}static create(e,t,n){return i.Transaction.runAs({hint:"Monitor.create"},s.doCreate,e,t,n)}static enter(e,t){e.enter(t)}static leave(e,t){e.leave(t)}static doCreate(e,t,n){const i=new s;return r.Hooks.setHint(i,e),i.internals.activationDelay=t,i.internals.deactivationDelay=n,i}static activate(e,t){t>=0?void 0===e.internals.activationTimeout&&(e.internals.activationTimeout=setTimeout((()=>i.Transaction.runAs({hint:"Monitor.activate",standalone:"isolated"},s.activate,e,-1)),t)):e.counter>0&&(e.isActive=!0)}static deactivate(e,t){t>=0?(clearTimeout(e.internals.deactivationTimeout),e.internals.deactivationTimeout=setTimeout((()=>i.Transaction.runAs({hint:"Monitor.deactivate",standalone:"isolated"},s.deactivate,e,-1)),t)):e.counter<=0&&(e.isActive=!1,e.internals.activationTimeout=void 0)}}t.MonitorImpl=s},282:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rejectRethrow=t.resolveReturn=t.OperationController=void 0;const r=n(987),i=n(223),o=n(886),s=n(893),a=n(319),c=n(807),d=n(900),l=n(30),u=n(327),h=[],p=new s.ObjectHolder(void 0,void 0,l.Hooks.proxy,a.ROOT_REV,"root-holder"),f={revision:a.ROOT_REV,memberName:"root-trigger",usageCount:0};class g extends o.Controller{constructor(e,t){super(),this.ownHolder=e,this.memberName=t}configure(e){return g.configureImpl(this,e)}get options(){return this.peek(void 0).operation.options}get nonreactive(){return this.peek(void 0).operation.value}get args(){return this.use().operation.args}get result(){return this.useOrRun(!0,void 0).value}get error(){return this.use().operation.error}get stamp(){return this.use().revision.snapshot.timestamp}get isUpToDate(){return this.use().isUpToDate}markObsolete(){c.Transaction.runAs({hint:r.Dbg.isOn?`markObsolete(${a.Dump.obj(this.ownHolder,this.memberName)})`:"markObsolete()"},g.markObsolete,this)}pullLastResult(e){return this.useOrRun(!0,e).value}useOrRun(e,t){var n;let o=this.peek(t);const d=o.snapshot,l=o.operation,u=l.options;if(o.isUpToDate||void 0!==o.revision.data[s.Meta.Disposed]||e&&l.cause!==f&&l.successor&&!l.successor.transaction.isFinished)r.Dbg.isOn&&r.Dbg.trace.operation&&(void 0===u.trace||void 0===u.trace.operation||!0===u.trace.operation)&&r.Dbg.log(c.Transaction.current.isFinished?"":"║"," (=)",`${a.Dump.rev(o.revision,this.memberName)} result is reused from T${o.operation.transaction.id}[${o.operation.transaction.hint}]`);else{const r=null===(n=m.current)||void 0===n?void 0:n.options,s=e||u.standalone||u.kind===i.Kind.Reaction||u.kind===i.Kind.Transaction&&r&&(r.noSideEffects||r.kind===i.Kind.Cache)||u.kind===i.Kind.Cache&&(o.revision.snapshot.sealed||o.revision.prev.revision!==a.ROOT_REV),c=u.noSideEffects?this:void 0,l=this.run(o,s,u,c,t),h=l.operation.revision.snapshot;(!e||d===h||h.sealed&&d.timestamp>=h.timestamp)&&(o=l)}const h=o.operation;return a.Snapshot.markUsed(h,o.revision,this.memberName,this.ownHolder,h.options.kind,e),h}static of(e){const t=s.Meta.get(e,s.Meta.Controller);if(!t)throw(0,r.misuse)(`given method is not decorated as reactronic one: ${e.name}`);return t}static configureImpl(e,t){let n;if(n=e?e.edit().operation:m.current,!n||n.transaction.isFinished)throw(0,r.misuse)("a method is expected with reactronic decorator");return n.options=new l.OptionsImpl(n.options.getter,n.options.setter,n.options,t,!1),r.Dbg.isOn&&r.Dbg.trace.write&&r.Dbg.log("║","  ✎",`${n.hint()}.options are changed`),n.options}static runWithin(e,t,...n){let r;const i=m.current;try{m.current=e,r=t(...n)}catch(o){throw e&&(e.error=o),o}finally{m.current=i}return r}static why(){const e=m.current;return e?e.why():p.hint}static briefWhy(){const e=m.current;return e?e.briefWhy():p.hint}static dependencies(){const e=m.current;return e?e.dependencies():["Rx.dependencies should be called from inside of reactive method"]}peek(e){const t=a.Snapshot.current(),n=t.seekRevision(this.ownHolder,this.memberName),r=this.peekFromRevision(n,e),o=r.options.kind!==i.Kind.Transaction&&r.cause!==f&&(t===r.revision.snapshot||t.timestamp<r.obsoleteSince)&&(!r.options.sensitiveArgs||void 0===e||r.args.length===e.length&&r.args.every(((t,n)=>t===e[n])))||void 0!==n.data[s.Meta.Disposed];return{operation:r,isUpToDate:o,snapshot:t,revision:n}}use(){const e=this.peek(void 0);return a.Snapshot.markUsed(e.operation,e.revision,this.memberName,this.ownHolder,e.operation.options.kind,!0),e}edit(){const e=this.ownHolder,t=this.memberName,n=a.Snapshot.edit(),r=n.getEditableRevision(e,t,s.Meta.Holder,this);let i=this.peekFromRevision(r,void 0);if(i.revision!==r){const o=new m(this,r,i);r.data[t]=o.reenterOver(i),n.bumpBy(r.prev.revision.snapshot.timestamp),a.Snapshot.markEdited(i,o,!0,r,t,e),i=o}return{operation:i,isUpToDate:!0,snapshot:n,revision:r}}peekFromRevision(e,t){const n=this.memberName;let i=e.data[n];if(i.controller!==this){const o=r.Dbg.isOn?`${a.Dump.obj(this.ownHolder,n)}/boot`:"MethodController/init",d=e.snapshot.sealed||e.prev.revision!==a.ROOT_REV;i=c.Transaction.runAs({hint:o,standalone:d,token:this},(()=>{const e=this.ownHolder;let r=a.Snapshot.current().getCurrentRevision(e,n),i=r.data[n];if(i.controller!==this){r=a.Snapshot.edit().getEditableRevision(e,n,s.Meta.Holder,this);const o=new m(this,r,i);t&&(o.args=t),o.cause=f,r.data[n]=o,a.Snapshot.markEdited(i,o,!0,r,n,e),i=o}return i}))}return i}run(e,t,n,o,s){const d=r.Dbg.isOn?`${a.Dump.obj(this.ownHolder,this.memberName)}${s&&s.length>0&&("number"==typeof s[0]||"string"==typeof s[0])?` - ${s[0]}`:""}`:`${a.Dump.obj(this.ownHolder,this.memberName)}`;let l=e;const u={hint:d,standalone:t,journal:n.journal,trace:n.trace,token:o},h=c.Transaction.runAs(u,(e=>(l.operation.transaction.isCanceled?(l=this.peek(e),l.operation.options.kind!==i.Kind.Transaction&&l.isUpToDate||(l=this.edit(),r.Dbg.isOn&&r.Dbg.trace.operation&&r.Dbg.log("║","  𝑓",`${l.operation.why()}`),l.operation.run(this.ownHolder.proxy,e))):(l=this.edit(),r.Dbg.isOn&&r.Dbg.trace.operation&&r.Dbg.log("║","  𝑓",`${l.operation.why()}`),l.operation.run(this.ownHolder.proxy,e)),l.operation.result)),s);return l.operation.result=h,l}static markObsolete(e){const t=e.peek(void 0),n=t.snapshot;t.operation.markObsoleteDueTo(t.operation,{revision:a.ROOT_REV,memberName:e.memberName,usageCount:0},n.timestamp,n.reactions)}}t.OperationController=g;class m extends s.Observable{constructor(e,t,n){super(void 0),this.margin=m.current?m.current.margin+1:1,this.transaction=c.Transaction.current,this.controller=e,this.revision=t,this.observables=new Map,n instanceof m?(this.options=n.options,this.args=n.args,this.cause=n.obsoleteDueTo):(this.options=n,this.args=h,this.cause=void 0),this.started=0,this.obsoleteSince=0,this.obsoleteDueTo=void 0,this.successor=void 0}get isOperation(){return!0}get selfSnapshotId(){return this.revision.snapshot.id}hint(){return`${a.Dump.rev(this.revision,this.controller.memberName)}`}get order(){return this.options.order}get"#this"(){return`Operation: ${this.why()}`}why(){let e=Date.now();const t=this.revision.prev.revision.data[this.controller.memberName];let n;return t instanceof m&&(e=0!==t.started?Math.abs(this.started||e)-Math.abs(t.started):1/0),n=this.cause?`   <<   ${v(this.cause,!0).join("   <<   ")}`:this.controller.options.kind===i.Kind.Transaction?"   <<   operation":`   <<   T${this.revision.snapshot.id}[${this.revision.snapshot.hint}]`,`${this.hint()}${n}   (${e!==1/0?`${e}ms since previous run`:"initial run"})`}briefWhy(){return this.cause?v(this.cause,!1)[0]:p.hint}dependencies(){throw(0,r.misuse)("not implemented yet")}wrap(e){return(...t)=>{r.Dbg.isOn&&r.Dbg.trace.step&&this.result&&r.Dbg.logAs({margin2:this.margin},"║","‾\\",`${this.hint()} - step in  `,0,"        │");const n=Date.now(),i=g.runWithin(this,e,...t),o=Date.now()-n;return r.Dbg.isOn&&r.Dbg.trace.step&&this.result&&r.Dbg.logAs({margin2:this.margin},"║","_/",`${this.hint()} - step out `,0,this.started>0?"        │":""),o>l.Hooks.mainThreadBlockingWarningThreshold&&r.Dbg.log("","[!]",this.why(),o,"    *** main thread is too busy ***"),i}}run(e,t){t&&(this.args=t),this.obsoleteSince=a.MAX_TIMESTAMP,this.error?this.result=Promise.reject(this.error):g.runWithin(this,m.run,this,e)}markObsoleteDueTo(e,t,n,o){var s,c,d;if(void 0!==this.observables)if(e.isOperation||this!==t.revision.changes.get(t.memberName)){this.unsubscribeFromAllObservables(),this.obsoleteDueTo=t,this.obsoleteSince=n;const d=this.options.kind===i.Kind.Reaction;r.Dbg.isOn&&(r.Dbg.trace.obsolete||(null===(s=this.options.trace)||void 0===s?void 0:s.obsolete))&&r.Dbg.log(r.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"║":" ",d?"█":"▒",d&&t.revision===a.ROOT_REV?`${this.hint()} is a reaction and will run automatically (order ${this.options.order})`:`${this.hint()} is obsolete due to ${a.Dump.rev(t.revision,t.memberName)} since v${n}${d?` and will run automatically (order ${this.options.order})`:""}`),d?o.push(this):null===(c=this.observers)||void 0===c||c.forEach((e=>e.markObsoleteDueTo(this,{revision:this.revision,memberName:this.controller.memberName,usageCount:0},n,o)));const l=this.transaction;l.snapshot===t.revision.snapshot?(0,r.misuse)("not implemented: running reactions within original transaction"):l.isFinished||this===e||l.cancel(new Error(`T${l.id}[${l.hint}] is canceled due to obsolete ${a.Dump.rev(t.revision,t.memberName)} changed by T${t.revision.snapshot.id}[${t.revision.snapshot.hint}]`),null)}else r.Dbg.isOn&&(r.Dbg.trace.obsolete||(null===(d=this.options.trace)||void 0===d?void 0:d.obsolete))&&r.Dbg.log(" ","x",`${this.hint()} is not obsolete due to its own change to ${a.Dump.rev(t.revision,t.memberName)}`)}runIfNotUpToDate(e,t){const n=this.options.throttling,o=Date.now()+this.started,s=n?n-o:0;if(e||s<0){if(this.isNotUpToDate())try{const e=this.controller.useOrRun(!1,void 0);e.result instanceof Promise&&e.result.catch((t=>{e.options.kind===i.Kind.Reaction&&(0,r.misuse)(`reaction ${e.hint()} failed and will not run anymore: ${t}`,t)}))}catch(a){if(!t)throw a;this.options.kind===i.Kind.Reaction&&(0,r.misuse)(`reaction ${this.hint()} failed and will not run anymore: ${a}`,a)}}else n<Number.MAX_SAFE_INTEGER&&(s>0?setTimeout((()=>this.runIfNotUpToDate(!0,!0)),s):this.addToDeferredReactions())}isNotUpToDate(){return!this.error&&(this.options.kind===i.Kind.Transaction||!this.successor||this.successor.transaction.isCanceled)}reenterOver(e){let t;const n=e.successor;if(n&&!n.transaction.isFinished)switch(r.Dbg.isOn&&r.Dbg.trace.obsolete&&r.Dbg.log("║"," [!]",`${this.hint()} is trying to re-enter over ${n.hint()}`),e.options.reentrance){case i.Reentrance.PreventWithError:if(!n.transaction.isCanceled)throw(0,r.misuse)(`${e.hint()} (${e.why()}) is not reentrant over ${n.hint()} (${n.why()})`);t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/PreventWithError due to canceled T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case i.Reentrance.WaitAndRestart:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/WaitAndRestart due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction);break;case i.Reentrance.CancelAndWaitPrevious:t=new Error(`T${this.transaction.id}[${this.transaction.hint}] is on hold/CancelAndWaitPrevious due to active T${n.transaction.id}[${n.transaction.hint}]`),this.transaction.cancel(t,n.transaction),n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case i.Reentrance.CancelPrevious:n.transaction.cancel(new Error(`T${n.transaction.id}[${n.transaction.hint}] is canceled due to re-entering T${this.transaction.id}[${this.transaction.hint}]`),null);break;case i.Reentrance.RunSideBySide:}return t?this.error=t:e.successor=this,this}static run(e,t){e.enter();try{e.result=e.options.getter.call(t,...e.args)}finally{e.leaveOrAsync()}}enter(){this.options.monitor&&this.monitorEnter(this.options.monitor),r.Dbg.isOn&&r.Dbg.trace.operation&&r.Dbg.log("║","‾\\",`${this.hint()} - enter`,void 0,`    [ ${a.Dump.obj(this.controller.ownHolder,this.controller.memberName)} ]`),this.started=Date.now()}leaveOrAsync(){this.result instanceof Promise?(this.result=this.result.then((e=>(this.value=e,this.leave(!1,"  ⚐","- finished  "," OK ──┘"),e)),(e=>{throw this.error=e,this.leave(!1,"  ⚐","- finished  ","ERR ──┘"),e})),r.Dbg.isOn&&(r.Dbg.trace.operation?r.Dbg.log("║","_/",`${this.hint()} - leave... `,0,"ASYNC ──┐"):r.Dbg.trace.transaction&&r.Dbg.log("║","  ",`${this.why()} ...`,0,"ASYNC"))):(this.value=this.result,this.leave(!0,"_/","- leave"))}leave(e,t,n,i){const o=Date.now()-this.started;this.started=-this.started,r.Dbg.isOn&&r.Dbg.trace.operation&&r.Dbg.log("║",`${t}`,`${this.hint()} ${n}`,o,i),o>(e?l.Hooks.mainThreadBlockingWarningThreshold:l.Hooks.asyncActionDurationWarningThreshold)&&r.Dbg.log("","[!]",this.why(),o,e?"    *** main thread is too busy ***":"    *** async is too long ***"),this.options.monitor&&this.monitorLeave(this.options.monitor)}monitorEnter(e){const t={hint:"Monitor.enter",standalone:"isolated",trace:r.Dbg.isOn&&r.Dbg.trace.monitor?void 0:r.Dbg.global};g.runWithin(void 0,c.Transaction.runAs,t,d.MonitorImpl.enter,e,this.transaction)}monitorLeave(e){c.Transaction.standalone((()=>{const t=()=>{const t={hint:"Monitor.leave",standalone:"isolated",trace:r.Dbg.isOn&&r.Dbg.trace.monitor?void 0:r.Dbg.DefaultLevel};g.runWithin(void 0,c.Transaction.runAs,t,d.MonitorImpl.leave,e,this.transaction)};this.transaction.whenFinished().then(t,t)}))}addToDeferredReactions(){m.deferredReactions.push(this),1===m.deferredReactions.length&&setTimeout(m.processDeferredReactions,0)}static processDeferredReactions(){const e=m.deferredReactions;m.deferredReactions=[];for(const t of e)t.runIfNotUpToDate(!0,!0)}static markUsed(e,t,n,r,o,c){if(o!==i.Kind.Transaction){const o=m.current;if(o&&o.options.kind!==i.Kind.Transaction&&n!==s.Meta.Holder){const i=a.Snapshot.current();i!==t.snapshot&&i.bumpBy(t.snapshot.timestamp);const s=c?-1:i.timestamp;o.subscribeTo(e,t,n,r,s)||o.markObsoleteDueTo(e,{revision:t,memberName:n,usageCount:0},i.timestamp,i.reactions)}}}static markEdited(e,t,n,i,o,s){n?i.changes.set(o,m.current):i.changes.delete(o),r.Dbg.isOn&&r.Dbg.trace.write&&(n?r.Dbg.log("║","  ✎",`${a.Dump.rev(i,o)} is changed from ${R(e,o)} to ${R(t,o)}`):r.Dbg.log("║","  ✎",`${a.Dump.rev(i,o)} is changed from ${R(e,o)} to ${R(t,o)}`,void 0," (same as previous)"))}static isConflicting(e,t){let n=e!==t;return n&&(n=e instanceof m&&e.cause!==f),n}static propagateAllChangesThroughSubscriptions(e){var t;const n=e.timestamp,r=e.reactions;e.changeset.forEach(((e,t)=>{if(e.changes.has(s.Meta.Disposed))for(const i in e.prev.revision.data)m.propagateMemberChangeThroughSubscriptions(!0,n,e,i,t,r);else e.changes.forEach(((i,o)=>m.propagateMemberChangeThroughSubscriptions(!1,n,e,o,t,r)))})),r.sort(x),null===(t=e.options.journal)||void 0===t||t.remember(u.TransactionJournalImpl.createPatch(e.hint,e.changeset))}static revokeAllSubscriptions(e){e.changeset.forEach(((t,n)=>t.changes.forEach(((r,i)=>m.propagateMemberChangeThroughSubscriptions(!0,e.timestamp,t,i,n,void 0)))))}static propagateMemberChangeThroughSubscriptions(e,t,n,i,o,c){var d;if(c){const e=n.prev.revision.data[i];if(void 0!==e&&e instanceof s.Observable){const r={revision:n,memberName:i,usageCount:0};e instanceof m&&(e.obsoleteSince===a.MAX_TIMESTAMP||e.obsoleteSince<=0)&&(e.obsoleteDueTo=r,e.obsoleteSince=t,e.unsubscribeFromAllObservables()),null===(d=e.observers)||void 0===d||d.forEach((n=>n.markObsoleteDueTo(e,r,t,c)))}}const u=n.data[i];u instanceof m?u.revision===n&&void 0!==u.observables&&(l.Hooks.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER&&u.observables.forEach(((e,t)=>{e.usageCount>l.Hooks.repetitiveUsageWarningThreshold&&r.Dbg.log("","[!]",`${u.hint()} uses ${a.Dump.rev(e.revision,e.memberName)} ${e.usageCount} times (consider remembering it in a local variable)`,0," *** WARNING ***")})),e&&u.unsubscribeFromAllObservables()):u instanceof s.Observable&&u.observers&&(u.observers.forEach((e=>{e.observables.delete(u),r.Dbg.isOn&&r.Dbg.trace.read&&r.Dbg.log(r.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"║":" ","-",`${e.hint()} is unsubscribed from own-changed ${a.Dump.rev(n,i)}`)})),u.observers=void 0)}static enqueueDetectedReactions(e){const t=m.queuedReactions,n=0===t.length;for(const r of e.reactions)t.push(r);if(n){let e=0;for(;e<t.length;){t[e].runIfNotUpToDate(!1,!0),e++}m.queuedReactions=[]}}unsubscribeFromAllObservables(){var e;null===(e=this.observables)||void 0===e||e.forEach(((e,t)=>{var n;t.observers.delete(this),r.Dbg.isOn&&(r.Dbg.trace.read||(null===(n=this.options.trace)||void 0===n?void 0:n.read))&&r.Dbg.log(r.Dbg.trace.transaction&&!a.Snapshot.current().sealed?"║":" ","-",`${this.hint()} is unsubscribed from ${a.Dump.rev(e.revision,e.memberName)}`)})),this.observables=void 0}subscribeTo(e,t,n,i,o){var s,c,d;const u=m.canSubscribe(e,t,n,i,o);if(u){let i=0;if(l.Hooks.repetitiveUsageWarningThreshold<Number.MAX_SAFE_INTEGER){const t=this.observables.get(e);i=t?t.usageCount+1:1}if(void 0!==this.observables){e.observers||(e.observers=new Set);const o={revision:t,memberName:n,usageCount:i};e.observers.add(this),this.observables.set(e,o),r.Dbg.isOn&&(r.Dbg.trace.read||(null===(s=this.options.trace)||void 0===s?void 0:s.read))&&r.Dbg.log("║","  ∞ ",`${this.hint()} is subscribed to ${a.Dump.rev(t,n)}${o.usageCount>1?` (${o.usageCount} times)`:""}`)}else r.Dbg.isOn&&(r.Dbg.trace.read||(null===(c=this.options.trace)||void 0===c?void 0:c.read))&&r.Dbg.log("║","  x ",`${this.hint()} is obsolete and is NOT subscribed to ${a.Dump.rev(t,n)}`)}else r.Dbg.isOn&&(r.Dbg.trace.read||(null===(d=this.options.trace)||void 0===d?void 0:d.read))&&r.Dbg.log("║","  x ",`${this.hint()} is NOT subscribed to already obsolete ${a.Dump.rev(t,n)}`);return u}static canSubscribe(e,t,n,r,i){let o=!t.snapshot.sealed||e===r.head.data[n];return o&&-1!==i&&(o=!(e instanceof m&&i>=e.obsoleteSince)),o}static createControllerAndGetHook(e,t,n){const r=new g(e,t),i=(...e)=>r.useOrRun(!1,e).result;return s.Meta.set(i,s.Meta.Controller,r),i}static rememberOperationOptions(e,t,n,r,o,c,d,u){const h=s.Meta.acquire(e,s.Meta.Initial);let f=h[t];const v=f?f.controller:new g(p,t),R=f?f.options:l.OptionsImpl.INITIAL;if(h[t]=f=new m(v,a.ROOT_REV,new l.OptionsImpl(n,r,R,d,u)),f.options.kind===i.Kind.Reaction&&f.options.throttling<Number.MAX_SAFE_INTEGER){s.Meta.acquire(e,s.Meta.Reactions)[t]=f}else if(f.options.kind===i.Kind.Reaction&&f.options.throttling>=Number.MAX_SAFE_INTEGER){delete s.Meta.getFrom(e,s.Meta.Reactions)[t]}return f.options}static init(){Object.freeze(h),Object.freeze(f),r.Dbg.getMergedTraceOptions=b,a.Snapshot.markUsed=m.markUsed,a.Snapshot.markEdited=m.markEdited,a.Snapshot.isConflicting=m.isConflicting,a.Snapshot.propagateAllChangesThroughSubscriptions=m.propagateAllChangesThroughSubscriptions,a.Snapshot.revokeAllSubscriptions=m.revokeAllSubscriptions,a.Snapshot.enqueueDetectedReactions=m.enqueueDetectedReactions,l.Hooks.createControllerAndGetHook=m.createControllerAndGetHook,l.Hooks.rememberOperationOptions=m.rememberOperationOptions,Promise.prototype.then=y;try{Object.defineProperty(globalThis,"rWhy",{get:g.why,configurable:!1,enumerable:!1}),Object.defineProperty(globalThis,"rBriefWhy",{get:g.briefWhy,configurable:!1,enumerable:!1})}catch(e){}try{Object.defineProperty(n.g,"rWhy",{get:g.why,configurable:!1,enumerable:!1}),Object.defineProperty(n.g,"rBriefWhy",{get:g.briefWhy,configurable:!1,enumerable:!1})}catch(e){}}}function v(e,t){const n=[];let r=e.revision.data[e.memberName];for(;r instanceof m&&r.obsoleteDueTo;)t&&n.push(a.Dump.rev(e.revision,e.memberName)),r=(e=r.obsoleteDueTo).revision.data[e.memberName];return n.push(a.Dump.rev(e.revision,e.memberName)),t&&n.push(e.revision.snapshot.hint),n}function R(e,t){let n="";return n=Array.isArray(e)?`Array(${e.length})`:e instanceof Set?`Set(${e.size})`:e instanceof Map?`Map(${e.size})`:e instanceof m?`${a.Dump.rev(e.revision,t)}`:e===s.Meta.Disposed?"<disposed>":null!=e?e.toString().slice(0,20):"∅",n}function b(e){const t=c.Transaction.current;let n=r.Dbg.merge(t.options.trace,t.id>1?31+t.id%6:37,t.id>1?`T${t.id}`:`-${a.Snapshot.idGen.toString().replace(/[0-9]/g,"-")}`,r.Dbg.global);return n=r.Dbg.merge({margin1:t.margin},void 0,void 0,n),m.current&&(n=r.Dbg.merge({margin2:m.current.margin},void 0,void 0,n)),e&&(n=r.Dbg.merge(e,void 0,void 0,n)),n}m.current=void 0,m.queuedReactions=[],m.deferredReactions=[];const D=Promise.prototype.then;function y(e,t){const n=c.Transaction.current;if(!n.isFinished){e||(e=w),t||(t=S);const r=m.current;r&&(e=r.wrap(e),t=r.wrap(t)),e=n.wrap(e,!1),t=n.wrap(t,!0)}return D.call(this,e,t)}function x(e,t){return e.order-t.order}function w(e){return e}function S(e){throw e}t.resolveReturn=w,t.rejectRethrow=S,m.init()},319:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSnapshotOptions=t.ROOT_REV=t.Dump=t.Snapshot=t.UNDEFINED_TIMESTAMP=t.MAX_TIMESTAMP=void 0;const r=n(971),i=n(987),o=n(281),s=n(19),a=n(250),c=n(949),d=n(893);t.MAX_TIMESTAMP=Number.MAX_SAFE_INTEGER,t.UNDEFINED_TIMESTAMP=t.MAX_TIMESTAMP-1,Object.defineProperty(d.ObjectHolder.prototype,"#this",{configurable:!1,enumerable:!1,get(){const e={},t=l.current().getCurrentRevision(this,"#this").data;for(const n in t){const r=t[n];r instanceof d.Observable?e[n]=r.value:r===d.Meta.Unobservable?e[n]=this.unobservable[n]:e[n]=r}return e}});class l{constructor(e){this.id=++l.idGen,this.options=null!=e?e:t.DefaultSnapshotOptions,this.stamp=t.UNDEFINED_TIMESTAMP,this.bumper=100,this.changeset=new Map,this.reactions=[],this.sealed=!1}get hint(){var e;return null!==(e=this.options.hint)&&void 0!==e?e:"noname"}get timestamp(){return this.stamp}seekRevision(e,n){let r=e.editing;if(r&&r.snapshot!==this&&(r=this.changeset.get(e),r&&(e.editing=r)),!r)for(r=e.head;r!==t.ROOT_REV&&r.snapshot.timestamp>this.timestamp;)r=r.prev.revision;return r}getCurrentRevision(e,n){const r=this.seekRevision(e,n);if(r===t.ROOT_REV)throw(0,i.misuse)(`object ${u.obj(e)} doesn't exist in snapshot v${this.stamp} (${this.hint})`);return r}getEditableRevision(e,n,r,o){let s=this.seekRevision(e,n);const a=s.data[n];if(a!==d.Meta.Unobservable){if(this.checkIfEditable(e,s,n,a,r,o),s.snapshot!==this){const t=Object.assign({},n===d.Meta.Holder?r:s.data);Reflect.set(t,d.Meta.Holder,e),s=new d.ObjectRevision(this,s,t),this.changeset.set(e,s),e.editing=s,e.editors++,i.Dbg.isOn&&i.Dbg.trace.write&&i.Dbg.log("║","  ⎘",`${u.obj(e)} is cloned`)}}else s=t.ROOT_REV;return s}static takeSnapshot(e){return e[d.Meta.Holder]["#this"]}static dispose(e){const t=l.edit(),n=d.Meta.get(e,d.Meta.Holder);void 0!==n&&l.doDispose(t,n)}static doDispose(e,n){const r=e.getEditableRevision(n,d.Meta.Disposed,d.Meta.Disposed);return r!==t.ROOT_REV&&(r.data[d.Meta.Disposed]=d.Meta.Disposed,l.markEdited(d.Meta.Disposed,d.Meta.Disposed,!0,r,d.Meta.Disposed,n)),r}checkIfEditable(e,n,r,o,s,a){if(this.sealed)throw(0,i.misuse)(`observable property ${u.obj(e,r)} can only be modified inside transaction`);if(r!==d.Meta.Holder&&s!==d.Meta.Holder){if((n.snapshot!==this||n.prev.revision!==t.ROOT_REV)&&void 0!==this.options.token&&a!==this.options.token)throw(0,i.misuse)(`${this.hint} should not have side effects (trying to change ${u.rev(n,r)})`);if(n===t.ROOT_REV)throw(0,i.misuse)(`member ${u.rev(n,r)} doesn't exist in snapshot v${this.stamp} (${this.hint})`)}}acquire(e){if(!this.sealed&&this.stamp===t.UNDEFINED_TIMESTAMP){const n=void 0===this.options.token||e.stamp===t.UNDEFINED_TIMESTAMP;this.stamp=n?l.stampGen:e.stamp,l.pending.push(this),void 0===l.oldest&&(l.oldest=this),i.Dbg.isOn&&i.Dbg.trace.transaction&&i.Dbg.log("╔══",`v${this.stamp}`,`${this.hint}`)}}bumpBy(e){e>this.bumper&&(this.bumper=e)}rebase(){let e;return this.changeset.size>0&&(this.changeset.forEach(((t,n)=>{if(t.prev.revision!==n.head){const r=l.merge(t,n.head);t.conflicts.size>0&&(e||(e=[]),e.push(t)),i.Dbg.isOn&&i.Dbg.trace.transaction&&i.Dbg.log("╠╝","",`${u.rev(t)} is merged with ${u.rev(n.head)} among ${r} properties with ${t.conflicts.size} conflicts.`)}})),void 0===this.options.token?this.bumper>100?(this.bumper=this.stamp,this.stamp=++l.stampGen):this.stamp=this.bumper+1:this.stamp=this.bumper),e}static merge(e,t){let n=0;const o=t.changes.has(d.Meta.Disposed),s=Object.assign({},t.data);return e.changes.forEach(((r,a)=>{if(n++,s[a]=e.data[a],o||a===d.Meta.Disposed)o!==(a===d.Meta.Disposed)&&(i.Dbg.isOn&&i.Dbg.trace.change&&i.Dbg.log("║╠","",`${u.rev(e,a)} <> ${u.rev(t,a)}`,0," *** CONFLICT ***"),e.conflicts.set(a,t));else{const n=l.isConflicting(t.data[a],e.prev.revision.data[a]);n&&e.conflicts.set(a,t),i.Dbg.isOn&&i.Dbg.trace.change&&i.Dbg.log("║╠","",`${u.rev(e,a)} ${n?"<>":"=="} ${u.rev(t,a)}`,0,n?" *** CONFLICT ***":void 0)}})),r.Utils.copyAllMembers(s,e.data),e.prev.revision=t,n}applyOrDiscard(e){this.sealed=!0,this.changeset.forEach(((n,r)=>{l.sealObjectRevision(r,n),r.editors--,0===r.editors&&(r.editing=void 0),e||(r.head=n,l.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(l.totalObjectRevisionCount++,n.prev.revision===t.ROOT_REV&&l.totalObjectHolderCount++))})),i.Dbg.isOn&&(i.Dbg.trace.change&&!e&&this.changeset.forEach(((e,n)=>{const r=[];e.changes.forEach(((e,t)=>r.push(t.toString())));const o=r.join(", ");i.Dbg.log("║","√",`${u.rev(e)} (${o}) is ${e.prev.revision===t.ROOT_REV?"constructed":`applied on top of ${u.rev(e.prev.revision)}`}`)})),i.Dbg.trace.transaction&&i.Dbg.log(this.stamp<t.UNDEFINED_TIMESTAMP?"╚══":"═══",`v${this.stamp}`,`${this.hint} - ${e?"CANCEL":"APPLY"}(${this.changeset.size})${e?` - ${e}`:""}`)),e||l.propagateAllChangesThroughSubscriptions(this)}static sealObjectRevision(e,t){if(t.changes.has(d.Meta.Disposed))for(const n in t.prev.revision.data)t.data[n]=d.Meta.Disposed;else t.changes.forEach(((n,r)=>l.sealObservable(t.data[r],r,e.proxy.constructor.name)));i.Dbg.isOn&&l.freezeObjectRevision(t)}static sealObservable(e,t,n){if(e instanceof d.Observable){const r=e.value;if(null!=r){const i=Object.getPrototypeOf(r)[o.Sealant.SealedType];i&&(e.value=o.Sealant.seal(r,i,n,t))}}}collectGarbage(){i.Dbg.isOn&&(r.Utils.freezeMap(this.changeset),Object.freeze(this.reactions),Object.freeze(this)),this.triggerGarbageCollection()}static freezeObjectRevision(e){return Object.freeze(e.data),r.Utils.freezeMap(e.changes),r.Utils.freezeMap(e.conflicts),e}triggerGarbageCollection(){if(0!==this.stamp&&this===l.oldest){const e=l.pending;e.sort(((e,t)=>e.stamp-t.stamp));let t=0;for(;t<e.length&&e[t].sealed;)e[t].unlinkHistory(),t++;l.pending=e.slice(t),l.oldest=l.pending[0];const n=Date.now();n-l.lastGarbageCollectionSummaryTimestamp>l.garbageCollectionSummaryInterval&&(i.Dbg.log("","[G]",`Total object/revision count: ${l.totalObjectHolderCount}/${l.totalObjectRevisionCount}`),l.lastGarbageCollectionSummaryTimestamp=n)}}unlinkHistory(){i.Dbg.isOn&&i.Dbg.trace.gc&&i.Dbg.log("","[G]",`Dismiss history below v${this.stamp}t${this.id} (${this.hint})`),this.changeset.forEach(((e,n)=>{i.Dbg.isOn&&i.Dbg.trace.gc&&e.prev.revision!==t.ROOT_REV&&i.Dbg.log(" ","  ",`${u.rev(e.prev.revision)} is ready for GC because overwritten by ${u.rev(e)}`),l.garbageCollectionSummaryInterval<Number.MAX_SAFE_INTEGER&&(e.prev.revision!==t.ROOT_REV&&l.totalObjectRevisionCount--,e.changes.has(d.Meta.Disposed)&&l.totalObjectHolderCount--),e.prev.revision=t.ROOT_REV}))}static _init(){const e=t.ROOT_REV.snapshot;e.acquire(e),e.applyOrDiscard(),e.collectGarbage(),l.freezeObjectRevision(t.ROOT_REV),l.idGen=100,l.stampGen=101,l.oldest=void 0,s.SealedArray.prototype,a.SealedMap.prototype,c.SealedSet.prototype}}t.Snapshot=l,l.idGen=-1,l.stampGen=1,l.pending=[],l.oldest=void 0,l.garbageCollectionSummaryInterval=Number.MAX_SAFE_INTEGER,l.lastGarbageCollectionSummaryTimestamp=Date.now(),l.totalObjectHolderCount=0,l.totalObjectRevisionCount=0,l.current=r.UNDEF,l.edit=r.UNDEF,l.markUsed=r.UNDEF,l.markEdited=r.UNDEF,l.isConflicting=r.UNDEF,l.propagateAllChangesThroughSubscriptions=e=>{},l.revokeAllSubscriptions=e=>{},l.enqueueDetectedReactions=e=>{};class u{static obj(e,t,n,r,i,o){const s=void 0!==t?`.${t.toString()}`:"";return void 0===e?`root${s}`:void 0===n?`${e.hint}${s} #${e.id}`:`${e.hint}${s} #${e.id}t${r}v${n}${void 0!==i&&0!==i?`t${i}`:""}`}static rev(e,t){const n=d.Meta.get(e.data,d.Meta.Holder),r=void 0!==t?e.data[t]:void 0;return u.obj(n,t,e.snapshot.timestamp,e.snapshot.id,null==r?void 0:r.selfSnapshotId)}static conflicts(e){return e.map((e=>{const t=[];return e.conflicts.forEach(((n,r)=>{t.push(u.conflictingMemberHint(r,e,n))})),t.join(", ")})).join(", ")}static conflictingMemberHint(e,t,n){return`${n.snapshot.hint} (${u.rev(n,e)})`}}t.Dump=u,t.ROOT_REV=new d.ObjectRevision(new l({hint:"root-rev"}),void 0,{}),t.DefaultSnapshotOptions=Object.freeze({hint:"noname",standalone:!1,journal:void 0,trace:void 0,token:void 0})},807:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=n(971),o=n(987),s=n(319);class a{static get current(){return c.current}whenFinished(){return r(this,void 0,void 0,(function*(){}))}static create(e){return new c(e)}static run(e,...t){return c.run(e,...t)}static runAs(e,t,...n){return c.runAs(e,t,...n)}static standalone(e,...t){return c.standalone(e,...t)}static isFrameOver(e=1,t=14){return c.isFrameOver(e,t)}static requestNextFrame(e=0){return c.requestNextFrame(e)}static get isCanceled(){return c.current.isCanceled}}t.Transaction=a;class c extends a{constructor(e){super(),this.margin=void 0!==c.curr?c.curr.margin+1:-1,this.snapshot=new s.Snapshot(e),this.pending=0,this.sealed=!1,this.canceled=void 0,this.after=void 0,this.promise=void 0,this.resolve=i.UNDEF,this.reject=i.UNDEF}static get current(){return c.curr}get id(){return this.snapshot.id}get hint(){return this.snapshot.hint}get options(){return this.snapshot.options}get timestamp(){return this.snapshot.timestamp}get error(){return this.canceled}run(e,...t){return this.guard(),this.runImpl(void 0,e,...t)}inspect(e,...t){const n=c.inspection;try{return c.inspection=!0,o.Dbg.isOn&&o.Dbg.trace.transaction&&o.Dbg.log(" "," ",`T${this.id}[${this.hint}] is being inspected by T${c.curr.id}[${c.curr.hint}]`),this.runImpl(void 0,e,...t)}finally{c.inspection=n}}apply(){if(this.pending>0)throw(0,o.misuse)("cannot apply transaction having active operations running");if(this.canceled)throw(0,o.misuse)(`cannot apply transaction that is already canceled: ${this.canceled}`);this.seal()}seal(){return this.sealed||this.run(c.seal,this,void 0,void 0),this}wrap(e,t){this.guard();const n=this,r=c.inspection;r?n.inspect(c.wrapperEnter,n,t):n.run(c.wrapperEnter,n,t);return(...i)=>r?n.inspect(c.wrapperLeave,n,t,e,...i):n.runImpl(void 0,c.wrapperLeave,n,t,e,...i)}static wrapperEnter(e,t){t||e.pending++}static wrapperLeave(e,t,n,...r){e.pending--;return n(...r)}cancel(e,t){return this.runImpl(void 0,c.seal,this,e,null===t?c.none:t),this}get isCanceled(){return void 0!==this.canceled}get isFinished(){return this.sealed&&0===this.pending}whenFinished(){return r(this,void 0,void 0,(function*(){this.isFinished||(yield this.acquirePromise())}))}static run(e,...t){return c.runAs(null,e,...t)}static runAs(e,t,...n){const r=c.acquire(e),i=r!==c.curr;r.guard();let o=r.runImpl(null==e?void 0:e.trace,t,...n);return i&&(o instanceof Promise&&(o=c.standalone((()=>r.wrapToRetry(r.wrapToWaitUntilFinish(o),t,...n)))),r.seal()),o}static standalone(e,...t){const n=c.curr;try{return c.curr=c.none,e(...t)}finally{c.curr=n}}static isFrameOver(e=1,t=14){c.frameOverCounter++;let n=c.frameOverCounter%e==0;if(n){n=performance.now()-c.frameStartTime>t}return n}static requestNextFrame(e=0){return(0,i.pause)(e)}static acquire(e){const t=c.curr;return(null==e?void 0:e.standalone)||t.isFinished||"isolated"===t.options.standalone?new c(e):c.curr}guard(){if(this.sealed&&c.curr!==this)throw(0,o.misuse)("cannot run transaction that is already sealed")}wrapToRetry(e,t,...n){return r(this,void 0,void 0,(function*(){try{const t=yield e;if(this.canceled)throw this.canceled;return t}catch(r){if(this.after!==c.none){if(this.after){yield this.after.whenFinished();const e={hint:`${this.hint} - restart after T${this.after.id}`,standalone:"isolated"!==this.options.standalone||"isolated",trace:this.snapshot.options.trace,token:this.snapshot.options.token};return c.runAs(e,t,...n)}throw r}return}}))}wrapToWaitUntilFinish(e){return r(this,void 0,void 0,(function*(){const t=yield e;return yield this.whenFinished(),t}))}runImpl(e,t,...n){let r;const i=c.curr;try{if(i===c.none&&(c.frameStartTime=performance.now(),c.frameOverCounter=0),c.curr=this,this.pending++,this.snapshot.acquire(i.snapshot),r=t(...n),this.sealed&&1===this.pending)if(this.canceled){if(!this.after)throw this.canceled}else this.checkForConflicts()}catch(o){throw c.inspection||this.cancel(o),o}finally{this.pending--,this.sealed&&0===this.pending?(this.applyOrDiscard(),c.curr=i,c.standalone(s.Snapshot.enqueueDetectedReactions,this.snapshot)):c.curr=i}return r}static seal(e,t,n){!e.canceled&&t&&(e.canceled=t,e.after=n,o.Dbg.isOn&&o.Dbg.trace.transaction&&(o.Dbg.log("║"," [!]",`${t.message}`,void 0," *** CANCEL ***"),n&&n!==c.none&&o.Dbg.log("║"," [!]",`T${e.id}[${e.hint}] will be restarted${e!==n?` after T${n.id}[${n.hint}]`:""}`)),s.Snapshot.revokeAllSubscriptions(e.snapshot)),e.sealed=!0}checkForConflicts(){const e=this.snapshot.rebase();e&&this.tryResolveConflicts(e)}tryResolveConflicts(e){throw(0,o.error)(`T${this.id}[${this.hint}] conflicts with: ${s.Dump.conflicts(e)}`,void 0)}applyOrDiscard(){try{o.Dbg.isOn&&o.Dbg.trace.change&&o.Dbg.log("╠═","","",void 0,"changes"),this.snapshot.applyOrDiscard(this.canceled),this.snapshot.collectGarbage(),this.promise&&(this.canceled&&!this.after?this.reject(this.canceled):this.resolve()),o.Dbg.isOn&&Object.freeze(this)}catch(e){throw(0,o.fatal)(e),e}}acquirePromise(){return this.promise||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))),this.promise}static getCurrentSnapshot(){return c.curr.snapshot}static editSnapshot(){if(c.inspection)throw(0,o.misuse)("cannot make changes during transaction inspection");return c.curr.snapshot}static _init(){s.Snapshot.current=c.getCurrentSnapshot,s.Snapshot.edit=c.editSnapshot,c.none.sealed=!0,c.none.snapshot.applyOrDiscard(),s.Snapshot._init()}}c.none=new c({hint:"<none>"}),c.curr=c.none,c.inspection=!1,c.frameStartTime=0,c.frameOverCounter=0,c._init()},327:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionJournalImpl=t.TransactionJournal=void 0;const r=n(30),i=n(893),o=n(319),s=n(807),a=n(281);class c extends r.ObservableObject{static create(){return new d}}t.TransactionJournal=c;class d extends c{constructor(){super(...arguments),this._capacity=5,this._items=[],this._position=0}get capacity(){return this._capacity}set capacity(e){this._capacity=e,e<this._items.length&&this._items.splice(0,this._items.length-e)}get items(){return this._items}get canUndo(){return this._items.length>0&&this._position>0}get canRedo(){return this._position<this._items.length}remember(e){s.Transaction.runAs({hint:"TransactionJournal.remember",standalone:"isolated"},(()=>{const t=this._items=this._items.toMutable();t.length>=this._capacity?t.shift():t.splice(this._position),t.push(e),this._position=t.length}))}undo(e=1){s.Transaction.runAs({hint:"TransactionJournal.undo",standalone:"isolated"},(()=>{let t=this._position-1;for(;t>=0&&e>0;){const n=this._items[t];d.applyPatch(n,!0),t--,e--}this._position=t+1}))}redo(e=1){s.Transaction.runAs({hint:"TransactionJournal.redo",standalone:"isolated"},(()=>{let t=this._position;for(;t<this._items.length&&e>0;){const n=this._items[t];d.applyPatch(n,!1),t++,e--}this._position=t}))}static createPatch(e,t){const n={hint:e,objects:new Map};return t.forEach(((e,t)=>{const r={current:{},former:{}},s=e.prev.revision!==o.ROOT_REV?e.prev.revision.data:void 0;e.changes.forEach(((t,n)=>{r.current[n]=l(e.data[n]),s&&(r.former[n]=l(s[n]))})),s||(delete r.current[i.Meta.Disposed],r.former[i.Meta.Disposed]=i.Meta.Disposed),n.objects.set(t.proxy,r)})),n}static applyPatch(e,t){const n=o.Snapshot.edit();e.objects.forEach(((e,r)=>{const s=i.Meta.get(r,i.Meta.Holder),a=t?e.former:e.current;if(void 0===a[i.Meta.Disposed])for(const t in a){const e=a[t],r=n.getEditableRevision(s,t,e);if(r.snapshot===n){r.data[t]=new i.Observable(e);const n=r.prev.revision.data[t];o.Snapshot.markEdited(n,e,n!==e,r,t,s)}}else o.Snapshot.doDispose(n,s)}))}}function l(e){const t=e.value,n=null==t?void 0:t[a.Sealant.CreateCopy];return void 0!==n?n.call(t):t}t.TransactionJournalImpl=d},987:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dbg=t.fatal=t.misuse=t.error=void 0,t.error=function(e,t){return n.isOn&&n.trace.error&&n.log("█"," ███",e,void 0," *** ERROR ***",t),new Error(e)},t.misuse=function(e,t){const r=new Error(e);return n.log(" "," ███",e,void 0," *** ERROR / MISUSE ***",null!=t?t:r),r},t.fatal=function(e){return n.log(" "," ███",e.message,void 0," *** FATAL ***",e),e};class n{static get trace(){return this.getMergedTraceOptions(void 0)}static setTraceMode(e,t){if(n.isOn=e,n.global=t||n.DefaultLevel,e){const e=n.global,t=Object.keys(n.global).filter((t=>!0===e[t])).join(", ");n.log("","",`Reactronic trace is enabled: ${t}`),n.log("","","Method-level trace can be configured with @options({ trace: ... }) decorator")}else n.log("","","Reactronic trace is disabled")}static log(e,t,r,i=0,o,s){n.logAs(void 0,e,t,r,i,o,s)}static logAs(e,t,r,i,o=0,s,a){const c=n.getMergedTraceOptions(e),d="  ".repeat(c.margin1>=0?c.margin1:0),l="  ".repeat(c.margin2);(e&&void 0!==e.silent?e.silent:c.silent)||(console.log("[37m%s[0m ["+c.color+"m%s %s%s[0m ["+c.color+"m%s%s[0m ["+c.color+"m%s[0m%s","",c.prefix,c.transaction?d:"",c.transaction?t:t.replace(/./g," "),l,r,i,(void 0!==s?`${s}`:"")+(o>2?`    [ ${o}ms ]`:"")),a&&console.log(a))}static merge(e,t,n,r){const i=e?{silent:void 0!==e.silent?e.silent:r.silent,transaction:void 0!==e.transaction?e.transaction:r.transaction,operation:void 0!==e.operation?e.operation:r.operation,step:void 0!==e.step?e.step:r.step,monitor:void 0!==e.monitor?e.monitor:r.monitor,read:void 0!==e.read?e.read:r.read,write:void 0!==e.write?e.write:r.write,change:void 0!==e.change?e.change:r.change,obsolete:void 0!==e.obsolete?e.obsolete:r.obsolete,error:void 0!==e.error?e.error:r.error,warning:void 0!==e.warning?e.warning:r.warning,gc:void 0!==e.gc?e.gc:r.gc,color:void 0!==e.color?e.color:r.color,prefix:void 0!==e.prefix?e.prefix:r.prefix,margin1:void 0!==e.margin1?e.margin1:r.margin1,margin2:void 0!==e.margin2?e.margin2:r.margin2}:Object.assign({},r);return void 0!==t&&(i.color=t),void 0!==n&&(i.prefix=n),i}}t.Dbg=n,n.DefaultLevel={silent:!1,error:!1,warning:!1,transaction:!1,operation:!1,step:!1,monitor:!1,read:!1,write:!1,change:!1,obsolete:!1,gc:!1,color:37,prefix:"",margin1:0,margin2:0},n.isOn=!1,n.global=n.DefaultLevel,n.getMergedTraceOptions=e=>n.global},281:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sealant=void 0;const r=n(987);class i{static seal(e,t,n,o){let s=e;const a=s[i.CreateCopy];return a&&(s=a.call(s)),r.Dbg.isOn&&r.Dbg.trace.write&&r.Dbg.log("║"," ",`${n}.${o.toString()} - collection is sealed`),Object.setPrototypeOf(s,t),Object.freeze(s),s}static toMutable(e){const t=e[i.CreateCopy];return t&&(e=t.call(e)),e}static error(e){return(0,r.misuse)("use toMutable to create mutable copy of sealed collection")}}t.Sealant=i,i.SealedType=Symbol("rxSealedType"),i.CreateCopy=Symbol("rxCreateCopy")},19:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedArray=void 0;const r=n(281);class i extends Array{pop(){throw r.Sealant.error(this)}push(...e){throw r.Sealant.error(this)}sort(e){throw r.Sealant.error(this)}splice(e,t,...n){throw r.Sealant.error(this)}unshift(...e){throw r.Sealant.error(this)}[r.Sealant.CreateCopy](){return this.slice()}slice(e,t){const n=super.slice(e,t);return Object.setPrototypeOf(n,Array.prototype),n}}t.SealedArray=i,Object.defineProperty(Array.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return r.Sealant.toMutable(this)}}),Object.defineProperty(Array.prototype,r.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},250:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedMap=void 0;const r=n(281);class i extends Map{clear(){throw r.Sealant.error(this)}delete(e){throw r.Sealant.error(this)}set(e,t){throw r.Sealant.error(this)}[r.Sealant.CreateCopy](){return new Map(this.entries())}}t.SealedMap=i,Object.defineProperty(Map.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return r.Sealant.toMutable(this)}}),Object.defineProperty(Map.prototype,r.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},949:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SealedSet=void 0;const r=n(281);class i extends Set{add(e){throw r.Sealant.error(this)}clear(){throw r.Sealant.error(this)}delete(e){throw r.Sealant.error(this)}[r.Sealant.CreateCopy](){return new Set(this.values())}}t.SealedSet=i,Object.defineProperty(Set.prototype,"toMutable",{configurable:!1,enumerable:!1,value(){return r.Sealant.toMutable(this)}}),Object.defineProperty(Set.prototype,r.Sealant.SealedType,{value:i.prototype,configurable:!1,enumerable:!1,writable:!1})},971:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.pause=t.all=t.UNDEF=t.Utils=void 0;function r(...e){throw new Error("this method should never be called")}t.Utils=class{static freezeSet(e){if(e instanceof Set){const t={configurable:!1,enumerable:!1,get:r,set:r};Object.defineProperty(e,"add",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}}static freezeMap(e){if(e instanceof Map){const t={configurable:!1,enumerable:!1,get:r,set:r};Object.defineProperty(e,"set",t),Object.defineProperty(e,"delete",t),Object.defineProperty(e,"clear",t),Object.freeze(e)}}static copyAllMembers(e,t){for(const n of Object.getOwnPropertyNames(e))t[n]=e[n];for(const n of Object.getOwnPropertySymbols(e))t[n]=e[n];return t}},t.UNDEF=r,t.all=function(e){return n(this,void 0,void 0,(function*(){let t;const n=yield Promise.all(e.map((e=>e.catch((e=>(t=t||e,e))))));if(t)throw t;return n}))},t.pause=function(e){return new Promise((function(t){setTimeout(t.bind(null,(()=>t)),e)}))}}}]);